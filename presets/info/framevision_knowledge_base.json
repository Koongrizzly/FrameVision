{
  "FrameVisionKnowledgeBase": {
    "Overview": {
      "key_terms": [
        "FrameVision",
        "all-in-one video & photo upscaler/editor",
        "tabs",
        "workflow",
        "install",
        "Windows CPU/GPU PySide6",
        "modular design",
        "tidy caches",
        "binaries inside app folder",
        "create videos",
        "music player with visuals",
        "sound tools",
        "videoclip creator",
        "AI describe",
        "RIFE interpolation",
        "thumbnail/meme creator"
      ],
      "description": "FrameVision is a <b>local, all‚Äëin‚Äëone</b> toolbox for <b>creating, editing, and upscaling</b> both <b>images and videos</b>.<br><br>It‚Äôs built around a simple workflow: <b>open media in the left viewer ‚Üí pick a task tab on the right ‚Üí run (or queue) ‚Üí browse results</b>.<br><br>Besides classic upscaling and editing, FrameVision also includes:<br><ul><li>a <b>music player</b> with <b>hundreds of built‚Äëin visuals</b> (250+ in recent builds) and an optional beat/energy pre‚Äëanalysis</li><li><b>sound tools</b> (speed change with sync, add/mix audio, quality/size control, GIF export, trims, frame extract)</li><li>a <b>Music Videoclip Creator</b> (beat‚Äëmatched automatic editing + optional timeline control)</li><li>AI <b>Describe</b> (captioning / prompt generation) and <b>RIFE</b> interpolation for smoother motion</li><li>handy creators like <b>Thumbnail/Meme</b>.</li></ul><br><br>Everything runs on your machine (Windows‚Äëfirst), with a background worker to keep the UI responsive. It‚Äôs also a <b>safety layer</b>: jobs keep running inside the worker even if FrameVision is closed, restarted, or crashes. Jobs only stop when you close the <b>worker window itself</b>, or when a broken job crashes the worker (for example: missing model files or invalid commands).",
      "hints_tips": [
        "Use the resizable layout by dragging the splitter to adjust player and tabs.",
        "Tooltips are available on every feature for guidance.",
        "Start with 'start.bat' for easy entry; it handles setup if needed.",
        "The document is a living guide, so features may evolve."
      ],
      "qa_pairs": [
        {
          "question": "What is FrameVision?",
          "answer": "FrameVision is a local all‚Äëin‚Äëone app to create, edit, and upscale images/videos‚Äîplus a music player with hundreds of visuals, sound tools, a beat‚Äëmatched videoclip creator, AI Describe, and RIFE interpolation."
        },
        {
          "question": "How do I start using FrameVision?",
          "answer": "Run 'start.bat'‚Äîit opens the installer if not set up, self-heals minor issues, and starts the app."
        },
        {
          "question": "What platforms does FrameVision support?",
          "answer": "Primarily Windows; code runs on Linux/WSL2, with easier GPU setup for Qwen3-VL-2B."
        },
        {
          "question": "What else is included besides upscaling?",
          "answer": "A built‚Äëin multimedia player, music player with beat‚Äëreactive visuals, sound tools (speed/audio/quality), a beat‚Äëmatched Music Videoclip Creator, AI Describe (captioning/prompting), and RIFE interpolation."
        }
      ],
      "overview": "FrameVision is a <b>local, all‚Äëin‚Äëone</b> toolbox for <b>creating, editing, and upscaling</b> both <b>images and videos</b>.<br><br>It‚Äôs built around a simple workflow: <b>open media in the left viewer ‚Üí pick a task tab on the right ‚Üí run (or queue) ‚Üí browse results</b>.<br><br>Besides classic upscaling and editing, FrameVision also includes:<br><ul><li>a <b>music player</b> with <b>hundreds of built‚Äëin visuals</b> (250+ in recent builds) and an optional beat/energy pre‚Äëanalysis</li><li><b>sound tools</b> (speed change with sync, add/mix audio, quality/size control, GIF export, trims, frame extract)</li><li>a <b>Music Videoclip Creator</b> (beat‚Äëmatched automatic editing + optional timeline control)</li><li>AI <b>Describe</b> (captioning / prompt generation) and <b>RIFE</b> interpolation for smoother motion</li><li>handy creators like <b>Thumbnail/Meme</b>.</li></ul><br><br>Everything runs on your machine (Windows‚Äëfirst), with a background worker to keep the UI responsive. It‚Äôs also a <b>safety layer</b>: jobs keep running inside the worker even if FrameVision is closed, restarted, or crashes. Jobs only stop when you close the <b>worker window itself</b>, or when a broken job crashes the worker (for example: missing model files or invalid commands).",
      "features": [
        "Key term: FrameVision",
        "Key term: all-in-one video & photo upscaler/editor",
        "Key term: tabs",
        "Key term: workflow",
        "Key term: install",
        "Key term: Windows CPU/GPU PySide6",
        "Key term: modular design",
        "Key term: tidy caches",
        "Key term: binaries inside app folder"
      ],
      "install": [
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "_layout": "overview/features/install/troubleshoot"
    },
    "Did_You_Know": {
      "description": "Tips, tricks, and first‚Äëtime‚Äëuse advice to help you get the most out of FrameVision.",
      "overview": "A grab‚Äëbag of helpful shortcuts, hidden features, and practical advice‚Äîespecially useful on your first days with the app.<br><br>",
      "key_terms": [
        "Did you know",
        "easter egg",
        "Use low memory (streaming)",
        "Use current",
        "View results",
        "Media Explorer",
        "Optional downloads",
        "Enable diagnostics logging",
        "Clean finished results",
        "RIFE",
        "HunyuanVideo 1.5",
        "System Monitor HUD"
      ],
      "hints_tips": [
        "On the opening screen, quickly click anywhere <b>4√ó</b> to trigger a hidden easter egg.",
        "Use the app over time to unlock more easter eggs. (Cheat code: leave the app open overnight.)",
        "Image upscaling is usually fast (especially the <b>Anime</b> upscalers). Video upscaling is slower and can use a lot of memory ‚Äî enable the <b>Use low memory (streaming)</b> toggle for longer videos. It‚Äôs slower, but safer.",
        "<b>RIFE</b> has two main speed modes: <b>Slow (CPU)</b> and <b>Superfast (GPU)</b>. Slow can look a bit cleaner; Superfast is great for previews. The <b>4K preset + Superfast</b> combo is often ‚Äúgood enough‚Äù.",
        "Many tools include <b>Use current</b>. It grabs the exact frame currently shown in the Media Player (or the currently loaded image) at the moment you click it.",
        "Most tools also have a <b>View results</b> button. It opens Media Explorer on that tool‚Äôs last output folder, scans it, and lets you preview results and inspect JSON sidecars.",
        "Known quirk: in this Knowledge Base version, <b>Trim Tool ‚Üí Preview</b> may freeze the UI while thumbnails load (especially with 50+ preview thumbs). Wait a few seconds ‚Äî it should recover once the preview is ready.",
        "You can reorder tabs or tools to fit your workflow. Find more toggles like this in the <b>Settings</b> tab.",
        "Don‚Äôt leave <b>Enable diagnostics logging</b> on unless you need it ‚Äî logs can grow endlessly and may slow down video playback and beat‚Äësynced music visuals.",
        "If video playback stutters and the Queue tab toggles (pause refresh while video is playing / auto cleanup queue) don‚Äôt help, use <b>Queue ‚Üí Clean finished results</b> to clear old items manually.",
        "You can change the intro screen with your own images, add them in (root) /presets/startup/",
        "On first install, many AI models won‚Äôt be downloaded yet. You can install them from the <b>Optional downloads</b> menu.",
        "Some model downloads are huge and can look ‚Äústuck‚Äù on slower connections ‚Äî check the <b>System Monitor HUD</b> at the top to confirm download speed/activity.",
        "<b>Hunyuan 1.5</b> can download new variants directly inside the tab and shows almost no logging. That‚Äôs normal ‚Äî let it run, and watch the HUD to confirm it‚Äôs still downloading."
      ],
      "_layout": "overview/hints_tips"
    },
    "Ace_Music_creation": {
      "description": "Generate music locally using the ACE-Step model. Supports <b>text ‚Üí music</b> and optional <b>audio ‚Üí audio</b> guidance via a reference track. Runs ACE in its own dedicated environment to avoid dependency conflicts, then saves a <code>.wav</code> to your output folder.",
      "key_terms": [
        "ACE-Step",
        ".ace_env/ACE-Step",
        "Optional downloads ‚Üí Ace step music",
        "presets/setsave/ace.json",
        "presets/setsave/ace/presets/ace_presets.json",
        "framevision_ace_runner.py",
        "text ‚Üí music",
        "audio ‚Üí audio (reference track)",
        "Reference influence",
        "Guidance scale / Text guidance / Lyric guidance",
        "Scheduler (euler/ddim/heun)",
        "CFG type (apg/vanilla)",
        "Seed (0=random)",
        "Output: output/ace",
        "Output name: track_seed_preset.wav",
        "Advanced: omega scale, guidance interval/decay, ERG toggles, OSS steps",
        "CUDA_VISIBLE_DEVICES (device_id)"
      ],
      "overview": "Ace Music Creation is a simple ‚Äúmake a track‚Äù tool powered by <b>ACE‚ÄëStep</b>. You describe the style (genre, BPM, mood, key sounds), optionally paste lyrics, and FrameVision generates a <code>.wav</code> file into your chosen output folder.<br><br><b>Modes</b><br><ul><li><b>Text ‚Üí music:</b> Leave <b>Reference track</b> empty. Use tags + (optional) lyrics.</li><li><b>Audio ‚Üí audio:</b> Pick a <b>Reference track</b>. ACE keeps parts of its groove/energy/structure; use <b>Reference influence</b> to choose how close it stays.</li></ul><br><b>Presets &amp; favorites</b><br>Presets are stored in <code>presets/setsave/ace/presets/ace_presets.json</code>. Use the <b>Genre</b> filter to narrow the list. Right‚Äëclick a preset to toggle it as a favorite (‚òÖ). Favorites always float to the top, even in the <b>All</b> view.<br><br><b>Lyrics</b><br>Lyrics are optional. Use <code>[verse]</code>/<code>[chorus]</code> tags, or write <code>[instrumental]</code> (or <code>[inst]</code>) to force an instrumental track.<br><br><b>Queue behavior</b><br>When available, Ace jobs are enqueued into the background worker (see the <b>Queue</b> tab). If queue enqueue fails, Ace runs locally inside the UI via a worker thread as a fallback.<br><br><b>Where results go</b><br>Default output is <code>output/ace</code>. Filenames are made descriptive: <code>&lt;track_name&gt;_&lt;seed&gt;_&lt;preset&gt;.wav</code> (track name/preset are slugified). Use <b>View results</b> to open the exact folder in Media Explorer and scan for the new file.",
      "features": [
        "Text ‚Üí music with prompt/tags, negative tags, and optional lyrics.",
        "Audio ‚Üí audio guidance via an optional reference track + influence slider.",
        "Preset system with genre filter + right‚Äëclick favorites (‚òÖ).",
        "Reproducible generations via seed (0 = random).",
        "Fine‚Äëtuning controls: steps, guidance, scheduler, CFG type.",
        "Advanced diffusion/ERG controls (omega scale, guidance interval/decay, ERG toggles, OSS steps).",
        "Runs ACE-Step in a dedicated env to avoid dependency conflicts with the main app.",
        "One‚Äëclick actions: Generate Music, Play last result, View results (Media Explorer)."
      ],
      "qa_pairs": [
        {
          "question": "Do I need to install anything before using Ace?",
          "answer": "Yes ‚Äî install the optional model bundle: <b>Optional downloads ‚Üí Ace step music</b>. The tool checks for <code>.ace_env/ACE-Step</code> (or the legacy location) before starting."
        },
        {
          "question": "Where are my tracks saved?",
          "answer": "By default to <code>output/ace</code> (relative to the FrameVision root). You can change this in <b>Output folder</b>."
        },
        {
          "question": "How do I make an instrumental track?",
          "answer": "In the Lyrics box, type <code>[instrumental]</code> or <code>[inst]</code>. You can also leave lyrics empty for instrumental‚Äëleaning results."
        },
        {
          "question": "How do I use a reference track (audio ‚Üí audio)?",
          "answer": "Set <b>Reference track</b> to a .wav/.mp3/.flac/.ogg. Then set <b>Reference influence</b>: low values keep only a hint of the groove; high values stay much closer to the reference."
        },
        {
          "question": "What seed should I use?",
          "answer": "<b>Seed = 0</b> gives a new random result each run. Set a specific number to reproduce a track (same prompt/settings + seed ‚Üí very similar results)."
        },
        {
          "question": "Why does Ace run in a separate environment?",
          "answer": "ACE-Step depends on its own diffusers stack that may conflict with FrameVision‚Äôs main environment. FrameVision spawns a small helper runner inside the ACE env to keep things stable."
        },
        {
          "question": "How do favorites work?",
          "answer": "Right‚Äëclick a preset to toggle favorite. Favorites are stored in <code>presets/setsave/ace/presets/ace_presets.json</code> and always appear at the top of the list."
        },
        {
          "question": "My result is too ‚Äústrict‚Äù or too ‚Äúrandom‚Äù ‚Äî what should I change first?",
          "answer": "Try <b>Guidance scale</b> first (lower = more free/natural, higher = more literal). If needed, adjust <b>Steps</b> (higher = more stable/detail, slower) and <b>Guidance interval/decay</b> in Advanced."
        }
      ],
      "hints_tips": [
        "Write prompts like: <i>genre, BPM, mood, key sounds, vocal type</i> (for example: ‚Äúelectronic, club, 128 BPM, punchy kick, sidechained bass, bright hats, english female vocal‚Äù).",
        "Start with defaults: Steps ~60, Guidance ~15, Scheduler=euler, CFG type=apg.",
        "If vocals are messy: add negative tags (off‚Äëkey vocals, harsh distortion, noisy artifacts) and consider lowering Guidance slightly.",
        "If results feel bland: raise Steps a bit (e.g., 70‚Äì90) or increase Text guidance; if they feel forced, lower Guidance scale.",
        "Reference track is strongest when you feed a clean stem/loop rather than a fully mastered song; start at ~50% influence and adjust.",
        "Use <b>Play last result</b> to send the newest track to the main player.",
        "Use <b>View results</b> when you‚Äôre unsure where outputs went ‚Äî it opens the actual output folder in Media Explorer."
      ],
      "controls": [
        "Control: Generate Music ‚Äî button. Does: Start ACE-Step generation (queue if available; otherwise runs locally).",
        "Control: Play last result ‚Äî button. Does: Load the most recent generated track into the main player.",
        "Control: View results ‚Äî button. Does: Open the ACE output folder in Media Explorer and scan for results.",
        "Control: Status ‚Äî label. Does: Shows progress messages and any errors from ACE-Step.",
        "Control: Lyrics ‚Äî text box. Does: Optional lyrics with [verse]/[chorus] tags; use [instrumental]/[inst] for instrumentals.",
        "Control: Genre ‚Äî dropdown. Does: Filter the preset list (All/EDM/Rock/Hiphop-RnB/Other).",
        "Control: Presets ‚Äî list. Does: Select a preset to fill tags; right‚Äëclick to toggle favorite (‚òÖ).",
        "Control: Prompt / Tags ‚Äî text box. Does: Describe style, tempo, mood, and key sound design clues.",
        "Control: Track name (optional) ‚Äî text box. Does: Used in output filename (<code>track_seed_preset.wav</code>).",
        "Control: Negative tags (optional) ‚Äî text box. Does: Describe what to avoid (unwanted instruments/moods/artifacts).",
        "Control: Reference track (optional) ‚Äî path + Browse. Does: Enables audio‚Üíaudio guidance from a reference song/stem.",
        "Control: Reference influence ‚Äî slider (0‚Äì100%). Does: 0% ignores reference; 100% stays very close to it.",
        "Control: Duration ‚Äî spinbox (10‚Äì240s). Does: Target track length (longer = more VRAM/time).",
        "Control: Steps ‚Äî spinbox (10‚Äì120). Does: Diffusion steps (higher = more detail/stability, slower).",
        "Control: Guidance scale ‚Äî spinbox (0‚Äì30). Does: Global guidance strength; higher follows text more exactly.",
        "Control: Text guidance ‚Äî spinbox (0‚Äì10). Does: How strongly ACE follows the prompt/tags specifically.",
        "Control: Lyric guidance ‚Äî spinbox (0‚Äì10). Does: How tightly audio follows lyric rhythm/phrasing.",
        "Control: Scheduler ‚Äî dropdown (euler/ddim/heun). Does: Sampler/scheduler used during diffusion.",
        "Control: CFG type ‚Äî dropdown (apg/vanilla). Does: Guidance algorithm; apg recommended for ACE.",
        "Control: Seed ‚Äî spinbox (0=random). Does: Reproducibility control.",
        "Control: Output folder ‚Äî text box. Does: Where to save the generated .wav (relative to FrameVision root).",
        "Control: Advanced settings ‚Äî section. Does: Fine-tune diffusion/ERG behaviour (leave defaults if unsure).",
        "Control: Omega scale ‚Äî spinbox. Does: Balances randomness vs structure (higher can be more experimental).",
        "Control: Min guidance ‚Äî spinbox. Does: Minimum guidance used when guidance decays over time.",
        "Control: Guidance interval ‚Äî spinbox. Does: How often ACE re-applies guidance (lower=tighter, higher=looser).",
        "Control: Guidance decay ‚Äî spinbox. Does: Decay factor over time (0=constant guidance).",
        "Control: ERG on tags ‚Äî checkbox. Does: Use ERG when interpreting style/tag text.",
        "Control: ERG on lyrics ‚Äî checkbox. Does: Use ERG to align audio to lyric rhythm.",
        "Control: ERG on diffusion ‚Äî checkbox. Does: Embed ERG signals into diffusion for tighter grooves.",
        "Control: OSS steps ‚Äî text box. Does: Experimental comma-separated step overrides."
      ],
      "install": [
        "Install the model bundle via <b>Optional downloads ‚Üí Ace step music</b>. This installs the dedicated ACE environment under <code>.ace_env/ACE-Step</code> (or the legacy location <code>presets/extra_env/.ace_env/ACE-Step</code>).",
        "Ace intentionally runs in its own environment because ACE-Step uses a different <code>diffusers</code> stack than the main app (this avoids conflicts).",
        "Ace settings persist to <code>presets/setsave/ace.json</code>. Presets and favorites live at <code>presets/setsave/ace/presets/ace_presets.json</code>.",
        "Default output folder is <code>output/ace</code> (relative to the app root)."
      ],
      "troubleshoot": [
        "If you see ‚ÄúModels are not installed yet‚Ä¶‚Äù: open Optional downloads and install <b>Ace step music</b> (the tool looks for <code>.ace_env/ACE-Step</code> or the legacy folder).",
        "If you see ‚ÄúACE env python not found‚Äù: the ACE venv is missing/broken. Reinstall the optional ACE bundle so <code>.ace_env/Scripts/python.exe</code> exists (Windows) or <code>.ace_env/bin/python</code> (Linux/macOS).",
        "If you see ‚ÄúACE runner script not found‚Äù: verify <code>framevision_ace_runner.py</code> exists inside the ACE-Step folder.",
        "If generation fails with a long error: check the tail of the printed stderr (ACE runner error output is appended).",
        "If your output folder seems empty: click <b>View results</b> ‚Äî it opens the exact folder being used and triggers a Media Explorer scan.",
        "If you hit VRAM/OOM: shorten Duration, lower Steps, and avoid running other VRAM-heavy tools at the same time. (CPU offload/overlapped decode/device selection are handled by config keys and may exist in advanced builds.)",
        "If results are too close to the reference: reduce <b>Reference influence</b>. If they ignore the reference: raise it (and ensure the path is valid)."
      ],
      "_layout": "overview/features/install/troubleshoot"
    },
    "Add_text_to_video": {
      "description": "Add text overlays to any video and export a new MP4 with the text <b>burned in</b>. Create unlimited text items, preview them live on the player (drag to move), and control timing with a visual timeline (start/duration + fades).",
      "key_terms": [
        "VideoText (beta)",
        "Add text to video",
        "Text overlays",
        "drawtext",
        "FFmpeg",
        "fonts (.ttf/.otf/.ttc)",
        "anchor",
        "X/Y offset",
        "start/duration",
        "fade in/out",
        "timeline zoom",
        "preview",
        "Use Big Player",
        "Export with Text"
      ],
      "overview": "Use <b>Add text to video</b> to place one or more text overlays on top of a video and export a new file with the text rendered into the video frames (FFmpeg <code>drawtext</code>).<br><br><b>Quick start</b><br>1) Click <b>Open Video‚Ä¶</b> and load a local video file.<br>2) Click <b>Add</b> to create a new overlay (you can have unlimited overlays).<br>3) Edit the overlay: <b>Text</b>, <b>Font</b>, <b>Size</b>, <b>Color‚Ä¶</b>, and choose an <b>Anchor</b> + <b>X/Y</b> offset.<br>4) Set timing: <b>Start (s)</b>, <b>Duration (s)</b>, optional <b>Fade in/out (s)</b>. Use <b>Start = current</b> / <b>End = current</b> while playing to mark points quickly.<br>5) Preview: drag the text directly on the video to reposition it (or use X/Y). Use <b>Timeline zoom</b> to zoom in for precise timing.<br>6) Click <b>Export with Text‚Ä¶</b> to write a new MP4 (audio is copied, video is re-encoded).<br><br><b>Preview vs Export</b><br>Preview draws overlays on top of the player while you edit. Export permanently bakes the overlays into the new video file.",
      "features": [
        "Unlimited text overlays: add, duplicate, delete, and reorder (‚Üë / ‚Üì).",
        "Per-overlay timing: Start + Duration plus Fade-in/Fade-out for smooth entrances/exits.",
        "Positioning with Anchors (corners/center) plus X/Y offsets; drag overlays directly in the preview.",
        "Timeline editor with zoom + scroll for quick visual timing adjustments.",
        "Optional ‚ÄúAlways show overlays in preview‚Äù to see everything even outside its active time window.",
        "Export via FFmpeg drawtext to MP4 (H.264 libx264, CRF 18, preset medium); copies original audio stream."
      ],
      "hints_tips": [
        "If export complains about fonts, set <b>Font file ‚Üí Browse‚Ä¶</b> and pick a .ttf/.otf for each overlay (Windows may auto-guess, but Browse is the reliable option).",
        "Use <b>Anchor</b> for placement first (e.g., Bottom Center), then fine-tune with <b>X/Y</b> so your offsets stay predictable when you change resolution.",
        "For subtitle-style text, create multiple overlays with short durations instead of one long overlay you keep editing.",
        "If you only want to line up timing, enable <b>Always show overlays in preview</b> so you can see and select overlays even when the playhead is elsewhere.",
        "Use <b>Timeline zoom</b> to zoom in for word-perfect timing, especially when fades are small (e.g., 0.10‚Äì0.25s)."
      ],
      "qa_pairs": [
        {
          "question": "Does this change my original video?",
          "answer": "No. Export creates a new MP4. Your source file is left untouched."
        },
        {
          "question": "Why does Export say ‚ÄúPick a font file‚Ä¶‚Äù?",
          "answer": "FFmpeg needs a real font file path for drawtext. For each overlay, set <b>Font file ‚Üí Browse‚Ä¶</b> and choose a .ttf/.otf/.ttc. (On Windows, FrameVision may try to auto-guess a font file from the font name, but Browse is the most reliable.)"
        },
        {
          "question": "Can I add more than one text item?",
          "answer": "Yes‚Äîclick <b>Add</b> to create as many overlays as you want. Use <b>Duplicate</b> to clone a style and only change text/timing."
        },
        {
          "question": "How do I position the text precisely?",
          "answer": "Pick an <b>Anchor</b> (Top/Center/Bottom + Left/Center/Right) then adjust <b>X</b>/<b>Y</b>. You can also drag the text directly in the preview; FrameVision updates the offsets for you."
        },
        {
          "question": "What do Start = current / End = current do?",
          "answer": "They set timing using the current playback position: <b>Start = current</b> sets the overlay start time; <b>End = current</b> sets the overlay end (updates Duration). <b>Seek to start</b> jumps playback back to the overlay‚Äôs start."
        },
        {
          "question": "Will my audio stay in sync?",
          "answer": "Export keeps the original audio stream (<code>-c:a copy</code>), so audio stays identical to the source. Only the video is re-encoded with the text."
        },
        {
          "question": "Where is FFmpeg expected to be?",
          "answer": "FrameVision first looks in <code>/presets/bin/</code> (bundled), then falls back to FFmpeg on your system PATH. If neither is found, export is disabled with an error."
        }
      ],
      "controls": [
        "Open Video‚Ä¶",
        "Play/Pause",
        "Stop",
        "Hide Preview / Show Preview",
        "Use Big Player / Use Tab Preview",
        "Overlays list",
        "Add",
        "Duplicate",
        "Delete",
        "‚Üë",
        "‚Üì",
        "Enabled",
        "Text",
        "Font",
        "Size",
        "Color‚Ä¶",
        "Font file",
        "Browse‚Ä¶",
        "Anchor",
        "X",
        "Y",
        "Start (s)",
        "Duration (s)",
        "Fade in (s)",
        "Fade out (s)",
        "Start = current",
        "End = current",
        "Seek to start",
        "Always show overlays in preview",
        "Timeline zoom",
        "Export with Text‚Ä¶"
      ],
      "install": [
        "No AI models required. This tool is UI-only plus FFmpeg for export.",
        "Export requires FFmpeg: preferred location is <code>/presets/bin/ffmpeg</code> (bundled). It can also use FFmpeg from your system PATH.",
        "Fonts: export requires a real font file (.ttf/.otf/.ttc) per overlay. Use <b>Font file ‚Üí Browse‚Ä¶</b> to pick one."
      ],
      "troubleshoot": [
        "Text doesn‚Äôt show in preview: make sure <b>Hide Preview</b> is not enabled, the overlay is <b>Enabled</b>, and the overlay has non-empty text.",
        "Text shows but export doesn‚Äôt: check the Export warning‚Äîmost commonly it needs a <b>Font file</b> or FFmpeg can‚Äôt be found.",
        "Text appears off-screen: reset placement by choosing a different <b>Anchor</b> (e.g., Center) and bring X/Y offsets closer to 0.",
        "Export is slow: export re-encodes video (H.264). Long videos or high resolutions will take time‚Äîtest with a short clip first."
      ],
      "_layout": "overview/features/install/troubleshoot"
    },
    "Ask_framie": {
      "description": "<b>Ask (Framie)</b> is an <b>offline</b> mini‚Äëchatbot built into FrameVision. It can answer basic questions, guide you through workflows, and‚Äîwhen you attach an image‚Äî<b>describe what it sees</b> and point out details.<br><br><b>What it can ‚Äúsee‚Äù:</b><br><ul><li>The <b>current preview frame</b> from the player (optional attach).</li><li>A <b>screenshot</b> region (Windows global snip, or in‚Äëapp region picker fallback).</li></ul><br><br><b>What it can‚Äôt do:</b><br><ul><li>No online knowledge or browsing‚Äîresponses are generated from <b>local models + local app info</b> only.</li></ul><br><br>",
      "overview": "Open <b>Ask</b> to chat with <b>Framie</b>, FrameVision‚Äôs offline assistant. Use it like a lightweight help desk: ask how to do something in the app, request step‚Äëby‚Äëstep troubleshooting, or attach the current frame / a screenshot and ask ‚Äúwhat is this?‚Äù or ‚Äúwhy does this look wrong?‚Äù<br><br><b>Core idea:</b> text chat + optional image attachment (frame/screenshot) for grounded answers.<br><br>",
      "key_terms": [
        "Ask",
        "Framie",
        "offline chatbot",
        "AskPopup",
        "Attach current frame",
        "Auto ‚Äòthis frame‚Äô image",
        "Screenshot",
        "Stream",
        "Enter sends message",
        "Greeting",
        "Mode",
        "Coach",
        "Power User",
        "ELI5",
        "Bug hunt",
        "Backend",
        "Transformers (VL)",
        "llama.cpp (GGUF)",
        "Device auto/cpu/cuda",
        "Preset Tiny (Q4)",
        "Preset Balanced (Q5)",
        "Preset Quality (Q8)",
        "GGUF path",
        "Tools menu",
        "Analyze Clip‚Ä¶ (ffprobe)",
        "Dry-run Export‚Ä¶ (ffmpeg null)",
        "Apply last ffmpeg‚Ä¶",
        "Select llama binary‚Ä¶",
        "Pinned",
        "prefs.json",
        "pins.json",
        "/joke",
        "/info",
        "/reloadlocal"
      ],
      "features": [
        "Offline assistant embedded in the app UI (no internet required).",
        "Optional image grounding: Attach current frame or take a Screenshot and ask questions about it.",
        "Modes to shape the answer style: Coach, Power User, ELI5, Bug hunt.",
        "Greeting tone selector: Professional / Casual / Playful.",
        "Two backends: Transformers (VL) for vision‚Äëlanguage, or llama.cpp (GGUF) for local GGUF models.",
        "Quality/latency controls: Stream tokens, Temp (creativity), and Max tokens.",
        "Convenience: Pinned replies for re‚Äëuse, and ‚ÄúApply last ffmpeg‚Ä¶‚Äù to copy an ffmpeg command from the last answer."
      ],
      "hints_tips": [
        "If you want Framie to comment on what you‚Äôre looking at, enable Attach current frame (or keep Auto ‚Äòthis frame‚Äô enabled) and ask about ‚Äúthis frame‚Äù.",
        "Use Screenshot when the thing you want to ask about isn‚Äôt in the video player (e.g., an error dialog).",
        "If you often reuse the same troubleshooting checklist or ffmpeg command, click üìå Pin last so you can insert it later via üìÇ Pinned.",
        "For faster chatting, enable Enter sends message (Shift+Enter makes a newline).",
        "If the answer is too long or slow, lower Max and/or reduce Temp."
      ],
      "qa_pairs": [
        {
          "question": "What is Ask / Framie?",
          "answer": "Ask is FrameVision‚Äôs built‚Äëin offline assistant (Framie). It can answer questions about the app and, when you attach an image, describe what it sees and help you troubleshoot visually."
        },
        {
          "question": "Is Framie online? Does it browse the internet?",
          "answer": "No. Ask runs from local models and local app files. It does not browse the web or pull online knowledge."
        },
        {
          "question": "How do I attach the current frame?",
          "answer": "Enable Attach current frame to include the current preview frame with your next message. Framie can then ground its answer in what‚Äôs visible."
        },
        {
          "question": "What does ‚ÄúAuto ‚Äòthis frame‚Äô image (‚â§1024px)‚Äù do?",
          "answer": "When enabled, Framie will automatically attach a downscaled snapshot of the current frame if your message includes phrases like ‚Äúthis frame / current frame / this image‚Äù."
        },
        {
          "question": "How does Screenshot work?",
          "answer": "Click Screenshot, choose a delay, then select a region. On Windows it uses the native snipping UI when available; otherwise it falls back to an in‚Äëapp region picker. The captured image is queued for your next question."
        },
        {
          "question": "What are the modes (Coach / Power User / ELI5 / Bug hunt)?",
          "answer": "Modes change how Framie responds: Coach = step‚Äëby‚Äëstep and encouraging; Power User = terse and command‚Äëlike; ELI5 = simple words; Bug hunt = ask for logs and narrow down causes."
        },
        {
          "question": "What‚Äôs the difference between Transformers (VL) and llama.cpp (GGUF)?",
          "answer": "Transformers (VL) is the default vision‚Äëlanguage backend that supports answering with an attached image. llama.cpp (GGUF) runs a local GGUF text model via a llama.cpp binary (great for text help, not image vision)."
        },
        {
          "question": "What does Device (auto/cpu/cuda) control?",
          "answer": "It chooses where the model runs: auto picks CUDA if available, otherwise CPU; cpu forces CPU; cuda forces GPU (if available)."
        },
        {
          "question": "What do Tiny (Q4) / Balanced (Q5) / Quality (Q8) presets do?",
          "answer": "They‚Äôre llama.cpp quality presets that trade speed/VRAM for quality when using GGUF models."
        },
        {
          "question": "What does Stream do?",
          "answer": "Streams tokens as they generate so the response starts appearing sooner (lower perceived latency)."
        },
        {
          "question": "What are ‚ÄúAnalyze Clip‚Ä¶‚Äù and ‚ÄúDry-run Export‚Ä¶‚Äù in Tools?",
          "answer": "Analyze Clip runs ffprobe and prints a JSON report. Dry‚Äërun Export runs a 1‚Äësecond ffmpeg null export to surface codec/decoder errors quickly."
        },
        {
          "question": "How do Pins work?",
          "answer": "Use üìå Pin last to store the last assistant reply. Use üìÇ Pinned to insert a pinned snippet back into the input box."
        },
        {
          "question": "Are there any built-in chat commands?",
          "answer": "Yes: /joke (a local dad joke), /info (local app info/help text), and /reloadlocal (reload the local joke/help files)."
        }
      ],
      "controls": [
        "Greeting (Professional / Casual / Playful)",
        "Mode (Coach / Power User / ELI5 / Bug hunt)",
        "Auto ‚Äòthis frame‚Äô image (‚â§1024px)",
        "üìå Pin last",
        "üìÇ Pinned",
        "Temp",
        "Max",
        "Backend (Transformers (VL) / llama.cpp (GGUF))",
        "Device (auto / cpu / cuda)",
        "Preset (Tiny (Q4) / Balanced (Q5) / Quality (Q8))",
        "GGUF path",
        "System prompt (editable)",
        "Attach current frame",
        "Stream",
        "Enter sends message",
        "Screenshot",
        "Reset",
        "Close",
        "Send",
        "Tools ‚Üí Analyze Clip‚Ä¶",
        "Tools ‚Üí Dry-run Export‚Ä¶",
        "Tools ‚Üí Apply last ffmpeg‚Ä¶",
        "Tools ‚Üí Select llama binary‚Ä¶"
      ],
      "install": [
        "Ask is designed to run <b>offline</b>. The default vision backend loads from a local model folder: <code>models/describe/default/qwen3vl2b</code>.",
        "For <b>llama.cpp (GGUF)</b>: set a GGUF model path and select a llama.cpp binary (Tools ‚Üí Select llama binary‚Ä¶) or ensure <code>llama</code>/<code>llama-cli</code> is on PATH.",
        "Screenshot tools prefer app‚Äëlocal FFmpeg/ffprobe binaries when available."
      ],
      "troubleshoot": [
        "If <b>Attach current frame</b> says no frame is available: make sure a video/image is loaded and visible in the player; try pausing on a frame.",
        "If <b>Auto ‚Äòthis frame‚Äô</b> doesn‚Äôt attach: include phrases like ‚Äúthis frame‚Äù or enable <b>Attach current frame</b> manually.",
        "If Screenshot returns black/empty: try the native snip again, or use the in‚Äëapp region picker; Framie skips obviously black captures.",
        "If llama.cpp says binary not found: set it via Tools ‚Üí Select llama binary‚Ä¶ or add it to PATH.",
        "If answers are too long/slow: reduce <b>Max</b> tokens; disable <b>Stream</b> if you prefer a single final answer."
      ],
      "_layout": "overview/features/install/troubleshoot"
    },
    "Background_Remover": {
      "description": "Remove image backgrounds locally (no cloud) and save a transparent cutout (PNG) or the raw mask. Includes brush touch‚Äëups, preview background modes, and optional background replacement + subject scaling.",
      "key_terms": [
        "Background Remover",
        "BgRemovePane",
        "BiRefNet",
        "MODNet",
        "ONNX",
        "models/bg/",
        "output/images/rm_backgrounds",
        "cutout PNG (transparent)",
        "mask / matte",
        "Brush mode",
        "Undo (10)",
        "Cutoff",
        "Gamma",
        "Feather",
        "Shrink/Grow",
        "Preview BG checker/white/black/color",
        "Add background",
        "Change subject size",
        "Use current",
        "View results"
      ],
      "overview": "Background Remover is a <b>local</b> cutout tool: it turns an image into a <b>transparent subject PNG</b> plus an optional <b>mask</b>.<br><br><b>Typical workflow:</b><br><ol><li><b>Open image</b> (or use <b>Use current</b> in the Tools tab to grab the current frame).</li><li>Pick a <b>Model</b> (MODNet for portraits/fast; BiRefNet for general objects/cleaner edges).</li><li>Click <b>Remove background</b>.</li><li>Refine edges with <b>Cutoff/Gamma/Feather/Shrink-Grow</b>, and do manual touch‚Äëups in <b>Brush</b> mode.</li><li>Optional: click <b>Add background</b> to composite a new background behind the cutout, then use <b>Change subject size</b> to scale/move the subject relative to that background.</li><li>Save with <b>Save PNG</b> (transparent cutout or composited result) and/or <b>Save mask</b>.</li></ol><br><b>Where results go:</b> files auto‚Äësave to the last used folder, otherwise to <code>output/images/rm_backgrounds</code>. Filenames are unique and end with a timestamp.",
      "features": [
        "Two matting models: <b>MODNet (portraits, fast)</b> and <b>BiRefNet (general objects, slow)</b>.",
        "Side‚Äëby‚Äëside previews: <b>Original</b> and <b>Result</b>, with synced pan/zoom and a Fit button.",
        "Edge tuning controls: <b>Cutoff</b> (foreground threshold), <b>Gamma</b> (edge shaping), <b>Feather</b> (soften), <b>Shrink/Grow</b> (tighten/expand matte).",
        "Manual mask editing: <b>Brush</b> mode with Left‚Äëdrag (remove) and Right‚Äëdrag (restore), plus <b>Undo</b> (up to 10 strokes).",
        "Preview background modes: checker, white, black, or a custom color (helps spot fringe).",
        "Optional background replacement: <b>Add background</b> places a new image behind the cutout (center‚Äëcrop cover).",
        "Subject scaling & positioning: <b>Change subject size</b> repurposes the mouse wheel to scale the cutout (10%‚Äì400%); in this mode, left‚Äëdrag moves the subject instead of panning.",
        "Persistent settings stored in <code>presets/setsave/bg_remove.json</code>."
      ],
      "notes": [
        "Model files are expected in <code>models/bg/</code>. If they‚Äôre missing, the tool shows a ‚ÄúMissing model files‚Äù message and disables Remove background.",
        "The default inference path uses ONNX Runtime in CPU mode (portable & predictable).",
        "Brush edits update the matte rapidly; if you‚Äôre doing a lot of brushing, hit <b>Save PNG</b> after you finish so the latest edits are flushed.",
        "Change subject size is intentionally disabled in Brush mode (the wheel is reserved for brush interactions and coordinate stability)."
      ],
      "hints_tips": [
        "If edges look ‚Äòhalo‚Äëy‚Äô, try: increase <b>Cutoff</b> slightly, then add a small <b>Shrink</b> (negative Shrink/Grow) and a touch of <b>Feather</b>.",
        "If edges look jagged, bump <b>Quality</b> (ref long‚Äëside) and add a little <b>Feather</b> rather than pushing Gamma too hard.",
        "Use <b>Preview BG ‚Üí black</b> to spot light fringes; use <b>white</b> to spot dark fringes; use <b>checker</b> to quickly see transparency issues.",
        "For portraits, start with <b>MODNet</b>. For objects with holes/complex outlines (bikes, plants), try <b>BiRefNet</b> then touch up with Brush.",
        "When <b>Change subject size</b> is enabled: mouse wheel scales the subject; left‚Äëdrag moves the subject. Use the Zoom slider/buttons to zoom the view instead.",
        "If you want to keep the background but soften it, you can export the mask and use it elsewhere (or re‚Äëcomposite in another editor)."
      ],
      "qa_pairs": [
        {
          "question": "Where do the Background Remover results get saved?",
          "answer": "It auto‚Äësaves to the last save folder you used (<code>last_save_dir</code>). If none is set yet, it saves to <code>output/images/rm_backgrounds</code>. Filenames are unique and end with a timestamp."
        },
        {
          "question": "Which model should I choose: MODNet or BiRefNet?",
          "answer": "Start with <b>MODNet</b> for portraits (fast, good hair/skin). Use <b>BiRefNet</b> for general objects (often cleaner object edges but slower). The UI also shows a tip when models are available."
        },
        {
          "question": "What‚Äôs the difference between Save PNG and Save mask?",
          "answer": "<b>Save PNG</b> saves the current result image (transparent cutout, or composited if you added a background). <b>Save mask</b> saves the matte/mask (grayscale) used as the alpha channel."
        },
        {
          "question": "How do I fix small mistakes in the mask?",
          "answer": "Switch to <b>Brush</b> mode. <b>Left‚Äëdrag</b> removes (more transparent). <b>Right‚Äëdrag</b> restores (more opaque). Use <b>Size</b> to change brush size and <b>Undo</b> to step back (up to 10 strokes)."
        },
        {
          "question": "Why is ‚ÄúChange subject size‚Äù greyed out?",
          "answer": "It becomes available only after a cutout exists (you ran Remove background) and only in <b>Pan/Zoom</b> mode. It‚Äôs disabled while brushing to avoid wheel‚Äëmode conflicts."
        },
        {
          "question": "My subject got smaller/bigger when I used the mouse wheel‚Äîwhy?",
          "answer": "That happens when <b>Change subject size</b> is enabled. In that mode, the mouse wheel scales the cutout relative to the background. Use the Zoom slider/buttons for view zoom."
        },
        {
          "question": "Why is Add background disabled?",
          "answer": "Add background is enabled only after you successfully run <b>Remove background</b>. It needs the matte/cutout to composite correctly."
        },
        {
          "question": "Can I use the tool on a frame from a video?",
          "answer": "Yes. In the FrameVision Tools tab build, <b>Use current</b> grabs the currently displayed frame from the Media Player and loads it into Background Remover."
        },
        {
          "question": "What does Quality do?",
          "answer": "Quality controls the long‚Äëside resize before inference (higher is sharper but slower). It‚Äôs stored as <code>ref_long_side</code>."
        }
      ],
      "controls": [
        "Open image ‚Äî button. Does: Load an image file (png/jpg/webp/bmp/tif‚Ä¶).",
        "Remove background ‚Äî button. Does: Run the selected model and build a cutout + matte.",
        "Add background ‚Äî button. Does: Choose an image and composite it behind the cutout (cover/center‚Äëcrop).",
        "Mode: Pan/Zoom ‚Äî toggle. Does: Drag pans the view; wheel zooms (unless Change subject size is enabled).",
        "Mode: Brush ‚Äî toggle. Does: Edit the matte; Left drag removes, Right drag restores.",
        "Size ‚Äî spinbox. Does: Brush size in pixels (only enabled in Brush mode).",
        "Undo ‚Äî button. Does: Undo last brush stroke (up to 10).",
        "Change subject size ‚Äî checkbox. Does: Switch wheel to scale the subject relative to the background; left‚Äëdrag moves the subject.",
        "Fit ‚Äî button. Does: Fit both previews to the image.",
        "Zoom: - / + / 100% / slider ‚Äî controls. Does: View zoom controls (use these when Change subject size is enabled).",
        "Save PNG ‚Äî button. Does: Auto‚Äësave the current result to the output folder (unique timestamped filename).",
        "Save mask ‚Äî button. Does: Auto‚Äësave the matte/mask (grayscale PNG).",
        "Model ‚Äî dropdown. Does: Choose BiRefNet or MODNet.",
        "Quality ‚Äî spinbox. Does: Long‚Äëside resize before inference (256‚Äì2048).",
        "Normalize ‚Äî dropdown. Does: Select input normalization (-1..1 vs none).",
        "Cutoff ‚Äî slider. Does: Foreground cutoff; higher removes more background but can eat edges.",
        "Gamma ‚Äî slider. Does: Edge shaping; < 1 keeps more foreground; > 1 tightens.",
        "Feather ‚Äî slider. Does: Blur radius for smoother edges.",
        "Shrink/Grow ‚Äî slider. Does: Shrink (<0) or grow (>0) the matte.",
        "Preview BG ‚Äî dropdown + Pick color. Does: Set preview backdrop (checker/white/black/custom) to spot fringes.",
        "Use current ‚Äî button (Tools tab). Does: Load the current frame from the Media Player into this tool.",
        "View results ‚Äî button (Tools tab). Does: Open Media Explorer at the results folder and rescan."
      ],
      "install": [
        "Ensure the two model files exist in <code>models/bg/</code>: <code>modnet.onnx</code> and <code>BiRefNet-COD-epoch_125.onnx</code> (names must match).",
        "If you‚Äôre using the FrameVision Tools tab integration, look for <b>Background Remover</b> under Tools; <b>Use current</b> and <b>View results</b> may be present depending on build.",
        "Settings persist in <code>presets/setsave/bg_remove.json</code>. Deleting that file resets the tool to defaults."
      ],
      "troubleshoot": [
        "Remove background button is disabled and you see ‚ÄúMissing model files‚Äù: confirm the ONNX files exist in <code>models/bg/</code> and are not renamed.",
        "Edges look too ‚Äòeaten‚Äô: lower <b>Cutoff</b>, lower <b>Gamma</b> slightly, and consider <b>Grow</b> (positive Shrink/Grow) instead of heavy Feather.",
        "Edges look too wide/halo‚Äëy: raise <b>Cutoff</b> a little, add slight <b>Shrink</b> (negative Shrink/Grow), and use Brush to fix small holes.",
        "Add background looks cropped strangely: it uses a cover/center‚Äëcrop fit to match the cutout size; pick a background with the same aspect ratio for minimal crop.",
        "If the tool crashes immediately, check the general logs and verify your Python environment has ONNX Runtime installed (FrameVision‚Äôs installer normally handles this)."
      ],
      "_layout": "overview/features/notes/hints_tips/controls/install/troubleshoot"
    },
    "Describe_AI": {
      "description": "Vision captioning &amp; prompt generation via Qwen3‚ÄëVL‚Äë2B Instruct (rich, multi‚Äësentence) and BLIP (quick, short captions). Works on CPU (slower) and CUDA (faster). Inputs: current player frame or files/folders; outputs: clipboard and sidecar.txt. Advanced controls expose decoding and length behavior.<br><br>",
      "key_terms": [
        "Qwen3‚ÄëVL‚Äë2B Instruct",
        "BLIP captioning",
        "Detail level (Short/Medium/Long)",
        "Decode style (Deterministic/Creative)",
        "Promptify / Negative terms",
        "Advanced (max_new_tokens, temperature, top_p, top_k, repetition_penalty, no_repeat_ngram_size)",
        "Batch: Describe folder",
        "CPU thread cap / CUDA",
        "Sidecar.txt outputs"
      ],
      "hints_tips": [
        "Start with Deterministic + Short to validate pipeline, then scale length/creativity.",
        "Use Negative to suppress artifacts (e.g., watermark, low‚Äëres).",
        "Increase max_new_tokens for Long outputs; expect slower runtime on CPU.",
        "Batch mode writes sidecars next to images; safe to resume after interruption.",
        "Prefer CUDA for speed; on CPU, reduce threads and tokens.",
        "Use Promptify when you need generator‚Äëfriendly phrasing.",
        "Consistent phrasing: Deterministic + fixed params across the batch.",
        "Start with Deterministic + Short to validate the pipeline, then raise detail/creativity.",
        "Use Negative to suppress artifacts like watermarks and over‚Äëstylized language.",
        "Batch mode writes sidecars and can be resumed safely after interruptions.",
        "For speed, prefer CUDA; on CPU, cap threads and lower tokens.",
        "Promptify rewrites captions into generator‚Äëfriendly prompts.",
        "Consistency across batches: fix parameters and keep Deterministic."
      ],
      "qa_pairs": [
        {
          "question": "Which model do I pick?",
          "answer": "Qwen3‚ÄëVL‚Äë2B for rich multi‚Äësentence; BLIP for fast, short captions."
        },
        {
          "question": "CPU vs GPU?",
          "answer": "CPU works universally but is slower; CUDA accelerates both models if available."
        },
        {
          "question": "What does Detail level change?",
          "answer": "Controls length and granularity of the description."
        },
        {
          "question": "Deterministic vs Creative?",
          "answer": "Deterministic yields stable outputs; Creative increases variety with temperature/top‚Äëp."
        },
        {
          "question": "What does Promptify do?",
          "answer": "Rewrites outputs into prompt‚Äëready phrasing for image/video generators."
        },
        {
          "question": "Why Negative terms?",
          "answer": "To explicitly exclude common artifacts or styles you don‚Äôt want."
        },
        {
          "question": "Safe Advanced defaults?",
          "answer": "max_new_tokens 96‚Äì160, temperature 0.2‚Äì0.7, top_p 0.9, no_repeat_ngram_size 3‚Äì4, repetition_penalty 1.05‚Äì1.2."
        },
        {
          "question": "Batch ‚ÄòDescribe folder‚Äô?",
          "answer": "Processes all images and writes.txt sidecars with progress display."
        },
        {
          "question": "Use current frame?",
          "answer": "Captures the player‚Äôs paused frame directly as the Describe input."
        },
        {
          "question": "Why outputs feel too poetic or too literal?",
          "answer": "Adjust Decode style and temperature; use Negative to curb clich√©s."
        },
        {
          "question": "Keep consistent phrasing across a batch?",
          "answer": "Use Deterministic and lock parameters across runs."
        },
        {
          "question": "Speed up on CPU?",
          "answer": "Lower tokens, cap threads, prefer BLIP, and close heavy apps."
        },
        {
          "question": "Model missing/corrupted?",
          "answer": "Use auto‚Äëextract or run the downloader; verify models folder in Models pane."
        },
        {
          "question": "Where are outputs stored?",
          "answer": "As.txt sidecars next to the source images; single‚Äërun also offers clipboard copy."
        },
        {
          "question": "Language/tone control?",
          "answer": "Use style presets (product/architecture/anime/cinematic) plus Creative mode for flair."
        },
        {
          "question": "Which model should I use?",
          "answer": "Qwen3‚ÄëVL‚Äë2B for rich, multi‚Äësentence descriptions; BLIP for fast short captions."
        },
        {
          "question": "CPU vs GPU?",
          "answer": "CPU works everywhere but is slower; CUDA accelerates both models significantly."
        },
        {
          "question": "What does Detail level change?",
          "answer": "Output length and granularity."
        },
        {
          "question": "What does Promptify do?",
          "answer": "Turns plain captions into prompt‚Äëstyle text suitable for generation models."
        },
        {
          "question": "Why use Negative terms?",
          "answer": "To explicitly exclude unwanted artifacts or styles."
        },
        {
          "question": "How does ‚ÄòDescribe folder‚Äô work?",
          "answer": "Processes all images, writing.txt sidecars with progress and resume safety."
        },
        {
          "question": "Can I capture the current player frame?",
          "answer": "Yes‚Äîpause at the desired frame and use ‚ÄòUse current frame‚Äô."
        },
        {
          "question": "Why are outputs too poetic or too literal?",
          "answer": "Adjust Decode style and temperature; Negative can reduce clich√©s."
        },
        {
          "question": "How to keep phrasing consistent across a batch?",
          "answer": "Use Deterministic and fixed parameters."
        },
        {
          "question": "How to speed up on CPU?",
          "answer": "Lower tokens, cap threads, prefer BLIP, close other heavy apps."
        },
        {
          "question": "Model missing/corrupted?",
          "answer": "Use auto‚Äëextract or run the downloader; verify path in Models pane."
        },
        {
          "question": "Where are outputs stored?",
          "answer": "As.txt sidecars next to images; single runs also offer clipboard copy."
        },
        {
          "question": "Language/tone control?",
          "answer": "Style presets (product/architecture/anime/cinematic) plus Creative mode for flair."
        }
      ],
      "controls": [
        "Engine:",
        "Qwen3-VL (2B Instruct)",
        "Size:",
        "Runs on:",
        "Best for:",
        "Notes:",
        "Models root:",
        "Actions",
        "Describe",
        "Describe folder...",
        "Use current frame",
        "Generated description",
        "Copy",
        "Copy as Prompt",
        "Save.txt",
        "Save.json",
        "Promptify output",
        "Detail level:",
        "Decode style:",
        "Paths",
        "Test image path:",
        "Browse...",
        "Player frame not available.",
        "Advanced settings",
        "max_new_tokens",
        "min_length",
        "no_repeat_ngram_size",
        "temperature",
        "top_p",
        "top_k",
        "repetition_penalty",
        "Warm model on load",
        "Keep in memory",
        "Preset:",
        "CPU threads:",
        "Backend:",
        "Cancel",
        "Checking‚Ä¶",
        "Ready",
        "Missing"
      ],
      "_controls_meta": {
        "source": "auto-extracted from code (helpers/)",
        "modules_used": [
          "describer.py"
        ]
      },
      "features": [
        "Qwen3‚ÄëVL‚Äë2B Instruct (rich captions) and BLIP (short captions).",
        "Detail level, Decode style, Promptify/Negative, Advanced decoding knobs.",
        "Batch: Describe folder; sidecar.txt outputs; Use current frame.",
        "Qwen3‚ÄëVL‚Äë2B Instruct",
        "BLIP captioning",
        "Detail level (Short/Medium/Long)",
        "Decode style (Deterministic/Creative)",
        "Promptify / Negative terms",
        "Advanced (max_new_tokens, temperature, top_p, top_k, repetition_penalty, no_repeat_ngram_size)",
        "Batch: Describe folder",
        "CPU thread cap / CUDA",
        "Sidecar.txt outputs",
        "Engine:",
        "Qwen3-VL (2B Instruct)",
        "Size:",
        "Runs on:",
        "Best for:",
        "Notes:",
        "Models root:",
        "Actions",
        "Describe",
        "Describe folder...",
        "Use current frame",
        "Generated description",
        "Key term: Qwen3‚ÄëVL‚Äë2B Instruct",
        "Key term: BLIP captioning",
        "Key term: Detail level (Short/Medium/Long)",
        "Key term: Decode style (Deterministic/Creative)",
        "Key term: Promptify / Negative terms",
        "Key term: Advanced (max_new_tokens, temperature, top_p, top_k, repetition_penalty, no_repeat_ngram_size)",
        "Key term: Batch: Describe folder",
        "Key term: CPU thread cap / CUDA",
        "Key term: Sidecar.txt outputs",
        "Control: Engine: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Qwen3-VL (2B Instruct) ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Size: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Runs on: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Best for: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Notes: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Models root: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Actions ‚Äî groupbox. Default: unset/neutral. Does: UI control.",
        "Control: Describe ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Describe folder... ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Use current frame ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Generated description ‚Äî groupbox. Default: unset/neutral. Does: UI control.",
        "Control: Copy ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Copy as Prompt ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Save.txt ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Save.json ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Promptify output ‚Äî checkbox. Default: off (toggle to enable). Does: Rewrite captions as prompt‚Äëfriendly text.",
        "Control: Detail level: ‚Äî label. Default: unset/neutral. Does: Set output length/granularity for captions.",
        "Control: Decode style: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Paths ‚Äî groupbox. Default: unset/neutral. Does: UI control.",
        "Control: Test image path: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Browse... ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Player frame not available. ‚Äî label. Default: unset/neutral. Does: Transport control to start/stop playback.",
        "Control: Advanced settings ‚Äî groupbox. Default: unset/neutral. Does: UI control.",
        "Control: max_new_tokens ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: min_length ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: no_repeat_ngram_size ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: temperature ‚Äî label. Default: unset/neutral. Does: Decoding controls that affect diversity and randomness.",
        "Control: top_p ‚Äî label. Default: unset/neutral. Does: Decoding controls that affect diversity and randomness.",
        "Control: top_k ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: repetition_penalty ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Warm model on load ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Keep in memory ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Preset: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: CPU threads: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Backend: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Cancel ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Checking‚Ä¶ ‚Äî text label. Default: unset/neutral. Does: UI control.",
        "Control: Ready ‚Äî text label. Default: unset/neutral. Does: UI control.",
        "Control: Missing ‚Äî text label. Default: unset/neutral. Does: UI control."
      ],
      "install": [
        "Ensure vision models are present; use <code>scripts/download_externals.py</code> if missing.",
        "General install flow: use <b>Install/Updates ‚Üí Option 1</b> to auto-detect environment, then <b>Option 2</b> for repair, or <b>Option 3/4</b> for full stacks.",
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "On CPU timeout/slow, reduce max_new_tokens or switch to BLIP; prefer CUDA when available.",
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build.",
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "overview": "Vision captioning &amp; prompt generation via Qwen3‚ÄëVL‚Äë2B Instruct (rich, multi‚Äësentence) and BLIP (quick, short captions). Works on CPU (slower) and CUDA (faster). Inputs: current player frame or files/folders; outputs: clipboard and sidecar.txt. Advanced controls expose decoding and length behavior.<br><br>",
      "_layout": "overview/features/install/troubleshoot",
      "_features_meta": {
        "oneliners_source": "helpers/ code scan",
        "oneliners_count_added": 40
      }
    },
    "File_Menu": {
      "description": "The <b>File</b> menu is the fastest way to <b>open media</b>, <b>grab screenshots/frames</b>, <b>re-open recent sources</b>, and run a few <b>export + batch utilities</b>.<br><br><b>Main actions:</b><br><ul><li><b>Open</b> (Ctrl+O)</li><li><b>Screenshot (select region)‚Ä¶</b> (Ctrl+S)</li></ul><br><br><b>Recent Files</b> (submenu): dynamically lists up to <b>10</b> recent paths, plus <b>Clear Recent List</b>. You can also <b>right‚Äëclick a recent item ‚Üí Remove from list</b>.<br><br><b>Favorites</b> (submenu):<br><ul><li><b>Pin Current File</b> (adds the currently loaded media to favorites)</li><li><b>Unpin Current File</b> (only shown when the current file is already pinned)</li><li><b>Open Favorite</b> (submenu listing pinned paths; supports right‚Äëclick remove)</li><li><b>Clear Favorites</b></li></ul><br><br><b>Save / Export:</b><br><ul><li><b>Save Frame As‚Ä¶</b> (captures the currently visible frame as PNG/JPG)</li><li><b>Save As‚Ä¶</b> (images: convert via Qt; videos: uses FFmpeg and tries stream‚Äëcopy for common containers)</li><li><b>Save As MP3‚Ä¶</b> (FFmpeg MP3 export with bitrate + volume controls; optional ‚ÄúUse source bitrate‚Äù)</li></ul><br><br><b>Batch Tools</b> (submenu):<br><ul><li><b>Convert to MP3 (folder)‚Ä¶</b></li><li><b>Video ‚Üí Audio Extract (WAV/AAC/FLAC)‚Ä¶</b></li><li><b>Video Convert (folder)‚Ä¶</b></li><li><b>Image Convert (folder)‚Ä¶</b></li><li><b>Export ALL Audio Tracks (1 file)‚Ä¶</b></li></ul><br><br><b>Utilities:</b><br><ul><li><b>Open Containing Folder</b> (opens the folder of the currently loaded file)</li><li><b>Reopen Last Closed File</b> (reopens the previous file remembered when you used Open)</li></ul><br><br><b>Exit:</b><br><ul><li><b>Exit (to console)</b> (clean quit)</li><li><b>Exit (close process)</b> (force exit)</li></ul><br><br>",
      "key_terms": [
        "Batch Tools",
        "Clear Favorites",
        "Clear Recent List",
        "Exit (close process)",
        "Exit (to console)",
        "Favorites",
        "Open",
        "Open Containing Folder",
        "Open Favorite",
        "Pin Current File",
        "Recent Files",
        "Reopen Last Closed File",
        "Remove from list",
        "Save As MP3‚Ä¶",
        "Save As‚Ä¶",
        "Save Frame As‚Ä¶",
        "Screenshot (select region)‚Ä¶",
        "Unpin Current File"
      ],
      "hints_tips": [
        "If you‚Äôre opening the same source repeatedly, Pin Current File so it‚Äôs one click away in Favorites.",
        "Right‚Äëclick a Recent/Favorite entry to remove just that one item instead of clearing the whole list.",
        "For video Save As‚Ä¶, the app tries stream‚Äëcopy first (fast, no quality loss) when the target container supports it; otherwise it re‚Äëencodes.",
        "Save As MP3 remembers the last folder you used (mp3_last_save_dir) so repetitive exports are quicker."
      ],
      "qa_pairs": [
        {
          "question": "What items are in the File menu?",
          "answer": "Open; Screenshot (select region)‚Ä¶; Recent Files; Favorites (Pin/Unpin + Open Favorite); Save Frame As‚Ä¶; Save As‚Ä¶; Save As MP3‚Ä¶; Batch Tools; Open Containing Folder; Reopen Last Closed File; Exit (to console/process)."
        },
        {
          "question": "How does Recent Files work?",
          "answer": "It lists up to 10 recent paths. Selecting one opens it directly and moves it back to the top. Use Clear Recent List to wipe it, or right‚Äëclick an entry to remove just that path."
        },
        {
          "question": "How do Favorites work?",
          "answer": "Use Pin Current File to add the currently loaded file to Favorites. Open it later via Open Favorite. If the current file is pinned, you‚Äôll also see Unpin Current File."
        },
        {
          "question": "What‚Äôs the difference between Save Frame As‚Ä¶ and Save As‚Ä¶?",
          "answer": "Save Frame As‚Ä¶ captures the visible frame (PNG/JPG). Save As‚Ä¶ exports the whole media (images can be converted; videos use FFmpeg)."
        },
        {
          "question": "Why does Reopen Last Closed File sometimes do nothing?",
          "answer": "The ‚Äúlast closed‚Äù slot is only updated when you use Open (it stores the file you had loaded before opening a new one). If you haven‚Äôt opened a new file yet, there may be no last‚Äëclosed entry."
        }
      ]
    },
    "HUD_Colorizer": {
      "description": "HUD Colorizer is a tiny helper that automatically <b>colorizes the HUD/header stats</b> so hot or high‚Äëload numbers pop out at a glance. It finds the header <code>QLabel</code> containing <b>GPU / DDR / CPU</b>, switches it to <b>RichText</b>, and periodically rewrites the text with <code>&lt;span&gt;</code> tags.<br><br><b>What it colorizes</b><br><ul><li><b>Temperatures</b> like <code>62¬∞C</code>, <code>62 C</code>, or <code>62c</code> (text‚Äëonly; no flashing/background).</li><li><b>GPU %</b> and <b>CPU %</b> (orange/red thresholds).</li><li><b>DDR / VRAM</b>: both the <b>% token</b> and the <b>used/total amount</b> like <code>DDR 5.3/24.0 GB</code> (VRAM‚Äëspecific thresholds).</li><li><b>Network speed</b> tokens like <code>DL 12.3 MB/s</code> or <code>UL 456 KB/s</code>.</li></ul><br><br><b>Default refresh</b>: every <b>2500 ms</b> (configurable via <code>auto_install_hud_colorizer(interval_ms=...)</code>).<br>This version intentionally avoids hysteresis and background highlights to keep the HUD <b>flash‚Äëfree</b> even at ‚â•70¬∞C.",
      "key_terms": [
        "auto_install_hud_colorizer(interval_ms=2500)",
        "QLabel header auto-detect (GPU + DDR + CPU)",
        "Qt RichText <span> injection",
        "GPU/CPU percent thresholds (85/95)",
        "VRAM (DDR) percent thresholds (85/90/95)",
        "VRAM amount parsing (used/total GB/GiB/MiB)",
        "Temperature token parsing (60/65/70 ¬∞C)",
        "DL/UL network speed coloring (KB/s, MB/s)"
      ],
      "hints_tips": [
        "If nothing colorizes, the header text must include GPU, DDR, and CPU in the same label (the colorizer searches for that).",
        "Only the first GPU/DDR/CPU percent token is colorized (by design) to keep the string stable.",
        "DDR (VRAM) uses different thresholds than GPU/CPU: it can turn yellow earlier (‚â•85%).",
        "You can slow down or speed up updates by calling `auto_install_hud_colorizer(interval_ms=...)` (default is 2500 ms).",
        "Network colors are based on MB/s. `KB/s` values are converted using 1024 KB = 1 MB before thresholding."
      ],
      "qa_pairs": [
        {
          "question": "What does HUD Colorizer colorize?",
          "answer": "Temperatures (e.g., 62¬∞C / 62 C / 62c), the first GPU/DDR/CPU % tokens, VRAM used/total amounts like 'DDR 5.3/24.0 GB', and net speed tokens like 'DL 12.3 MB/s' / 'UL 456 KB/s'."
        },
        {
          "question": "When do the colors trigger?",
          "answer": "Temps: 60‚Äì64¬∞C yellow, 65‚Äì69¬∞C orange, ‚â•70¬∞C red. GPU/CPU %: ‚â•85% orange, ‚â•95% red. DDR/VRAM % and used/total fullness: ‚â•85% yellow, ‚â•90% orange, ‚â•95% red. Net: ‚â•10 MB/s yellow, ‚â•50 MB/s orange, ‚â•95 MB/s red."
        },
        {
          "question": "Does it flash or use a red background?",
          "answer": "No‚Äîthis version is text‚Äëonly (no background highlight) and has no hysteresis-based 'red alert' state, specifically to avoid flashing around ‚â•70¬∞C."
        },
        {
          "question": "How often does it refresh?",
          "answer": "Default is every 2500 ms. You can change it by passing a different `interval_ms` to `auto_install_hud_colorizer()`."
        }
      ]
    },
    "Hunyuan_Video_15": {
      "description": "Generate videos with <b>HunyuanVideo 1.5</b> inside FrameVision (text2video, image2video, video‚Üívideo, and Extend). Includes Qwen3‚ÄëVL prompt enhancer presets and VRAM offload options.",
      "key_terms": [
        "HunyuanVideo 1.5",
        "text2video",
        "image2video",
        "Video‚ÜíVideo",
        "Extend",
        "Auto‚Äëmerge segments",
        "Enable model CPU offload",
        "Enable Group Offload",
        "FirstBlockCache",
        "FBC threshold",
        "Enhance prompt (Qwen3‚ÄëVL)",
        "Prompt enhancer presets",
        ".hunyuan15_env",
        "hunuyan15_install.bat",
        "output/video/hunyuan15",
        "Media Explorer",
        "Attention backend",
        "Pyramid attn. broadcast",
        "Attention slicing",
        "VAE slicing",
        "VAE tiling",
        "Advanced settings (recommended defaults)"
      ],
      "overview": "HunyuanVideo 1.5 is FrameVision‚Äôs higher-quality video model tool with flexible <b>text‚Üívideo</b>, <b>image‚Üívideo</b>, <b>video‚Üívideo</b>, and <b>Extend</b>. It also includes VRAM-saving/offload toggles and a built-in <b>Qwen3‚ÄëVL prompt enhancer with presets</b>.<br><br><b>Quick start</b><br>1. Open <b>Video Creation ‚Üí Engine: HunyuanVideo 1.5</b>.<br>2. If this is your first run: click <b>Install/Update Cuda</b> and then <b>Download Models</b>.<br>3. Choose a model preset (for example <b>480p Text‚Äëto‚ÄëVideo</b> or <b>720p Image‚Äëto‚ÄëVideo</b>).<br>4. Pick <b>Aspect</b> (Landscape/Portrait/Square) and a <b>Resolution</b> (192p‚Äì720p).<br>5. Write your prompt, optionally click <b>Enhance prompt (Qwen)</b>, then click <b>Generate Video</b>.<br><br><b>Image‚ÜíVideo and Video‚ÜíVideo</b><br><ul><li><b>Start image (I2V):</b> choose an image, or click <b>Use Current</b> to grab the current Media Player frame.</li><li><b>Video‚ÜíVideo:</b> click <b>load video</b> ‚Äî FrameVision extracts the <b>last frame</b> and uses it as the Start image. (This keeps the workflow simple and predictable.)</li></ul><br><br><b>Extend (longer videos)</b><br><ul><li>Set <b>Extend</b> to 1+ ‚Äúextra segments‚Äù.</li><li>Each new segment uses the <b>last frame</b> of the previous segment as the next start image.</li><li><b>Important:</b> Extend is <b>direct-run only</b>. Queue and Batch runs ignore Extend.</li><li>If <b>Auto‚Äëmerge segments</b> is enabled, FrameVision merges all segments into a single MP4 at the end. Hunyuan‚Äôs merge step also trims/blends a tiny seam to reduce the ‚Äúpause‚Äù between chunks.</li></ul><br><br><b>VRAM / speed toggles (simple guide)</b><br><ul><li><b>Enable model CPU offload:</b> recommended when you have <b>&lt; 24 GB VRAM</b> (slower, but avoids OOM).</li><li><b>Enable Group Offload (experimental):</b> additional VRAM saving; can conflict with model offload.</li><li><b>Enable FirstBlockCache:</b> a speed booster that skips work when changes are small. Tune <b>FBC threshold</b>:</li><li>~0.05 is a safe start</li><li>Higher = faster, but may hurt quality</li><li>Lower = safer quality, less speedup</li></ul><br><br>",
      "features": [
        "Model presets: 480p/720p Text‚Äëto‚ÄëVideo, 480p/720p Image‚Äëto‚ÄëVideo, and distilled / step‚Äëdistilled variants.",
        "Aspect + Resolution: quick aspect presets (16:9, 9:16, 1:1) with a resolution ladder from 192p to 720p.",
        "Prompt enhancer: built-in ‚ÄúEnhance prompt (Qwen)‚Äù with a preset dropdown (shared with Tools ‚Üí Prompt enhancement). Target is forced to video for better wording.",
        "Video‚ÜíVideo: load a video and automatically extract the last frame as the Start image.",
        "Extend + Auto‚Äëmerge: chain extra segments and optionally merge them into one MP4 (with seam trimming/blending).",
        "Offload & performance: model CPU offload (recommended under 24GB VRAM), Group Offload (experimental), FirstBlockCache + threshold.",
        "Bitrate control: set target bitrate (kbps) for the final output encode.",
        "Results helpers: View results (Media Explorer), Use Current (from Media Player)."
      ],
      "qa_pairs": [
        {
          "question": "Which Hunyuan model preset should I pick?",
          "answer": "Start with 480p Text‚Äëto‚ÄëVideo for fast tests. Use 720p presets when you want more detail (and you have enough VRAM or you enable CPU offload). For Image‚Äëto‚ÄëVideo, the step‚Äëdistilled option is designed for low steps (roughly 8‚Äì12)."
        },
        {
          "question": "What do Aspect and Resolution do?",
          "answer": "Aspect picks the shape (Landscape/Portrait/Square). Resolution selects the target size tier (from 192p up to 720p). Higher resolution costs more VRAM/time."
        },
        {
          "question": "How do I do image‚Üívideo?",
          "answer": "Pick a Start image, or click Use Current to capture the current Media Player frame, then generate."
        },
        {
          "question": "How does video‚Üívideo work?",
          "answer": "Click load video. FrameVision extracts the last frame of that clip and uses it as the Start image for image‚Üívideo generation."
        },
        {
          "question": "How do I make longer videos?",
          "answer": "Set Extend to 1+ extra segments. Keep Auto‚Äëmerge segments enabled if you want one final file. Remember: Extend is direct-run only (Queue/Batch ignores it)."
        },
        {
          "question": "Why does Extend say ‚ÄúDirect run only‚Äù?",
          "answer": "Because chaining requires tight handoff between segments (extract last frame ‚Üí run next segment). In FrameVision, Queue/Batch runs intentionally ignore Extend to keep the worker flow reliable."
        },
        {
          "question": "What does ‚ÄúEnable model CPU offload‚Äù do?",
          "answer": "It moves parts of the model to system RAM to reduce VRAM usage. This is slower, but it‚Äôs the main switch to avoid out-of-memory errors on < 24GB VRAM."
        },
        {
          "question": "Should I use Group Offload too?",
          "answer": "Only if you need more VRAM savings and you‚Äôre okay with it being experimental. If you already use model CPU offload, keep Group Offload OFF (they can conflict)."
        },
        {
          "question": "What is FirstBlockCache?",
          "answer": "A speed booster that skips transformer work when changes are small. It can be very helpful, but aggressive settings can reduce quality."
        },
        {
          "question": "How do I set the FirstBlockCache threshold?",
          "answer": "Start around 0.05. Higher values skip more (faster, riskier quality). Lower values are safer (less speedup)."
        },
        {
          "question": "What does the Qwen prompt enhancer preset dropdown change?",
          "answer": "It chooses a shared preset from Tools ‚Üí Prompt enhancement (styles/negatives/length/temperature). The Hunyuan enhancer temporarily applies it for that one run and then restores your previous prompt-tool settings."
        },
        {
          "question": "Where do results go?",
          "answer": "Outputs are stored under `output/video/hunyuan15`. Use View results to open Media Explorer on the correct folder."
        }
      ],
      "controls": [
        "Control: Engine ‚Äî dropdown. Does: Select WAN 2.2 or HunyuanVideo 1.5 engine page.",
        "Control: Install/Update Cuda ‚Äî button. Does: Set up/repair the Hunyuan tool environment (`.hunyuan15_env`).",
        "Control: Download Models ‚Äî button. Does: Download weights for the selected model preset.",
        "Control: Model preset ‚Äî dropdown. Does: Choose 480p/720p T2V/I2V and distilled variants.",
        "Control: Prompt ‚Äî text box. Does: Describe what you want to see.",
        "Control: Enhance prompt (Qwen) ‚Äî button. Does: Expand the prompt using Qwen3‚ÄëVL helper.",
        "Control: Enhancer preset ‚Äî dropdown. Does: Pick a preset shared with Tools ‚Üí Prompt enhancement.",
        "Control: Negative prompt ‚Äî text box. Does: Describe what to avoid.",
        "Control: Start image (I2V) ‚Äî path/browse. Does: Starting frame for image‚Üívideo (and for video‚Üívideo).",
        "Control: Video‚ÜíVideo ‚Äî toggle + load video/Use last. Does: Extract last frame from a source clip to use as Start image.",
        "Control: Aspect ‚Äî dropdown. Does: Landscape/Portrait/Square.",
        "Control: Resolution ‚Äî dropdown. Does: Output size tier (192p‚Äì720p).",
        "Control: Frames / Steps / FPS / Seed ‚Äî controls. Does: Duration/quality/speed/randomness.",
        "Control: Bitrate (kbps) ‚Äî control. Does: Target output bitrate.",
        "Control: Extend ‚Äî spinbox. Does: Number of extra segments (direct-run only).",
        "Control: Auto‚Äëmerge segments ‚Äî checkbox. Does: Merge extend segments into one MP4 at the end.",
        "Control: Enable model CPU offload ‚Äî checkbox. Does: Reduce VRAM usage (slower).",
        "Control: Enable Group Offload ‚Äî checkbox. Does: Experimental VRAM saver (may conflict with model offload).",
        "Control: Enable FirstBlockCache ‚Äî checkbox. Does: Speed booster; tune threshold.",
        "Control: FBC threshold ‚Äî slider/spin. Does: How aggressively FirstBlockCache skips work.",
        "Control: Use Queue ‚Äî button. Does: Toggle queue mode vs direct run.",
        "Control: Generate Video ‚Äî button. Does: Start generation.",
        "Control: Use Current ‚Äî button. Does: Grab current Media Player frame as Start image.",
        "Control: View results ‚Äî button. Does: Open Media Explorer on Hunyuan output folder."
      ],
      "install": [
        "Click <b>Install/Update Cuda</b> to run <code>presets/extra_env/hunuyan15_install.bat</code>, which prepares the tool‚Äôs dedicated environment at <code>.hunyuan15_env</code>.",
        "Click <b>Download Models</b> to fetch the selected model preset‚Äôs weights (downloads can be large).",
        "FFmpeg is required for Auto‚Äëmerge segments (FrameVision prefers the bundled FFmpeg in <code>presets/bin/</code>)."
      ],
      "troubleshoot": [
        "If <b>Install/Update Cuda</b> fails with ‚ÄúMissing file‚Äù: confirm <code>presets/extra_env/hunuyan15_install.bat</code> exists next to the app.",
        "If prompt enhancement fails: verify the shared Qwen environment exists (<code>.venv</code>) and that <code>helpers/prompt_enhancer_cli.py</code> is present.",
        "If Auto‚Äëmerge fails: confirm FFmpeg exists in <code>presets/bin/</code> (or on PATH on non‚ÄëWindows builds).",
        "If you get VRAM/OOM errors: turn ON <b>Enable model CPU offload</b>, reduce Resolution/Frames/Steps, and avoid running other VRAM-heavy tools simultaneously.",
        "If output looks ‚Äústuck‚Äù/too similar: increase Steps slightly or disable FirstBlockCache (it trades some quality for speed)."
      ],
      "_layout": "overview/features/hints_tips/install/troubleshoot",
      "hints_tips": [
        "Default: use <b>Advanced settings</b> (recommended).",
        "<b>Attention backend:</b> leave on <b>Auto</b> (the model picks the best option).",
        "<b>Enable model CPU offload:</b> ON (saves a lot of VRAM).",
        "<b>Group Offload:</b> OFF.",
        "<b>FirstBlockCache:</b> OFF (currently not working).",
        "<b>Pyramid attn. broadcast:</b> may help on lower VRAM, but makes generation slower.",
        "<b>Attention slicing:</b> helps on lower VRAM; makes generation a little slower.",
        "<b>VAE slicing:</b> helps on lower VRAM; makes generation a little bit slower.",
        "<b>VAE tiling:</b> ON by default (saves a lot of VRAM)."
      ]
    },
    "Install_Updates": {
      "description": "Installer provides 1) environment checks, 2) core app install, 3) Full CPU stack (~3.5‚ÄØGB), 4) Full CUDA stack (~5‚ÄØGB, cu121). Start via start.bat which self‚Äëheals psutil, starts worker, and launches the app. Models downloader installs Qwen Image GGUF tiers and external tools; Models pane manages paths, manifests, and quick tests.<br><br>",
      "key_terms": [
        "install_menu.bat options 1‚Äì4",
        "start.bat self‚Äëheal + launch",
        "Requirements (CPU/GPU stacks)",
        "CUDA cu121 pins",
        "Models downloader (Qwen Image GGUF)",
        "VRAM tiers (Q3_K_M, Q4_K_M)",
        "Models pane (Exists/Test/Manifest)"
      ],
      "hints_tips": [
        "Choose Full CUDA if you have ‚â•6‚ÄØGB VRAM; otherwise Full CPU is universal.",
        "If the venv breaks, delete.venv and re‚Äërun Option 3 or 4.",
        "Use the models‚Äëonly downloader to refresh models without reinstalling the app.",
        "Torch/TorchVision pins match CUDA toolkits; avoid mixing versions.",
        "Keep models/ outside the venv to survive reinstalls.",
        "Choose Full CUDA if you have ‚â•6‚ÄØGB VRAM; use Full CPU for universal compatibility.",
        "If the venv breaks, delete.venv and rerun Option 3 or 4.",
        "Use models‚Äëonly downloader to refresh models without reinstalling the app.",
        "Keep models/ outside the venv so they persist across reinstalls."
      ],
      "qa_pairs": [
        {
          "question": "Which option should I choose?",
          "answer": "Core only for upgrades; Full CPU for universal support; Full CUDA for NVIDIA acceleration."
        },
        {
          "question": "Python not found?",
          "answer": "Installer tries multiple launchers (py - 3.11/-3.10, python on PATH) and prints guidance."
        },
        {
          "question": "Where does Qwen Image install?",
          "answer": "Under models/qwen_image; pick a VRAM tier matching your GPU."
        },
        {
          "question": "Can I only update models?",
          "answer": "Yes‚Äîrun the models downloader; it won‚Äôt touch the core app."
        },
        {
          "question": "Where are logs?",
          "answer": "Check logs/run_*.log and Settings ‚Üí Open log folder."
        },
        {
          "question": "Python not found?",
          "answer": "Installer tries py - 3.11/-3.10 and python on PATH; otherwise prints guidance."
        },
        {
          "question": "Where does Qwen Image install?",
          "answer": "Under models/qwen_image with VRAM‚Äëtiered files."
        },
        {
          "question": "Can I only update models?",
          "answer": "Yes‚Äîrun the models downloader to refresh models independently."
        }
      ],
      "requirements": {
        "requirements-core.txt": [
          "PySide6==6.7.2",
          "pillow>=10.3.0",
          "huggingface_hub>=0.23.0",
          "packaging>=23.2"
        ],
        "requirements-cpu.txt": [
          "--extra-index-url https://download.pytorch.org/whl/cpu",
          "torch==2.3.1+cpu",
          "torchvision==0.18.1+cpu",
          "torchaudio==2.3.1+cpu",
          "transformers==4.45.2",
          "accelerate==0.33.0",
          "huggingface-hub==0.24.6",
          "safetensors==0.4.4",
          "tokenizers==0.20.1",
          "packaging>=23.2",
          "pillow==10.4.0",
          "numpy==1.26.4",
          "opencv-python==4.10.0.84",
          "PySide6==6.7.2"
        ],
        "requirements-gpu.txt": [
          "--extra-index-url https://download.pytorch.org/whl/cu121",
          "torch==2.3.1+cu121",
          "torchvision==0.18.1+cu121",
          "torchaudio==2.3.1+cu121",
          "transformers==4.45.2",
          "accelerate==0.33.0",
          "huggingface-hub==0.24.6",
          "safetensors==0.4.4",
          "tokenizers==0.20.1",
          "packaging>=23.2",
          "pillow==10.4.0",
          "numpy==1.26.4",
          "opencv-python==4.10.0.84",
          "PySide6==6.7.2"
        ]
      },
      "features": [
        "Installer menu with 4 options: 1) System check & advisor, 2) Core install, 3) Full CPU stack, 4) Full GPU stack.",
        "Self-healing launcher (start.bat) that checks psutil, starts the worker, and launches the app.",
        "Requirements profiles: core, CPU (Torch CPU), GPU (CUDA/cu121) with pinned versions.",
        "Models-only downloader (`scripts/download_externals.py`) to refresh tools/models without a full reinstall.",
        "Key term: install_menu.bat options 1‚Äì4",
        "Key term: start.bat self‚Äëheal + launch",
        "Key term: Requirements (CPU/GPU stacks)",
        "Key term: CUDA cu121 pins",
        "Key term: Models downloader (Qwen Image GGUF)",
        "Key term: VRAM tiers (Q3_K_M, Q4_K_M)",
        "Key term: Models pane (Exists/Test/Manifest)"
      ],
      "install": [
        "<b>How to use (ZIP build):</b><br>1) Unzip to the root of a fast SSD or NVMe (it will create a <code>framevision-main</code> folder with the files).<br>2) Run <code>framevision.exe</code>. First time use: you‚Äôll need to approve Windows to run the app.<br>3) The install script menu will open. If you never used AI tools before, use option <b>(1) Check requirements</b> first to get the environment, Python &amp; Git installed.<br>4) Next select <b>(4) RTX NVIDIA install</b> (option <b>(3) CPU install</b> works, but not everything can/will work without an RTX card).<br>5) Heavy models (WAN, Hunyuan, Z‚Äëimage, etc.) are not installed with the install script ‚Äî you can select/skip them in the app via the <b>Optional downloads</b> menu.<br>6) Grab a coffee ‚Äî the app will auto‚Äëstart after install.<br>7) <code>framevision.exe</code> is now your file to (re)start the app (also works with <code>start.bat</code>, which can be used for debugging).",
        "<b>Option 1 ‚Äî System check &amp; advisor:</b> creates venv if missing; checks Python/FFmpeg/GPU/VRAM; prints a full info page and suggests Option 3 or 4.",
        "<b>Option 2 ‚Äî Core install:</b> quick repair of the app environment; minimal downloads.",
        "<b>Option 3 ‚Äî Full CPU:</b> recommended for non-GPU systems or &lt; 6 GiB VRAM; approx <b>3.5 GB</b>.",
        "<b>Option 4 ‚Äî Full GPU:</b> recommended for NVIDIA GPUs with ‚â• 6 GiB VRAM; approx <b>5 GB</b>.",
        "<b>Models-only refresh:</b> Windows <code>python &quot;scripts\\download_externals.py&quot;</code>; macOS/Linux <code>python scripts/download_externals.py</code>.",
        "Option 1 ‚Äî <b>System check &amp; advisor</b>: creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4.",
        "Option 2 ‚Äî <b>Core install</b>: quick repair of the application without models (fast).",
        "Option 3 ‚Äî <b>Full CPU stack</b>: for non‚ÄëGPU or &lt; 6‚ÄØGiB VRAM (~3.5‚ÄØGB download).",
        "Option 4 ‚Äî <b>Full GPU stack (CUDA)</b>: for ‚â• 6‚ÄØGiB VRAM (~5‚ÄØGB download).",
        "Models‚Äëonly: open a terminal in the app root and run:<br><ul><li>Windows: <code>python &quot;scripts\\download_externals.py&quot;</code></li><li>macOS/Linux: <code>python scripts/download_externals.py</code></li></ul>"
      ],
      "troubleshoot": [
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build.",
        "Start with <b>Option 1 (System check &amp; advisor)</b> to validate your environment and get a recommendation.",
        "If only the app seems broken, run <b>Option 2 (Core install)</b> for a quick repair.",
        "If issues persist, run a <b>full install</b>: <b>Option 3</b> for CPU (&lt; 6‚ÄØGiB VRAM) or <b>Option 4</b> for GPU (‚â• 6‚ÄØGiB VRAM).",
        "Still failing? <b>Delete the @@PH0@@</b> folder and reinstall (safe; models/helpers are preserved). Expect re‚Äëdownload sizes: ~3.5‚ÄØGB (CPU) or ~5‚ÄØGB (GPU).",
        "Prefer clearing <b>cache and preset files</b> if behavior remains odd; keep models and helper binaries.",
        "Roadmap: an upcoming <code>update.bat</code> will auto‚Äëcheck and repair to the latest version."
      ],
      "overview": "Installer provides 1) environment checks, 2) core app install, 3) Full CPU stack (~3.5‚ÄØGB), 4) Full CUDA stack (~5‚ÄØGB, cu121). Start via start.bat which self‚Äëheals psutil, starts worker, and launches the app. Models downloader installs Qwen Image GGUF tiers and external tools; Models pane manages paths, manifests, and quick tests.<br><br>",
      "_layout": "overview/features/install/troubleshoot"
    },
    "Media_Explorer": {
      "description": "The <b>Media Explorer</b> is FrameVision‚Äôs fast file browser for finished results and source folders. Scan any folder (optionally including subfolders) and get a searchable, sortable list of <b>images / video / audio</b> with quick actions (open/play, reveal folder, rename, copy path, delete) and a details panel.<br><br><b>Designed for speed:</b> it intentionally shows <b>no thumbnails</b> (uses default file-type icons) so huge folders stay responsive.",
      "key_terms": [
        "Scan",
        "Tree view",
        "Include subfolders",
        "Search (name or folder)",
        "Images / Video / Sound filters",
        "‚òÖ favorites",
        "‚òÖ Only (favorites filter)",
        "Open in player",
        "Open in external Windows app",
        "Play with ffplay",
        "Open containing folder",
        "Copy full path",
        "Copy filename",
        "Rename‚Ä¶",
        "Move to Recycle Bin‚Ä¶",
        "Copy / Cut / Paste (Media Explorer clipboard)",
        "Details panel (Expand / Copy)",
        "ffprobe / ffplay / ffmpeg",
        "presets/bin",
        "presets/setsave/explorerfav.json (folder favorites)"
      ],
      "overview": "Media Explorer is your ‚Äúwhere did my file go?‚Äù tab. It‚Äôs meant to replace scattered ‚Äúlast result‚Äù boxes by letting you browse any output folder, hit Scan, and instantly filter/sort across hundreds or thousands of files.<br><br><b>Workflow (typical):</b><br><ol><li>Click <b>Browse‚Ä¶</b> and pick the folder you want to inspect (for example <code>output/</code> or a tool-specific subfolder).</li><li>Choose what to include: <b>Images</b>, <b>Video</b>, <b>Sound</b> and (optionally) <b>Include subfolders</b>.</li><li>Press <b>Scan</b>. Use the search box to filter by file name or folder, and click table headers to sort.</li><li>Select a row to see metadata + any linked job/settings JSON in the <b>Details</b> pane.</li><li>Right‚Äëclick for actions like <b>Open in player</b>, <b>Play with ffplay</b>, <b>Rename‚Ä¶</b>, or <b>Move to Recycle Bin‚Ä¶</b>.</li></ol><b>Notes (important):</b><br><ul><li><b>No thumbnails by design.</b> This keeps scans fast and avoids GPU/CPU spikes in giant folders.</li><li><b>Sorting may pause during scanning.</b> The tab temporarily disables heavy sorting/filtering while a scan is running, then restores it when finished (or when you press Stop).</li><li><b>FFmpeg tools are auto-discovered.</b> Media Explorer uses <code>ffprobe</code>/<code>ffplay</code>/<code>ffmpeg</code> from <code>&lt;root&gt;/presets/bin/</code> when available. If the tools aren‚Äôt detected, some metadata and playback options may be limited.</li><li><b>Delete behavior:</b> ‚ÄúMove to Recycle Bin‚Ä¶‚Äù is used when available on Windows; otherwise the file may be deleted permanently.</li></ul><b>Folder favorites (Tree view):</b><br>The <b>Tree view</b> button opens a folder picker with a drive tree. Right‚Äëclick any folder in the tree to add/remove it as a favorite. Folder favorites are saved to <code>presets/setsave/explorerfav.json</code> so you can jump to common output folders quickly.",
      "features": [
        "Folder scan for Images / Video / Sound, with optional recursive ‚ÄúInclude subfolders‚Äù.",
        "Search + sort table (name/folder/date/size and more), designed to stay responsive on huge folders.",
        "Favorites system (‚òÖ) for individual files, plus a one-click ‚Äú‚òÖ Only‚Äù filter to show favorites only.",
        "Context menu actions: open in FrameVision‚Äôs player, open with external Windows app, play with ffplay, open containing folder, copy path/filename, rename, rescan, and move to Recycle Bin.",
        "In-app clipboard for file management between folders (Copy / Cut / Paste) without leaving the app.",
        "Details panel that can show probed metadata and large text blocks with Expand + Copy for quick sharing/debugging."
      ],
      "hints_tips": [
        "Use <b>View results</b> buttons in other tools (when present) to jump straight into Media Explorer with the correct folder scanned.",
        "If a folder is massive: scan without <b>Include subfolders</b> first, then enable recursion only when you really need it.",
        "Use <b>Search (name or folder)‚Ä¶</b> like a filter: try parts of a seed, model name, preset name, or a date string.",
        "Favorite your ‚Äúkeeper‚Äù outputs with <b>F</b> (or right‚Äëclick ‚Üí ‚òÖ Add to favorites). Then toggle <b>‚òÖ Only</b> to review just the best takes.",
        "For quick comparisons, sort by <b>Modified</b> (newest first) after a run and you‚Äôll see the latest outputs at the top.",
        "If the scan feels slow, press <b>Stop</b>, narrow the scan (disable one of Images/Video/Sound), and rescan.",
        "When you‚Äôre cleaning up: use <b>Move to Recycle Bin‚Ä¶</b> first so you can undo mistakes outside the app.",
        "Using Copy/Cut/Paste: keep an eye on the folder field‚ÄîMedia Explorer can auto-scan the destination folder before pasting, so you always paste into what you see.",
        "If a details field is truncated, use the <b>Expand</b> button in the Details panel, then <b>Copy</b> to share full logs/settings.",
        "If ‚ÄúPlay with ffplay‚Äù fails, it usually means FFmpeg tools aren‚Äôt detected‚Äîre-run the FFmpeg install in <b>Install & Updates</b>."
      ],
      "qa_pairs": [
        {
          "question": "Why are there no thumbnails?",
          "answer": "This is on purpose. Thumbnails are expensive in big folders (lots of decoding + scaling), and they can cause UI hitching. Media Explorer uses default file-type icons so scanning stays fast and stable."
        },
        {
          "question": "What does ‚ÄúInclude subfolders‚Äù do?",
          "answer": "It makes the scanner recurse into all subfolders under the selected folder. Great for a big output tree, but it can increase scan time a lot."
        },
        {
          "question": "How do favorites work?",
          "answer": "Select one or more files and press <b>F</b> (or right‚Äëclick ‚Üí ‚òÖ Add/Remove). Favorites are remembered between app runs. Use <b>‚òÖ Only</b> (or the context menu ‚ÄúShow only favorites‚Äù) to filter the table to favorites."
        },
        {
          "question": "What‚Äôs the difference between file favorites and folder favorites?",
          "answer": "File favorites (‚òÖ) mark specific media files in the table. Folder favorites live in the Tree view dialog and help you quickly jump to commonly used folders; they are saved to <code>presets/setsave/explorerfav.json</code>."
        },
        {
          "question": "I clicked Scan, but sorting feels weird while it‚Äôs scanning. Bug?",
          "answer": "Not necessarily. To keep scanning fast, Media Explorer may temporarily disable heavy sorting/filtering and then restore it after the scan (or after you press Stop)."
        },
        {
          "question": "What does ‚ÄúOpen in player‚Äù do?",
          "answer": "It asks FrameVision‚Äôs built-in player to open the selected media file. If the app can‚Äôt open it internally for any reason, you can use ‚ÄúOpen in external Windows app‚Äù instead."
        },
        {
          "question": "What is ‚ÄúPlay with ffplay‚Äù?",
          "answer": "It launches FFmpeg‚Äôs <code>ffplay</code> for quick playback. This is handy for odd formats or fast checking without loading into the main player. It requires FFmpeg tools to be available."
        },
        {
          "question": "Where do the FFmpeg tools come from?",
          "answer": "Media Explorer auto-discovers <code>ffprobe</code>/<code>ffplay</code>/<code>ffmpeg</code> from <code>&lt;root&gt;/presets/bin/</code> when present. If they‚Äôre missing, reinstall via <b>Install & Updates</b>."
        },
        {
          "question": "Is ‚ÄúMove to Recycle Bin‚Ä¶‚Äù safe?",
          "answer": "On Windows, it uses the Recycle Bin when available. If the OS can‚Äôt move the file (permissions, network share, etc.), the fallback may delete permanently‚Äîso be careful with critical files."
        },
        {
          "question": "How do I quickly find outputs from my last run?",
          "answer": "Scan the tool‚Äôs output folder (or use its <b>View results</b> button if available), then sort by <b>Modified</b> (newest first). Optionally type part of the filename/seed/preset into Search."
        }
      ],
      "controls": [
        "Browse‚Ä¶: pick a folder to scan.",
        "Folder field: shows the current scan folder (you can paste a path).",
        "Scan: start scanning the current folder.",
        "Stop: abort an in-progress scan.",
        "Tree view: pick a folder via a drive tree; supports folder favorites.",
        "Images / Video / Sound: toggle which media types to include.",
        "Include subfolders: recurse into subfolders when scanning.",
        "Search (name or folder)‚Ä¶: filter the table as you type.",
        "‚òÖ Only: show only favorited files.",
        "Right‚Äëclick table row: open/play/copy/rename/delete and file management actions.",
        "Details panel: shows metadata; long values offer Expand + Copy."
      ],
      "install": [
        "Media Explorer relies on your bundled FFmpeg tools (ffprobe/ffplay/ffmpeg). If they‚Äôre missing, install them via <b>Install & Updates</b>.",
        "Folder favorites are stored in <code>presets/setsave/explorerfav.json</code> (created automatically when you add your first favorite folder)."
      ],
      "troubleshoot": [
        "If Scan finds nothing: double-check the selected folder and that the correct media type toggles (Images/Video/Sound) are enabled.",
        "If metadata is missing: FFmpeg tools may not be detected; reinstall FFmpeg via <b>Install & Updates</b>.",
        "If scanning is too slow: disable <b>Include subfolders</b>, narrow media types, or scan a smaller folder first.",
        "If ‚ÄúOpen in player‚Äù doesn‚Äôt work for a file: try ‚ÄúOpen in external Windows app‚Äù or ‚ÄúPlay with ffplay‚Äù.",
        "If delete fails: the file may be locked by another program. Close the program and try again."
      ],
      "_layout": "overview/features/hints_tips/install/troubleshoot"
    },
    "Multimedia_Player": {
      "description": "Main FrameVision viewer for images, GIFs, video, and audio. Includes classic transport, seek slider + time readout, fullscreen overlay controls, zoom/pan, compare wipe, quick upscale, and an Ask Framie chat button.",
      "key_terms": [
        "Multimedia player",
        "Drag & drop media",
        "Open / Play-Pause / Stop",
        "Seek slider + time left + percent",
        "Fullscreen overlay controls",
        "Zoom & pan (0.5√ó‚Äì50√ó)",
        "Zoom reset bubble",
        "Compare wipe (‚ñ∑‚îÇ‚óÅ) with slider + draggable divider",
        "Repeat (video only)",
        "Quick Upscale (queues RealESRGAN-general-x4v3 4√ó)",
        "Ask Framie (chat popup)",
        "FFmpeg QtMultimedia backend (QT_MEDIA_BACKEND=ffmpeg)",
        "Player rebuild to avoid deadlocks",
        "Large image allocation limit bump"
      ],
      "hints_tips": [
        "If playback stutters when lots of finished jobs exist in the queue, the app can pause queue auto-refresh while video is playing (config: queue_pause_refresh_while_playing).",
        "Use the Play button for transport‚Äîclicking the preview area does not toggle play/pause.",
        "Wheel to zoom (0.5√ó‚Äì50√ó). When zoomed in, left-drag to pan; click the on-cursor bubble to reset zoom.",
        "Fullscreen: double-click the preview (or press ‚õ∂). In fullscreen, Esc exits and Space toggles play/pause.",
        "Compare: click ‚ñ∑‚îÇ‚óÅ, pick a second file, then use the wipe slider (or drag the divider) to compare details.",
        "Repeat: enable it if you want the video to loop instead of returning to the background at the end."
      ],
      "qa_pairs": [
        {
          "question": "Does single-click on the preview toggle Play/Pause?",
          "answer": "No. Click-to-toggle is disabled; use the ‚ñ∂ / ‚ñÆ‚ñÆ button (or Space in fullscreen)."
        },
        {
          "question": "How do I enter/exit fullscreen?",
          "answer": "Double-click the preview or press ‚õ∂ to enter. Press Esc to exit. In fullscreen, the control overlay auto-hides on inactivity."
        },
        {
          "question": "How do I compare two files?",
          "answer": "Click ‚ñ∑‚îÇ‚óÅ (Compare), pick a second file, then use the wipe slider (or drag the divider on the preview). Image-vs-image and video-vs-video are supported; in video compare the right side is muted and kept in sync."
        },
        {
          "question": "What does Repeat do?",
          "answer": "Repeat loops video when it reaches the end. If Repeat is off, reaching the end clears the video sink and returns to the background view."
        },
        {
          "question": "Why does FrameVision rebuild the player when switching media types?",
          "answer": "To fully release QtMultimedia threads/sinks between still images/GIFs and video/audio, avoiding backend deadlocks and stuck overlays."
        }
      ],
      "controls": [
        "Drop area (viewer): drag & drop a file to load it.",
        "üìÇ Open: choose a file to load into the player.",
        "‚ñ∂ / ‚ñÆ‚ñÆ Play/Pause: toggles playback (single-click on the preview area does NOT toggle playback).",
        "‚ñ† Stop: stops playback, clears the video sink, and returns to the empty background view.",
        "Seek slider: scrub position for audio/video (disabled for still images and GIF playback).",
        "Time label: shows elapsed / remaining and a percent readout for time-based media.",
        "‚Ñπ Info: opens the media metadata popup (ffprobe-style details).",
        "‚õ∂ Fullscreen: enters fullscreen; double-click the preview to toggle; Esc exits; Space toggles play/pause.",
        "‚ñ∑‚îÇ‚óÅ Compare: pick a second file and enable wipe-compare; uses a dedicated compare slider (0‚Äì1000).",
        "Compare slider: reveal left vs right; you can also drag the divider directly on the preview.",
        "Upscale: queues a quick 4√ó upscale job (RealESRGAN-general-x4v3) for the current file.",
        "Ask Framie: opens the AskPopup chat window.",
        "Repeat: toggles video looping; visible only when a video is loaded."
      ],
      "_controls_meta": {
        "source": "auto-extracted from code (helpers/)",
        "modules_used": [
          "framevision_app.py"
        ]
      },
      "features": [
        "Toolbar: Open (üìÇ), Play/Pause (‚ñ∂/‚ñÆ‚ñÆ), Stop (‚ñ†), Info (‚Ñπ), Fullscreen (‚õ∂), Compare (‚ñ∑‚îÇ‚óÅ), Upscale, Ask Framie, Repeat (video only).",
        "Drag & drop onto the viewer area to load media.",
        "Animated GIFs use QMovie (CacheAll) on the label; stills use pixmap rendering with zoom/pan support.",
        "Audio/video use QMediaPlayer + QAudioOutput + QVideoSink; seek slider enabled for time-based media.",
        "Time label shows elapsed / time-left plus a percent readout while playing.",
        "Fullscreen toggled by double-click; overlay control bar auto-hides; Esc exits; Space toggles play/pause.",
        "Zoom: mouse wheel changes zoom in 0.5√ó steps, clamped to 0.5√ó‚Äì50√ó; pan by dragging when zoomed > 1√ó.",
        "Compare mode: choose a second file and use the wipe slider to reveal left vs right; divider can be dragged directly on the view; close compare returns to normal.",
        "Video compare uses a second muted QMediaPlayer kept in sync with seek/play/pause/stop.",
        "Repeat toggle loops video at EndOfMedia; when repeat is off, EndOfMedia clears the video sink and shows the background.",
        "Quick Upscale queues a 4√ó RealESRGAN-general-x4v3 upscale job to the worker queue, writing to the standard output/upscale folder.",
        "Info button runs ffprobe-style probing and shows a metadata popup (streams/codecs/size/duration, etc.).",
        "Engine tweaks: prefer FFmpeg multimedia backend; silence noisy multimedia logs; bump image IO allocation limit."
      ],
      "install": [
        "FrameVision prefers the FFmpeg QtMultimedia backend (sets QT_MEDIA_BACKEND=ffmpeg at startup) to avoid WMF first-play stalls on Windows.",
        "Large image safety: bumps Qt image allocation limit (QImageReader) to ~1.5GB and sets QT_IMAGEIO_MAXALLOC.",
        "If media probing is needed, Info uses ffprobe-style probing via helpers.mediainfo."
      ],
      "troubleshoot": [
        "If a video ends and the view goes blank: that is expected when Repeat is OFF; the sink is cleared and the background logo returns.",
        "If a previous GIF or still seems to ‚Äòstick‚Äô over video: Stop and reload; the player rebuild logic is designed to clear QMovie/pixmaps before video playback.",
        "If playback feels choppy while the queue is busy, disable or enable queue_pause_refresh_while_playing depending on your preference (it pauses queue polling during playback by default).",
        "If very large images fail to load, the app already raises the allocation limit; if it still fails, try opening a smaller version or converting the file."
      ],
      "overview": "Purpose: a single, always-available media viewer inside FrameVision for quick preview and inspection.<br><br>Supported media<br><ul><li>Still images:.png.jpg/.jpeg.bmp.webp.tif/.tiff (and any Qt-supported image)</li><li>Animated GIF: handled via QMovie on the viewer label (with cache enabled)</li><li>Audio: any extension in AUDIO_EXTS (decoded by QtMultimedia)</li><li>Video: decoded by QtMultimedia (FFmpeg backend preferred)</li></ul><br><br>Core UI<br><ul><li>Big preview area with drag &amp; drop support</li><li>Toolbar buttons: Open, Play/Pause, Stop, Info, Fullscreen, Compare, Upscale, Ask Framie, Repeat (video only)</li><li>Seek slider (audio/video) + time label showing elapsed/remaining and %</li></ul><br><br>Viewer features<br><ul><li>Mouse wheel zoom (0.5√ó‚Äì50√ó), left-drag pan when zoomed, and a small on-cursor reset bubble</li><li>Fullscreen via double-click (Esc exits; Space toggles Play/Pause inside fullscreen)</li><li>Compare mode: wipe slider (and draggable divider) between current media and a second picked file; supports image-vs-image and video-vs-video (right side muted, both players kept in sync)</li></ul><br><br>Robustness/perf notes<br><ul><li>The player is rebuilt when switching between stills/GIFs and video/audio to avoid backend thread deadlocks.</li><li>Queue auto-refresh can pause while playing video (config: queue_pause_refresh_while_playing).</li><li>Large image allocation limit is raised (QImageReader) to reduce ‚ÄòRejecting image ‚Ä¶ 256 megabytes‚Äô issues.</li></ul>",
      "_layout": "overview/features/install/troubleshoot",
      "_features_meta": {
        "oneliners_source": "manual update from framevision_app.py",
        "oneliners_count_added": 13
      }
    },
    "Music_Video_Clip_Creator": {
      "key_terms": [
        "Music VideoClip Creator",
        "Music Clip Creator",
        "Auto Music Sync",
        "beat detection",
        "beats per segment",
        "timeline",
        "one click presets",
        "clip_presets.json",
        "FFmpeg",
        "ffprobe",
        "random clip selection",
        "beat synced visuals"
      ],
      "description": "Create a beat‚Äëmatched music videoclip from your own video clips (and optionally images). FrameVision analyzes your music, detects beats/energy, then builds a timeline that cuts on musical moments. You can keep it fully automatic (random clip selection) or take control with the Timeline.<br><br><b>Workflow (typical):</b><br>1) Pick a <b>music track</b>.<br>2) Choose your <b>clip source</b> (a folder, a single file, or a list of files).<br>3) Tune the style (beats per segment, transitions, FX level / cinematic options).<br>4) Generate the videoclip, then optionally add <b>beat‚Äësynced visuals</b> on top.<br><br>Under the hood this tool uses local <b>FFmpeg/ffprobe</b> for probing and rendering.",
      "hints_tips": [
        "Start simple: try a clean preset first, then add heavier FX once timing feels right.",
        "If cuts feel too long, reduce beats per segment (e.g., 4 ‚Üí 2 ‚Üí 1).",
        "If your sources repeat too often, prefer shuffle/no‚Äërepeat style (when available) and load more clips.",
        "If you use images, expect them to behave differently than video (some timeline functions are video‚Äëonly).",
        "If processing feels slow, disable Beat‚Äësynced visuals during your first test render and turn it on for the final export."
      ],
      "features": [
        "Automatic beat/energy analysis to drive clip cuts and pacing.",
        "Optional Timeline override to manually choose clips per segment.",
        "One‚Äëclick presets loaded from `presets/setsave/clip_presets.json` (with built‚Äëin fallbacks).",
        "Optional Beat‚Äësynced visuals overlay on top of the finished video (slider controls intensity)."
      ],
      "qa_pairs": [
        {
          "question": "What does Beat synced visuals do?",
          "answer": "Beat synced visuals toggle\nThis will create beat synced visuals on top off the finished video.\nUsing the slider will show more or less of the visuals, 100 will only show the beatsynced visuals.\nUsing this feature more then doubles processing time."
        },
        {
          "question": "How does the Timeline work?",
          "answer": "Timeline\nUse the timeline to bypass the random selection off clips by adding your own clips to each segment.\nThe timeline allows saving and loading from json, but this only works for video. Images will be replaced by random clips."
        },
        {
          "question": "What are One click presets?",
          "answer": "One click presets\nApply a variety of settings and effects and create a videoclip in 1 click.\nThese are default settings and might not look good with every music track."
        },
        {
          "question": "Where do One‚Äëclick presets come from?",
          "answer": "Presets are loaded from `presets/setsave/clip_presets.json`. If the file is missing or broken, FrameVision falls back to safe built‚Äëins like ‚ÄúClean cuts (no FX)‚Äù and ‚ÄúChill / slow cinematic‚Äù."
        },
        {
          "question": "Why are my images not preserved when I load a timeline JSON?",
          "answer": "Timeline JSON save/load is designed for video segments. If your timeline includes images, they may be replaced by random clips when reloading."
        }
      ],
      "controls": [
        "Music track: choose an audio file to analyze.",
        "Clip source: choose a folder / file(s) containing your footage.",
        "One click presets‚Ä¶: pick a preset and auto‚Äëgenerate a videoclip with those settings.",
        "Timeline: manual per‚Äësegment clip selection (optional).",
        "Beat‚Äësynced visuals: overlay visuals on top of the finished video (slider controls how much you see)."
      ],
      "install": [
        "Uses your bundled FFmpeg/ffprobe. If missing, see <b>InstallUpdates ‚Üí Install</b>.",
        "Optional preset file: <code>presets/setsave/clip_presets.json</code> (safe fallbacks exist if missing)."
      ],
      "troubleshoot": [
        "If generation fails immediately, check that FFmpeg/ffprobe are detected and that the source clips are valid video files.",
        "If your output feels off‚Äëbeat: try a different sensitivity / beats‚Äëper‚Äësegment setting, or use the Timeline to lock key moments.",
        "If it‚Äôs very slow: disable Beat‚Äësynced visuals for test runs; enable only for the final render (it can more than double processing time)."
      ],
      "overview": "Create a beat‚Äëmatched music videoclip from your clips. Automatic mode cuts on the music; Timeline mode lets you fully control segment clips. Optional Beat‚Äësynced visuals can be layered on top of the finished render.",
      "_layout": "overview/features/install/troubleshoot"
    },
    "Queue": {
      "description": "Central job manager for Upscaler/Tools. Uses on‚Äëdisk state folders (jobs/pending|running|done|failed), per‚Äëjob logs in logs/, and outputs under output/. Supports reordering and cancel.",
      "key_terms": [
        "cancel",
        "jobs/done",
        "jobs/failed",
        "jobs/pending",
        "jobs/running",
        "logs",
        "output/screenshots",
        "output/trims",
        "output/video",
        "reorder"
      ],
      "hints_tips": [
        "Open a job‚Äôs log to see the exact command lines and errors.",
        "If UI flickers, temporarily disable Auto refresh (debounced updates planned)."
      ],
      "qa_pairs": [
        {
          "question": "Where are outputs and logs?",
          "answer": "Outputs are under output/; logs are in logs/. Job state folders are under jobs/."
        },
        {
          "question": "Why does progress look indeterminate?",
          "answer": "Some engines don‚Äôt emit %; real parsing is planned where possible."
        }
      ],
      "features": [
        "States: pending/running/done/failed; per-job run_*.log; heartbeat; cancel/reorder; progress via.progress.json.",
        "cancel",
        "jobs/done",
        "jobs/failed",
        "jobs/pending",
        "jobs/running",
        "logs",
        "output/screenshots",
        "output/trims",
        "output/video",
        "reorder",
        "Key term: cancel",
        "Key term: jobs/done",
        "Key term: jobs/failed",
        "Key term: jobs/pending",
        "Key term: jobs/running",
        "Key term: logs",
        "Key term: output/screenshots",
        "Key term: output/trims",
        "Key term: output/video",
        "Key term: reorder"
      ],
      "install": [
        "General install flow: use <b>Install/Updates ‚Üí Option 1</b> to auto-detect environment, then <b>Option 2</b> for repair, or <b>Option 3/4</b> for full stacks.",
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "If the queue UI flickers, disable Auto refresh as a temporary workaround (see roadmap for debounce fix).",
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build.",
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "overview": "Central job manager for Upscaler/Tools. Uses on‚Äëdisk state folders (jobs/pending|running|done|failed), per‚Äëjob logs in logs/, and outputs under output/. Supports reordering and cancel.",
      "_layout": "overview/features/install/troubleshoot"
    },
    "RIFE_Interpolation": {
      "key_terms": [
        "RIFE Interpolation",
        "one-click frame interpolation",
        "2√ó default",
        "queue-native",
        "slow-mo 0.15√ó‚Äì1.0√ó",
        "audio retime",
        "1.0√ó‚Äì4.0√ó interpolation",
        "Superfast NCNN/Vulkan mode",
        "bundled models auto-extract",
        "speed profiles 1‚Äì5",
        "Vulkan Superfast"
      ],
      "description": "Interpolates frames for smoother video (default 2√ó FPS). Supports slow-motion (0.15√ó‚Äì1.0√ó with audio adjustment) and higher FPS (1.0√ó‚Äì4.0√ó). Models auto-extract on first run. Superfast mode uses NCNN/Vulkan for speed. Integrates with queue for progress/ETA/logs.",
      "hints_tips": [
        "No setup needed‚Äîmodels extract automatically.",
        "Use Superfast for quick jobs but note it blocks UI.",
        "For slow-mo, audio is automatically retimed.",
        "Cancel jobs safely cleans temps."
      ],
      "qa_pairs": [
        {
          "question": "How does RIFE work in FrameVision?",
          "answer": "One-click interpolation at 2√ó default; supports slow-mo (0.15√ó‚Äì1.0√ó) or higher FPS (up to 4√ó) with audio retime."
        },
        {
          "question": "What is Superfast mode?",
          "answer": "An optional NCNN/Vulkan toggle for blazing speed using bundled models like v4.6/HD/UHD/Anime."
        },
        {
          "question": "Where are RIFE models stored?",
          "answer": "Auto-extracted to models/rife/default on first run."
        }
      ],
      "controls": [
        "Browse...",
        "Choose Folder",
        "Open Folder",
        "Start",
        "Cancel",
        "Ready.",
        "Streaming (low memory)",
        "Model:",
        "GPU:",
        "Threads:",
        "Chunk size:",
        "RIFE preset:",
        "Pace between chunks (ms):",
        "UHD safety (-u)",
        "Keep temp frames",
        "Auto CPU fallback",
        "CRF:",
        "PNG level:",
        "Use JPEG temp frames",
        "JPEG quality:",
        "Use NVENC for final encode",
        "x264 preset:",
        "Minimal logging (to file)",
        "Starting...",
        "Auto",
        "Multiplier:",
        "2.00√ó",
        "2√ó",
        "4√ó",
        "Auto-play when finished",
        "Result: ‚Äî",
        "Load profile:",
        "Default",
        "Install/Verify",
        "Use NCNN Vulkan superfast engine (blocks UI)",
        "Play last result (internal)",
        "Result in external player",
        "Start (Queue)",
        "Add Batch",
        "Open RIFE folder"
      ],
      "_controls_meta": {
        "source": "auto-extracted from code (helpers/)",
        "modules_used": [
          "rife_tab.py",
          "interp.py"
        ]
      },
      "overview": "Interpolates frames for smoother video (default 2√ó FPS). Supports slow-motion (0.15√ó‚Äì1.0√ó with audio adjustment) and higher FPS (1.0√ó‚Äì4.0√ó). Models auto-extract on first run. Superfast mode uses NCNN/Vulkan for speed. Integrates with queue for progress/ETA/logs.",
      "features": [
        "Key term: RIFE Interpolation",
        "Key term: one-click frame interpolation",
        "Key term: 2√ó default",
        "Key term: queue-native",
        "Key term: slow-mo 0.15√ó‚Äì1.0√ó",
        "Key term: audio retime",
        "Key term: 1.0√ó‚Äì4.0√ó interpolation",
        "Key term: Superfast NCNN/Vulkan mode",
        "Key term: bundled models auto-extract",
        "Key term: speed profiles 1‚Äì5",
        "Key term: Vulkan Superfast",
        "Control: Multiplier: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: 2.00√ó ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: 2√ó ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: 4√ó ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Streaming (low memory) ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Auto-play when finished ‚Äî checkbox. Default: off (toggle to enable). Does: Transport control to start/stop playback.",
        "Control: Result: ‚Äî ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Load profile: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Default ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Model: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Install/Verify ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Use NCNN Vulkan superfast engine (blocks UI) ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Play last result (internal) ‚Äî button. Default: n/a (runs on click). Does: Transport control to start/stop playback.",
        "Control: Result in external player ‚Äî button. Default: n/a (runs on click). Does: Transport control to start/stop playback.",
        "Control: Start (Queue) ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Add Batch ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Open RIFE folder ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Result: ‚Äî ‚Äî text label. Default: unset/neutral. Does: UI control.",
        "Control: Browse... ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Choose Folder ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Open Folder ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Start ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Cancel ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Ready. ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: GPU: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Threads: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Chunk size: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: RIFE preset: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Pace between chunks (ms): ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: UHD safety (-u) ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Keep temp frames ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Auto CPU fallback ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: CRF: ‚Äî label. Default: CRF 20 (typical default). Does: Control quality vs size; lower CRF = higher quality.",
        "Control: PNG level: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Use JPEG temp frames ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: JPEG quality: ‚Äî label. Default: unset/neutral. Does: Control quality vs size; lower CRF = higher quality.",
        "Control: Use NVENC for final encode ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: x264 preset: ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Minimal logging (to file) ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Starting... ‚Äî text label. Default: unset/neutral. Does: UI control.",
        "Control: Auto ‚Äî list item. Default: selectable option (default depends on the combo). Does: An option in a dropdown list."
      ],
      "install": [
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "_layout": "overview/features/install/troubleshoot",
      "_features_meta": {
        "oneliners_source": "helpers/ code scan",
        "oneliners_count_added": 41
      }
    },
    "SDXL_Inpainter": {
      "description": "SDXL Inpainter lets you <b>edit parts of an image</b> by painting a mask (white = area to change) and describing what you want. Everything runs <b>locally</b> using your own SDXL inpaint model files‚Äîno cloud.",
      "key_terms": [
        "SDXL Inpainter",
        "SDXLInpaintPane",
        "models/inpaint/",
        "output/inpaint/",
        ".sdxl_inpaint (dedicated env)",
        "presets/extra_env/sdxl_inpaint_install.bat",
        "presets/setsave/sdxl_inpaint_settings.json",
        "mask (white = change area)",
        "Paint‚Ä¶ mask painter",
        "Clear painted",
        "Invert mask",
        "Match size to loaded image",
        "Steps",
        "CFG",
        "Strength",
        "Seed (-1 = random)",
        "Device (auto/cuda/cpu)",
        "CPU offload",
        "Attention slicing",
        "VAE tiling",
        "Scheduler (Euler / Euler a / DPM++ 2M / DDIM / Heun)"
      ],
      "overview": "SDXL Inpainter is FrameVision‚Äôs ‚Äúchange only this part‚Äù image editor.<br><br><b>Typical workflow:</b><br><ol><li>Select an <b>Inpaint model</b> (it scans <code>models/inpaint/</code>).</li><li>Load an <b>Image</b>.</li><li>Add a <b>Mask</b>: either browse a mask file, or click <b>Paint‚Ä¶</b> and paint the area you want to change. <b>White = will change</b>, black = protected. Use <b>Invert mask</b> if your mask is reversed.</li><li>Write a <b>Prompt</b> (and optional Negative prompt).</li><li>Click <b>Run Inpaint</b>. The preview updates, and you can <b>Save as‚Ä¶</b> or <b>Open folder</b>.</li></ol><br><b>Where results go:</b> <code>output/inpaint/</code>. Your last-used settings are remembered in <code>presets/setsave/sdxl_inpaint_settings.json</code>.",
      "features": [
        "Runs <b>SDXL inpainting locally</b> using your own checkpoints (no downloads in-tool).",
        "Scans <code>models/inpaint/</code> for <code>.safetensors</code>/<code>.ckpt</code> files and Diffusers model folders.",
        "Built‚Äëin <b>mask painter</b>: paint white to mark the inpaint region; supports quick <b>Clear painted</b> reset.",
        "Optional <b>Invert mask</b> toggle (useful if your mask file uses the opposite convention).",
        "Resolution controls with a recommended <b>Match size to loaded image</b> option.",
        "Performance/VRAM options: <b>CPU offload</b>, <b>Attention slicing</b>, <b>VAE tiling</b>, plus scheduler selection.",
        "Runs in a <b>dedicated environment</b> (<code>.sdxl_inpaint</code>) to keep the main app lean and avoid dependency conflicts.",
        "Settings persistence (prompt, sizes, last-used folders, toggles) in <code>presets/setsave/sdxl_inpaint_settings.json</code>."
      ],
      "notes": [
        "<b>Mask rule:</b> SDXL inpaint expects <b>white = change</b> (and black = keep). The UI repeats this in the mask preview.",
        "If you don‚Äôt provide a mask (file or painted), the tool uses an empty mask (so you‚Äôll usually see little to no change).",
        "<b>Strength</b> is the ‚Äúhow much should it change?‚Äù knob. Lower values keep more of the original; higher values allow bigger edits.",
        "Some checkpoints are not true ‚Äúinpaint‚Äù models. FrameVision has a compatibility fallback that uses an SDXL Img2Img pipeline and composites using your mask; results can differ slightly from a real inpaint model."
      ],
      "hints_tips": [
        "Start with <b>Match size to loaded image</b> ON. It avoids unintended resizes and keeps results predictable.",
        "For subtle fixes (blemishes, small cleanup): try <b>Strength 0.4‚Äì0.65</b>, moderate Steps, and keep the masked area tight.",
        "For object removal: paint the object fully white, then prompt what should be there instead (e.g., ‚Äúclean wall texture, no object‚Äù).",
        "If you see VRAM errors: set Device to <b>auto/cuda</b>, turn ON <b>CPU offload</b> + <b>Attention slicing</b> (and optionally <b>VAE tiling</b>), then lower resolution.",
        "If edges look harsh: paint slightly beyond the boundary and use a slightly lower Strength; SDXL blends better when it has context.",
        "Seed <b>-1</b> gives a new random result each run; set a fixed seed if you want reproducibility."
      ],
      "qa_pairs": [
        {
          "question": "Where do I put my SDXL inpaint models?",
          "answer": "Place them in <code>models/inpaint/</code> (either a single <code>.safetensors</code>/<code>.ckpt</code> file or a Diffusers folder). Then click <b>Refresh</b> in the Model section."
        },
        {
          "question": "Do I need a special ‚Äúinpaint‚Äù model?",
          "answer": "You‚Äôll get the best results with a true SDXL inpaint model. If you use a regular SDXL checkpoint, the tool may fall back to a compatibility mode (Img2Img + masked composite), which can look different."
        },
        {
          "question": "My mask seems backwards‚Äîwhat do I do?",
          "answer": "Turn on <b>Invert mask</b>. Remember: <b>white = will change</b>, black = protected."
        },
        {
          "question": "It says the SDXL‚ÄëInpaint environment is missing.",
          "answer": "Run <code>presets/extra_env/sdxl_inpaint_install.bat</code> to create the dedicated environment at <code>.sdxl_inpaint</code>. After that, restart FrameVision and try again."
        },
        {
          "question": "Can I run SDXL inpaint on CPU?",
          "answer": "Yes‚Äîset Device to <b>cpu</b>. It will be much slower, but it can work on machines without CUDA."
        },
        {
          "question": "Why did it change more than just the masked area?",
          "answer": "Common causes: (1) your mask is inverted (use <b>Invert mask</b>), (2) the mask got resized/cropped unexpectedly (keep <b>Match size to loaded image</b> ON), or (3) Strength is too high‚Äîlower it for more localized edits."
        },
        {
          "question": "Where are my outputs saved?",
          "answer": "Outputs are written under <code>output/inpaint/</code>. Use <b>Open folder</b> to jump there quickly."
        }
      ],
      "controls": [
        "Inpaint model ‚Äî dropdown. Does: Pick an inpaint checkpoint or Diffusers folder found in <code>models/inpaint/</code>.",
        "Refresh ‚Äî button. Does: Rescan <code>models/inpaint/</code> for new/removed models.",
        "Image ‚Äî path field + Browse‚Ä¶ button. Does: Choose the image to edit.",
        "Mask ‚Äî path field + Browse‚Ä¶ button. Does: Choose an external mask image (white = change).",
        "Paint‚Ä¶ ‚Äî button. Does: Open the built‚Äëin mask painter (paint white to mark the inpaint area).",
        "Clear painted ‚Äî button. Does: Clears the painted mask (keeps any mask file path you selected).",
        "Invert mask ‚Äî toggle. Does: Swap white/black before inpainting (useful if your mask convention is reversed).",
        "Mask preview ‚Äî panel. Does: Shows the effective mask after resize/invert (white = will change).",
        "Prompt ‚Äî text box. Does: Describe what you want in the masked area.",
        "Negative prompt ‚Äî text box. Does: Describe what to avoid (optional).",
        "Steps ‚Äî spinbox. Does: Number of diffusion steps (quality vs speed).",
        "CFG ‚Äî spinbox. Does: Guidance scale (prompt adherence).",
        "Strength ‚Äî spinbox. Does: How strongly to change the image (higher = bigger edits).",
        "Seed ‚Äî spinbox. Does: Reproducibility control; <b>-1</b> = random seed.",
        "Width/Height ‚Äî spinboxes. Does: Output size (multiples of 64).",
        "Match size to loaded image ‚Äî checkbox. Does: Uses the input image‚Äôs resolution (recommended).",
        "Device ‚Äî dropdown. Does: Choose <b>auto</b>, <b>cuda</b>, or <b>cpu</b>.",
        "CPU offload (if CUDA) ‚Äî checkbox. Does: Offload parts of the model to CPU to reduce VRAM usage (slower).",
        "Attention slicing ‚Äî checkbox. Does: Reduces VRAM usage (slower).",
        "VAE tiling ‚Äî checkbox. Does: Reduces VRAM usage (slower; can help at higher resolutions).",
        "Scheduler ‚Äî dropdown. Does: Choose the sampler (Euler / Euler a / DPM++ 2M / DDIM / Heun).",
        "Run Inpaint ‚Äî button. Does: Start the inpaint job.",
        "Cancel ‚Äî button. Does: Stop the current run (best-effort).",
        "Save as‚Ä¶ ‚Äî button. Does: Save the last output to a location you choose.",
        "Open folder ‚Äî button. Does: Open the output folder (<code>output/inpaint/</code>)."
      ],
      "install": [
        "Run <code>presets/extra_env/sdxl_inpaint_install.bat</code> once to create the dedicated environment at <code>.sdxl_inpaint</code> (required for this tool).",
        "Put your SDXL inpaint checkpoints (or Diffusers folders) in <code>models/inpaint/</code> and press <b>Refresh</b>.",
        "If you move the app folder, keep the <code>.sdxl_inpaint</code> folder next to it (portable install)."
      ],
      "troubleshoot": [
        "‚ÄúNo models found‚Äù: confirm you have models under <code>models/inpaint/</code>, then press <b>Refresh</b>.",
        "‚ÄúSDXL‚ÄëInpaint environment not found‚Äù: run <code>presets/extra_env/sdxl_inpaint_install.bat</code> and restart FrameVision.",
        "Out of VRAM / CUDA OOM: enable <b>CPU offload</b> + <b>Attention slicing</b>, consider <b>VAE tiling</b>, and reduce resolution.",
        "Mask looks wrong: check <b>Invert mask</b>, ensure the mask matches your image, and keep <b>Match size to loaded image</b> ON.",
        "Runner errors mentioning pipeline / linear layers: your checkpoint may not be compatible with SDXL inpaint. Try a different inpaint model (or use a Diffusers folder version if available)."
      ],
      "_layout": "overview/features/notes/hints_tips/qa_pairs/controls/install/troubleshoot"
    },
    "Settings": {
      "description": "Controls global look &amp; behavior. Includes a Theme picker (Apply / Auto / Random), intro overlay effects for the startup intro image (with optional preview), a collapsible Options panel for UI/diagnostics toggles, temperature units (¬∞C/¬∞F), and maintenance tools like Clear program cache‚Ä¶, Restart App, and Show QSettings in CMD.",
      "key_terms": [
        "Apply",
        "Auto theme",
        "Banners",
        "Clear program cache",
        "Colored banners",
        "Diagnostic logging",
        "Emoji labels",
        "Intro overlay",
        "Keep user preferences",
        "Matrix overlay",
        "Options (collapsible)",
        "Overlay preview",
        "Random theme",
        "Reorder tabs",
        "Reset tab order",
        "Restart App",
        "Show QSettings",
        "Show hover tips",
        "Swap layout",
        "Temperature units (¬∞C/¬∞F)",
        "Theme"
      ],
      "hints_tips": [
        "Theme changes apply immediately when you pick a new theme (and you can still hit Apply).",
        "Intro overlay is purely visual for the startup intro image; if you don‚Äôt want extra animation, toggle it off or disable Preview.",
        "Clear program cache‚Ä¶ is safe and runs in a separate process so the UI doesn‚Äôt freeze‚Äîuse it after updates or when the app feels ‚Äòweird‚Äô.",
        "If emoji looks broken on your system, disable Emoji labels (or keep Emoji labels on but turn off ‚ÄòShow labels with emojis on the tabs‚Äô).",
        "Use Reorder tabs to drag tabs into your preferred order; hit Reset to default if you want the original layout back."
      ],
      "qa_pairs": [
        {
          "question": "How do I change the theme?",
          "answer": "Go to Settings ‚Üí Theme and pick a theme. It applies immediately when you change the selection (and the Apply button is there too). Choose Auto to switch by time of day or Random for a different theme each time."
        },
        {
          "question": "What is ‚ÄúIntro overlay‚Äù?",
          "answer": "It adds a visual effect on top of the startup intro image (e.g., Matrix rain, Bokeh, Starfield). You can pick the overlay style and optionally enable Preview to see it briefly inside Settings."
        },
        {
          "question": "What does ‚ÄúClear program cache‚Ä¶‚Äù remove?",
          "answer": "It opens a checklist (Python cache, old logs, old thumbnails, Qt cache, temp folders). Pick what you want to clean, then it runs a cleanup helper in a separate process and reports what it removed."
        },
        {
          "question": "How do I reorder tabs?",
          "answer": "Enable Settings ‚Üí Options ‚Üí Reorder tabs. Then you can drag tabs to rearrange them. Use Reset to default to restore the original order."
        },
        {
          "question": "Where do I find temperature units?",
          "answer": "In Settings ‚Üí Options ‚Üí Temperature units. Pick Celsius or Fahrenheit; it‚Äôs stored in the app config and used across the UI."
        }
      ],
      "controls": [
        "Theme:",
        "Apply",
        "Intro overlay",
        "Overlay mode (Random / Matrix (Green) / Matrix (Blue) / Bokeh / Rain / Fireworks / ‚Ä¶)",
        "Preview",
        "Options",
        "Clear app Python cache at (re)start",
        "Show hover tips",
        "Keep user preferences",
        "Enable diagnostic logging (restart to apply)",
        "Banners",
        "Colored",
        "Emoji labels",
        "Show labels with emojis on the tabs",
        "Swap left/right layout",
        "Reorder tabs",
        "Reset to default",
        "Temperature units:",
        "Clear program cache‚Ä¶",
        "Restart App",
        "Show QSettings in CMD"
      ],
      "_controls_meta": {
        "source": "updated from settings_tab.py (user-provided)",
        "modules_used": [
          "settings_tab.py"
        ]
      },
      "features": [
        "Theme picker with Apply + Auto + Random; expanded theme list (Day/Evening/Night, greys, neon, colorful themes).",
        "Intro overlay effects for the startup intro image, with selectable mode and optional preview in Settings.",
        "Collapsible Options panel (persisted) to keep the Settings tab lightweight and avoid scroll clipping glitches.",
        "Behavior toggles: clear Python cache at (re)start, show hover tips, keep user preferences after restart, swap left/right layout.",
        "UI toggles: banners on/off + colored/grey, emoji labels (and optional text on tab titles), reorder tabs with reset.",
        "Temperature units (¬∞C/¬∞F) stored in config (`temp_units`).",
        "Maintenance: Clear program cache‚Ä¶ (selectable cleanup; runs in a separate process), Restart App, Show QSettings in CMD."
      ],
      "install": [
        "General install flow: use <b>Install/Updates ‚Üí Option 1</b> to auto-detect environment, then <b>Option 2</b> for repair, or <b>Option 3/4</b> for full stacks.",
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build.",
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "overview": "Controls global look &amp; behavior. Includes a Theme picker (Apply / Auto / Random), intro overlay effects for the startup intro image (with optional preview), a collapsible Options panel for UI/diagnostics toggles, temperature units (¬∞C/¬∞F), and maintenance tools like Clear program cache‚Ä¶, Restart App, and Show QSettings in CMD.",
      "_layout": "overview/features/install/troubleshoot",
      "_features_meta": {
        "oneliners_source": "helpers/ code scan",
        "oneliners_count_added": 13
      }
    },
    "System_Monitor": {
      "description": "System Monitor shows environment versions (CUDA/Torch/TorchVision/Transformers), hardware metrics, and tool presence checks. Includes a ¬∞C/¬∞F toggle, optional HUD overlay with colorized thresholds (with hysteresis), and quick diagnostics links.<br><br>",
      "key_terms": [
        "Versions line",
        "Temp units (¬∞C/¬∞F)",
        "Tools check (FFmpeg/Real‚ÄëESRGAN/Waifu2x/RIFE/Qwen)",
        "HUD overlay",
        "Diagnostics (logs, QSettings)"
      ],
      "hints_tips": [
        "If GPU metrics are N/A, update drivers and ensure CUDA toolkit matches Torch.",
        "Use ¬∞F/¬∞C toggle to match your preference; units propagate across the UI.",
        "Keep HUD in low‚Äëimpact mode during heavy processing.",
        "Use Diagnostics to open logs and dump settings for support.",
        "If GPU metrics show N/A, update drivers and align CUDA/Torch versions.",
        "Use the temperature units toggle; it applies across the UI.",
        "Enable low‚Äëimpact HUD during long runs to minimize overhead.",
        "Use diagnostics links to open logs and dump settings for support."
      ],
      "controls": [
        "Developer Diagnostics",
        "Enable diagnostics logging (console + logs/framevision.log)",
        "Dump QSettings now",
        "Open log folder"
      ],
      "_controls_meta": {
        "source": "auto-extracted from code (helpers/)",
        "modules_used": [
          "settings_diagnostics.py"
        ]
      },
      "features": [
        "Versions line (CUDA/Torch/TorchVision/Transformers); tools presence check.",
        "HUD overlay with colorized thresholds and hysteresis; low-impact mode.",
        "Versions line",
        "Temp units (¬∞C/¬∞F)",
        "Tools check (FFmpeg/Real‚ÄëESRGAN/Waifu2x/RIFE/Qwen)",
        "HUD overlay",
        "Diagnostics (logs, QSettings)",
        "Developer Diagnostics",
        "Enable diagnostics logging (console + logs/framevision.log)",
        "Dump QSettings now",
        "Open log folder",
        "Key term: Versions line",
        "Key term: Temp units (¬∞C/¬∞F)",
        "Key term: Tools check (FFmpeg/Real‚ÄëESRGAN/Waifu2x/RIFE/Qwen)",
        "Key term: HUD overlay",
        "Key term: Diagnostics (logs, QSettings)",
        "Control: Developer Diagnostics ‚Äî groupbox. Default: unset/neutral. Does: UI control.",
        "Control: Enable diagnostics logging (console + logs/framevision.log) ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Dump QSettings now ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Open log folder ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately."
      ],
      "install": [
        "General install flow: use <b>Install/Updates ‚Üí Option 1</b> to auto-detect environment, then <b>Option 2</b> for repair, or <b>Option 3/4</b> for full stacks.",
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build.",
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "overview": "System Monitor shows environment versions (CUDA/Torch/TorchVision/Transformers), hardware metrics, and tool presence checks. Includes a ¬∞C/¬∞F toggle, optional HUD overlay with colorized thresholds (with hysteresis), and quick diagnostics links.<br><br>",
      "_layout": "overview/features/install/troubleshoot",
      "_features_meta": {
        "oneliners_source": "helpers/ code scan",
        "oneliners_count_added": 4
      }
    },
    "Themes": {
      "description": "Multiple built‚Äëin themes with <b>Apply</b>, <b>Auto</b> (time‚Äëbased), and <b>Random</b>.<br><br>Available themes: Day, Evening, Night, Slate, High Contrast, Cyberpunk, Neon, Ocean, CRT, Aurora, Mardi Gras, Tropical Fiesta, Color Mix, Solarized Light, Sunburst, Pastel Light, Cloud Grey, Signal Grey, Graphite Dusk, Rainbow Riot, Candy Pop.",
      "key_terms": [
        "Aurora",
        "Auto",
        "CRT",
        "Candy Pop",
        "Cloud Grey",
        "Color Mix",
        "Cyberpunk",
        "Day",
        "Evening",
        "Graphite Dusk",
        "High Contrast",
        "Mardi Gras",
        "Neon",
        "Night",
        "Ocean",
        "Pastel Light",
        "Rainbow Riot",
        "Random",
        "Signal Grey",
        "Slate",
        "Solarized Light",
        "Sunburst",
        "Tropical Fiesta"
      ],
      "hints_tips": [
        "Use Auto for hands‚Äëfree day/evening/night; Random for variety during sessions.",
        "Colorful picks: Rainbow Riot, Candy Pop, and Color Mix. Softer greys: Cloud Grey and Signal Grey. Dark vibe: Graphite Dusk."
      ],
      "qa_pairs": [
        {
          "question": "How does Auto decide?",
          "answer": "Maps local time into Day/Evening/Night bands."
        },
        {
          "question": "What does Random do?",
          "answer": "Picks one of the available themes each time you apply."
        }
      ]
    },
    "Thumbnail_Meme_Creator": {
      "key_terms": [
        "ALL CAPS",
        "Alt keep center",
        "EXIF keep/remove",
        "Esc cancel",
        "HUD W√óH/AR",
        "Shift = 10px",
        "Thumbnail/Meme Creator",
        "align",
        "arc curvature",
        "arrow-key nudging",
        "auto-fit bounds",
        "big preview",
        "color pickers",
        "crop overlay",
        "crop presets",
        "current frame",
        "dimmed background",
        "double-click apply",
        "drag handles",
        "edge auto-scroll",
        "export PNG/JPG",
        "fonts",
        "free crop",
        "handle size setting",
        "interactive crop overlay",
        "letter spacing",
        "live preview",
        "open image",
        "outer glow",
        "outline width",
        "overlay opacity setting",
        "rotate",
        "shadow",
        "spinboxes next to sliders",
        "text layers",
        "tilt/skew",
        "transform sliders"
      ],
      "description": "Create thumbnails or memes from the current frame or any image with live preview. Multiple text layers (fonts, outline width, shadow, alignment, ALL CAPS). Transform with rotate, tilt/skew, and arc curvature; plus readability sliders for outer glow and letter spacing. Interactive crop overlay (16:9 / 9:16 / free) with drag/resize handles, dim-out, double‚Äëclick Apply, Esc cancel, and Alt keep‚Äëcenter. Arrow‚Äëkey nudging (1px; Shift=10px), edge auto‚Äëscroll, live HUD (W√óH, AR), and spinboxes next to sliders. Export PNG/JPG with EXIF keep/remove and quality options.",
      "hints_tips": [
        "Hold Alt while resizing the crop to keep its center fixed.",
        "Double‚Äëclick inside the crop to apply; press Esc to cancel.",
        "Use arrow keys for 1px nudging; hold Shift for 10px steps.",
        "Increase handle size or overlay opacity in settings if the crop box is hard to see.",
        "Use outer glow to separate text from busy backgrounds; adjust letter spacing for ALL‚ÄëCAPS clarity."
      ],
      "qa_pairs": [
        {
          "question": "How do I create a meme in FrameVision?",
          "answer": "Open an image or use current frame, add text layers with fonts/outlines/shadows, apply transforms like rotate or arc, then export as PNG/JPG."
        },
        {
          "question": "What crop options are available?",
          "answer": "Presets (e.g., 16:9) or free crop; movable presets allow positioning before commit."
        },
        {
          "question": "Can I preview changes?",
          "answer": "Yes, live preview and big preview options are available."
        },
        {
          "question": "How do I use the new crop overlay?",
          "answer": "Click a crop preset (16:9 or 9:16) or Free to show the overlay, then drag the handles. Double‚Äëclick to apply; Esc cancels. Hold Alt to keep the center locked while resizing. Tweak handle size and overlay opacity in settings."
        },
        {
          "question": "Can I make fine adjustments?",
          "answer": "Yes. Use arrow keys for 1px nudging (Shift = 10px). All sliders have spinboxes for numeric entry and show a small value popover as you drag."
        },
        {
          "question": "What do Outer glow and Letter spacing do?",
          "answer": "Outer glow draws a soft halo underneath text to improve readability on busy shots. Letter spacing (tracking) tightens or opens space between letters‚Äîgreat for ALL‚ÄëCAPS titles."
        },
        {
          "question": "Why does the crop box sometimes scroll the view?",
          "answer": "Edge auto‚Äëscroll is enabled‚Äîwhen you drag near the viewport edges, the canvas scrolls so you can keep resizing beyond the current view."
        }
      ],
      "controls": [
        "Use current image",
        "Open image‚Ä¶",
        "Big preview",
        "Add text",
        "Edit selected‚Ä¶",
        "Remove selected",
        "Reset positions",
        "Crop 16:9",
        "Crop 9:16",
        "Reset crop",
        "Apply crop",
        "Keep metadata (EXIF)",
        "Export ‚Üí Save as‚Ä¶",
        "Batch‚Ä¶",
        "Format",
        "Quality",
        "Add fonts‚Ä¶",
        "Load folder‚Ä¶",
        "Font‚Ä¶",
        "Auto-fit",
        "Shadow",
        "ALL CAPS",
        "Text color‚Ä¶",
        "Outline color‚Ä¶",
        "Use current frame",
        "Close"
      ],
      "_controls_meta": {
        "source": "auto-extracted from code (helpers/)",
        "modules_used": [
          "meme_tool.py"
        ]
      },
      "features": [
        "Text layers with outline/shadow/glow; arc curvature; ALL CAPS; letter spacing.",
        "Crop presets (16:9, 9:16, Free); keyboard nudges; overlay opacity; export PNG/JPG.",
        "ALL CAPS",
        "Alt keep center",
        "EXIF keep/remove",
        "Esc cancel",
        "HUD W√óH/AR",
        "Shift = 10px",
        "Thumbnail/Meme Creator",
        "align",
        "arc curvature",
        "arrow-key nudging",
        "auto-fit bounds",
        "big preview",
        "Use current image",
        "Open image‚Ä¶",
        "Big preview",
        "Add text",
        "Edit selected‚Ä¶",
        "Remove selected",
        "Reset positions",
        "Crop 16:9",
        "Crop 9:16",
        "Reset crop",
        "Apply crop",
        "Keep metadata (EXIF)",
        "Key term: ALL CAPS",
        "Key term: Alt keep center",
        "Key term: EXIF keep/remove",
        "Key term: Esc cancel",
        "Key term: HUD W√óH/AR",
        "Key term: Shift = 10px",
        "Key term: Thumbnail/Meme Creator",
        "Key term: align",
        "Key term: arc curvature",
        "Key term: arrow-key nudging",
        "Key term: auto-fit bounds",
        "Key term: big preview",
        "Key term: color pickers",
        "Key term: crop overlay",
        "Key term: crop presets",
        "Key term: current frame",
        "Key term: dimmed background",
        "Key term: double-click apply",
        "Key term: drag handles",
        "Key term: edge auto-scroll",
        "Key term: export PNG/JPG",
        "Key term: fonts",
        "Key term: free crop",
        "Key term: handle size setting",
        "Key term: interactive crop overlay",
        "Key term: letter spacing",
        "Key term: live preview",
        "Key term: open image",
        "Key term: outer glow",
        "Key term: outline width",
        "Key term: overlay opacity setting",
        "Key term: rotate",
        "Key term: shadow",
        "Key term: spinboxes next to sliders",
        "Key term: text layers",
        "Key term: tilt/skew",
        "Key term: transform sliders",
        "Control: Use current image ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Open image‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Big preview ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Add text ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Edit selected‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Remove selected ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Reset positions ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Crop 16:9 ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Crop 9:16 ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Reset crop ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Apply crop ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Keep metadata (EXIF) ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Export ‚Üí Save as‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Batch‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Format ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Quality ‚Äî label. Default: unset/neutral. Does: Control quality vs size; lower CRF = higher quality.",
        "Control: Add fonts‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Load folder‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Font‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Auto-fit ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Shadow ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: ALL CAPS ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Text color‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Outline color‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Use current frame ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Close ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately."
      ],
      "install": [
        "General install flow: use <b>Install/Updates ‚Üí Option 1</b> to auto-detect environment, then <b>Option 2</b> for repair, or <b>Option 3/4</b> for full stacks.",
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build.",
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "overview": "Create thumbnails or memes from the current frame or any image with live preview. Multiple text layers (fonts, outline width, shadow, alignment, ALL CAPS). Transform with rotate, tilt/skew, and arc curvature; plus readability sliders for outer glow and letter spacing. Interactive crop overlay (16:9 / 9:16 / free) with drag/resize handles, dim-out, double‚Äëclick Apply, Esc cancel, and Alt keep‚Äëcenter. Arrow‚Äëkey nudging (1px; Shift=10px), edge auto‚Äëscroll, live HUD (W√óH, AR), and spinboxes next to sliders. Export PNG/JPG with EXIF keep/remove and quality options.",
      "_layout": "overview/features/install/troubleshoot",
      "_features_meta": {
        "oneliners_source": "helpers/ code scan",
        "oneliners_count_added": 26
      }
    },
    "Tools": {
      "description": "A comprehensive toolkit for fast, single‚Äëpurpose edits that pairs well with the Upscaler. Includes Quality/Size (Video), Change Speed (with sound sync), Add Audio (replace/mix), Export GIF (palettegen/paletteuse), Extract Frames, Resize (non‚ÄëAI), Trim (fast copy vs precise), Meme/Thumbnail creator with arc text &amp; crop presets, and Multi‚ÄëRename. Presets and per‚Äëtool ‚ÄòRemember settings‚Äô are available. Outputs go to standard output folders.<br><br><b>Controls (auto-discovered):</b> The list under &#x27;controls&#x27; enumerates buttons, toggles, actions, and list items detected from the UI code. This complements the human-written overview and Q&amp;A. Use it to audit coverage: every label should appear in the KB.",
      "key_terms": [
        "Quality/Size (Video)",
        "CRF vs Bitrate",
        "Encoder preset (x264/x265/AV1)",
        "Keyint/GOP",
        "Color range (Full/Limited)",
        "Change Speed (with atempo)",
        "Add Audio (Replace/Mix)",
        "Export GIF (palettegen/paletteuse)",
        "Extract Frames (last/all)",
        "Resize (Video)",
        "Trim (Fast copy / Precise)",
        "Meme/Thumbnail (arc curvature)",
        "Multi‚ÄëRename (preview/dry‚Äërun)",
        "Presets & Remember settings"
      ],
      "hints_tips": [
        "Prefer CRF for quality targeting; use bitrate only when you must hit a size cap.",
        "For H.264 start at CRF 18‚Äì22; H.265 20‚Äì24; AV1 30‚Äì36.",
        "Long GOPs compress better but hurt seeking; 2‚Äì4√ó frame‚Äërate is a practical range.",
        "Use ‚ÄòSound sync‚Äô in Change Speed to keep audio aligned via atempo; chain steps for >2√ó.",
        "When mixing audio, lower both sources by 3‚Äì6 dB to avoid clipping.",
        "For small GIFs: cut FPS to 8‚Äì15, resize first, and always use palettegen/paletteuse.",
        "Trim: choose Fast copy for keyframe‚Äëaligned speed, Precise re‚Äëencode for exact cuts.",
        "Keep Video Thumbnails OFF during long runs; it uses software decode.",
        "Use presets for repeat tasks (e.g., 720p CRF20 H.264).",
        "Tools outputs are organized under output/‚Ä¶ by type (e.g., trims, screenshots).",
        "Prefer CRF for quality; use bitrate only when you must hit a file‚Äësize or bandwidth target.",
        "H.264 CRF 18‚Äì22 is a safe range; lower CRF increases quality and size.",
        "Longer GOP improves compression but hurts seekability in editors.",
        "Enable ‚ÄòSound sync‚Äô to keep audio aligned; chain atempo steps for >2√ó speed changes.",
        "When mixing audio, reduce each source by 3‚Äì6 dB to prevent clipping.",
        "For smaller GIFs: reduce FPS to 8‚Äì15, resize first, and use palettegen/paletteuse.",
        "Fast copy trim is near‚Äëinstant but may shift cut points to the nearest keyframe.",
        "Keep Video Thumbnails OFF during heavy jobs to conserve CPU.",
        "Create presets for repeat tasks (e.g., 720p CRF20 H.264 with AAC 160k).",
        "Outputs are organized under output/‚Ä¶ by tool (e.g., trims, screenshots)."
      ],
      "qa_pairs": [
        {
          "question": "Upscaler vs Tools ‚Üí Resize?",
          "answer": "Upscaler uses AI (NCNN/Vulkan) for fidelity; Tools ‚Üí Resize uses FFmpeg scaling. Use Resize for quick downscale, Upscaler for quality improvement."
        },
        {
          "question": "CRF or Bitrate?",
          "answer": "Use CRF for consistent visual quality. Use bitrate only when targeting a hard size or bandwidth limit."
        },
        {
          "question": "Recommended CRF values?",
          "answer": "H.264: 18‚Äì22; H.265: 20‚Äì24; AV1: 30‚Äì36. Lower CRF = higher quality."
        },
        {
          "question": "What‚Äôs keyint/GOP for?",
          "answer": "Controls keyframe spacing; larger values compress better but reduce seek/edit responsiveness."
        },
        {
          "question": "Color range fix?",
          "answer": "Converts 0‚Äì255 ‚Üî 16‚Äì235. Use if blacks look gray or whites are crushed."
        },
        {
          "question": "Change Speed keeps audio in sync how?",
          "answer": "By time‚Äëstretching with atempo when Sound sync is enabled."
        },
        {
          "question": "When disable Sound sync?",
          "answer": "If replacing/muting audio or intentionally decoupling audio timing."
        },
        {
          "question": "Add Audio ‚Äî Replace vs Mix?",
          "answer": "Replace swaps the track; Mix blends with original via amix‚Äîadjust gains to prevent clipping."
        },
        {
          "question": "Shrink GIF size?",
          "answer": "Lower FPS, reduce resolution, and use palettegen/paletteuse."
        },
        {
          "question": "Extracted frames naming?",
          "answer": "`frame_000001.png` numbering; PNG is lossless, JPG saves space."
        },
        {
          "question": "Trim modes difference?",
          "answer": "Fast copy snaps to nearest keyframes; Precise re‚Äëencode cuts on exact timestamps."
        },
        {
          "question": "Thumbnails don‚Äôt change after count update?",
          "answer": "Change count then click Generate preview; size slider rescales current set."
        },
        {
          "question": "Make meme text readable?",
          "answer": "Use outer glow + slight shadow; increase letter spacing for ALL‚ÄëCAPS."
        },
        {
          "question": "Arc text mirrors down?",
          "answer": "Current curvature bends without mirroring; use modest arcs for readability."
        },
        {
          "question": "Crop controls?",
          "answer": "Presets 16:9 / 9:16 or Free; drag handles; Alt keeps center; Esc cancels; double‚Äëclick applies."
        },
        {
          "question": "Multi‚ÄëRename zero‚Äëpadding?",
          "answer": "Enable number padding (e.g., 001‚Äì120) and run preview/dry‚Äërun first."
        },
        {
          "question": "Where are Tools outputs?",
          "answer": "Standard output subfolders, e.g., output/trims, output/screenshots."
        },
        {
          "question": "See exact commands?",
          "answer": "Open the job‚Äôs run_*.log; FFmpeg/engine commands are printed."
        },
        {
          "question": "Which audio format is safest?",
          "answer": "AAC for widest compatibility; Opus is efficient but prefers MKV/WebM."
        },
        {
          "question": "Presets sharing?",
          "answer": "Local presets are supported; export/sharing is planned."
        },
        {
          "question": "Upscaler vs Tools ‚Üí Resize?",
          "answer": "Upscaler uses AI models (NCNN/Vulkan) for fidelity gains; Resize uses FFmpeg scaling. Use Resize for quick downscale, Upscaler for quality improvement."
        },
        {
          "question": "CRF or Bitrate?",
          "answer": "Use CRF for consistent quality. Use bitrate only for strict size or bandwidth constraints."
        },
        {
          "question": "Recommended CRF values?",
          "answer": "H.264: 18‚Äì22; H.265: 20‚Äì24; AV1: 30‚Äì36. Lower CRF = higher quality and larger files."
        },
        {
          "question": "What does keyint/GOP control?",
          "answer": "Keyframe spacing. Larger values compress better but reduce seek/edit responsiveness."
        },
        {
          "question": "How does Change Speed keep audio in sync?",
          "answer": "Time‚Äëstretching with `atempo` when Sound sync is enabled."
        },
        {
          "question": "When should I disable Sound sync?",
          "answer": "If you will replace/mute the audio or intentionally decouple audio timing."
        },
        {
          "question": "Add Audio ‚Äî Replace vs Mix?",
          "answer": "Replace swaps the track; Mix blends with `amix`; adjust gains to prevent clipping."
        },
        {
          "question": "How do I shrink GIF size without destroying quality?",
          "answer": "Lower FPS, resize smaller, and always use palettegen/paletteuse."
        },
        {
          "question": "How are extracted frames named?",
          "answer": "`frame_000001.png` with zero‚Äëpadded numbering; PNG is lossless, JPG is lighter."
        },
        {
          "question": "Trim: Fast copy vs Precise?",
          "answer": "Fast copy snaps to keyframes and is instant; Precise re‚Äëencodes for exact in/out."
        },
        {
          "question": "Thumbnails didn‚Äôt update after I changed the count.",
          "answer": "Change the count, then click Generate preview to rebuild; the size slider only rescales."
        },
        {
          "question": "How do I make meme text readable on busy shots?",
          "answer": "Combine outer glow with a subtle shadow and increase letter spacing for ALL‚ÄëCAPS."
        },
        {
          "question": "Arc curvature mirrors text?",
          "answer": "The current arc bends without mirroring; use modest curvature for readability."
        },
        {
          "question": "Crop controls at a glance?",
          "answer": "Presets 16:9 / 9:16 / Free; drag handles; Alt keeps center; Esc cancels; double‚Äëclick applies."
        },
        {
          "question": "Multi‚ÄëRename zero‚Äëpadding?",
          "answer": "Enable number padding (e.g., 001‚Äì120) and dry‚Äërun first on a small set."
        },
        {
          "question": "Where are Tools outputs stored?",
          "answer": "Under output/ by tool type (e.g., output/trims, output/screenshots)."
        },
        {
          "question": "Can I see the exact FFmpeg command?",
          "answer": "Open the job‚Äôs run log; commands are printed verbatim."
        },
        {
          "question": "Safest audio format?",
          "answer": "AAC for widest compatibility; Opus is more efficient but prefers MKV/WebM containers."
        },
        {
          "question": "Can I export/share presets?",
          "answer": "Local presets are supported today; export/sharing is planned."
        },
        {
          "question": "What‚Äôs the difference between Convert Image/Compress vs Resize?",
          "answer": "Convert/Compress targets still images and formats; Resize affects video dimensions."
        }
      ],
      "controls": [
        "Remember settings",
        "Remember‚Ä¶",
        "Change quality",
        "Batch‚Ä¶",
        "Keep metadata (EXIF)",
        "Convert image",
        "Choose folder‚Ä¶",
        "Choose files‚Ä¶",
        "Remove numbers from start",
        "Add date",
        "Preview",
        "Rename",
        "1.50x",
        "Change Speed",
        "Sound sync (adjust audio tempo)",
        "Mute audio",
        "Save preset",
        "Load preset",
        "1280",
        "720",
        "Resize",
        "NOTE: this does not upscale, only resizes",
        "12",
        "Same as video",
        "Export GIF",
        "Mix with original audio (instead of replacing)",
        "Add Audio to Video",
        "Extract Last Frame",
        "Extract All Frames",
        "16",
        "Crop",
        "Choose what to batch"
      ],
      "_controls_meta": {
        "source": "auto-extracted from code (helpers/)",
        "modules_used": [
          "tools_tab.py"
        ]
      },
      "features": [
        "Quality/Size (Video), Change Speed (with atempo), Add Audio (replace/mix), Export GIF, Extract Frames, Resize (non-AI).",
        "Trim (Fast copy vs Precise re-encode), Meme/Thumbnail (arc text, crop presets), Multi-Rename (preview/dry-run).",
        "Quality/Size (Video)",
        "CRF vs Bitrate",
        "Encoder preset (x264/x265/AV1)",
        "Keyint/GOP",
        "Color range (Full/Limited)",
        "Change Speed (with atempo)",
        "Add Audio (Replace/Mix)",
        "Export GIF (palettegen/paletteuse)",
        "Extract Frames (last/all)",
        "Resize (Video)",
        "Trim (Fast copy / Precise)",
        "Meme/Thumbnail (arc curvature)",
        "Remember settings",
        "Remember‚Ä¶",
        "Change quality",
        "Batch‚Ä¶",
        "Keep metadata (EXIF)",
        "Convert image",
        "Choose folder‚Ä¶",
        "Choose files‚Ä¶",
        "Remove numbers from start",
        "Add date",
        "Preview",
        "Rename",
        "Key term: Quality/Size (Video)",
        "Key term: CRF vs Bitrate",
        "Key term: Encoder preset (x264/x265/AV1)",
        "Key term: Keyint/GOP",
        "Key term: Color range (Full/Limited)",
        "Key term: Change Speed (with atempo)",
        "Key term: Add Audio (Replace/Mix)",
        "Key term: Export GIF (palettegen/paletteuse)",
        "Key term: Extract Frames (last/all)",
        "Key term: Resize (Video)",
        "Key term: Trim (Fast copy / Precise)",
        "Key term: Meme/Thumbnail (arc curvature)",
        "Key term: Multi‚ÄëRename (preview/dry‚Äërun)",
        "Key term: Presets & Remember settings",
        "Control: Remember settings ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Remember‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Change quality ‚Äî button. Default: n/a (runs on click). Does: Control quality vs size; lower CRF = higher quality.",
        "Control: Batch‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Keep metadata (EXIF) ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Convert image ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Choose folder‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Choose files‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Remove numbers from start ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Add date ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Preview ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Rename ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: 1.50x ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Change Speed ‚Äî button. Default: n/a (runs on click). Does: Change playback speed; pair with audio atempo for sync.",
        "Control: Sound sync (adjust audio tempo) ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Mute audio ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Save preset ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Load preset ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: 1280 ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: 720 ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Resize ‚Äî button. Default: n/a (runs on click). Does: Rescale video with FFmpeg (non‚ÄëAI).",
        "Control: NOTE: this does not upscale, only resizes ‚Äî label. Default: unset/neutral. Does: Rescale video with FFmpeg (non‚ÄëAI).",
        "Control: 12 ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Same as video ‚Äî checkbox. Default: off (toggle to enable). Does: Toggle feature on/off.",
        "Control: Export GIF ‚Äî button. Default: n/a (runs on click). Does: Export a clip as GIF using palettegen/paletteuse for quality.",
        "Control: Mix with original audio (instead of replacing) ‚Äî checkbox. Default: off (toggle to enable). Does: Replace or blend external audio with the current video.",
        "Control: Add Audio to Video ‚Äî button. Default: n/a (runs on click). Does: Replace or blend external audio with the current video.",
        "Control: Extract Last Frame ‚Äî button. Default: n/a (runs on click). Does: Save frames to disk (last frame or all frames).",
        "Control: Extract All Frames ‚Äî button. Default: n/a (runs on click). Does: Save frames to disk (last frame or all frames).",
        "Control: 16 ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Crop ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Choose what to batch ‚Äî text label. Default: unset/neutral. Does: UI control."
      ],
      "install": [
        "Tools rely on FFmpeg; installer Option 1/3/4 ensures the correct binary is bundled.",
        "General install flow: use <b>Install/Updates ‚Üí Option 1</b> to auto-detect environment, then <b>Option 2</b> for repair, or <b>Option 3/4</b> for full stacks.",
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "For FFmpeg-related errors, run Option 1 to verify tools and Option 3/4 to reinstall binaries.",
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build.",
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "overview": "A comprehensive toolkit for fast, single‚Äëpurpose edits that pairs well with the Upscaler. Includes Quality/Size (Video), Change Speed (with sound sync), Add Audio (replace/mix), Export GIF (palettegen/paletteuse), Extract Frames, Resize (non‚ÄëAI), Trim (fast copy vs precise), Meme/Thumbnail creator with arc text &amp; crop presets, and Multi‚ÄëRename. Presets and per‚Äëtool ‚ÄòRemember settings‚Äô are available. Outputs go to standard output folders.<br><br><b>Controls (auto-discovered):</b> The list under &#x27;controls&#x27; enumerates buttons, toggles, actions, and list items detected from the UI code. This complements the human-written overview and Q&amp;A. Use it to audit coverage: every label should appear in the KB.",
      "_layout": "overview/features/install/troubleshoot",
      "_features_meta": {
        "oneliners_source": "helpers/ code scan",
        "oneliners_count_added": 32
      }
    },
    "Trim_Tool": {
      "key_terms": [
        "Trim tool",
        "thumbnail preview grid",
        "6‚Äì60 thumbs",
        "size slider 24‚Äì140px",
        "adaptive grid wrap",
        "draggable range bar",
        "dim thumbnails outside range",
        "left-click Start",
        "right-click End",
        "manual Generate preview",
        "no auto-regenerate",
        "time format HH:MM:SS.mmm (flexible)",
        "Start/End sliders + fields",
        "Fast copy (keyframe) mode",
        "Precise re-encode mode",
        "batch-ready",
        "queue integration",
        "FFmpeg/FFprobe",
        "preview cache: output/_temp/trim_preview"
      ],
      "description": "Visually select a time range to keep. Generate a thumbnail grid (6‚Äì60) with a size slider (24‚Äì140px). Click a thumb to set Start (left) or End (right). Drag the range bar to adjust; items outside the range dim to show what will be cut. Uses manual generation (no auto-regenerate) for responsiveness. Supports Fast copy (keyframe) and Precise re-encode. Works on single files or batches with full Queue integration.<br><br><b>Controls (auto-discovered):</b> Items reflect trim preview generation, count/size sliders, and mode selectors (Fast copy vs Precise re-encode).",
      "hints_tips": [
        "Use Generate preview after setting the desired 'thumbs' count; the grid will not auto-regenerate while you change the value.",
        "Shrink or enlarge thumbnails with the Size slider; existing thumbs rescale instantly without re-extracting frames.",
        "Left-click any thumbnail to set Start; right-click to set End. You can also drag the range bar handles.",
        "Type timecodes directly (HH:MM:SS.mmm). If you enter just seconds, the tool interprets them correctly.",
        "Fast copy (keyframe) is instant but may shift slightly to the nearest keyframe; pick Precise re-encode for exact cuts.",
        "Batch mode processes entire folders; use the Queue to watch progress, ETA, and logs.",
        "Preview images are written to output/_temp/trim_preview and can be safely deleted after use."
      ],
      "qa_pairs": [
        {
          "question": "How do I visually choose a trim range?",
          "answer": "Click Generate preview to build a thumbnail grid. Left-click a thumbnail to set Start, right-click to set End, or drag the range bar handles. The thumbnails outside the kept range dim automatically."
        },
        {
          "question": "What is the difference between Fast copy and Precise re-encode?",
          "answer": "Fast copy (keyframe) copies the selected segment without re-encoding‚Äîit's very fast but cuts align to keyframes. Precise re-encode re-encodes the boundaries so you get exact Start/End at the cost of more processing."
        },
        {
          "question": "Can I use the trim tool in batch?",
          "answer": "Yes. Apply the same Start/End and mode to multiple files. All jobs go to the Queue with progress and logs."
        },
        {
          "question": "Does the grid regenerate while I change the number of thumbnails?",
          "answer": "No. You can adjust the count freely; the grid rebuilds only when you press Generate preview."
        },
        {
          "question": "What timecode formats are accepted?",
          "answer": "Flexible HH:MM:SS.mmm; you can also type numbers like 65.5 (seconds) and it will be parsed correctly."
        },
        {
          "question": "Where are preview thumbnails stored?",
          "answer": "In output/_temp/trim_preview inside the app folder. They can be removed at any time."
        },
        {
          "question": "How does the range bar relate to the Start/End fields?",
          "answer": "They are synchronized. Dragging the bar updates Start/End fields and sliders, and vice versa."
        },
        {
          "question": "What if the End field is blank?",
          "answer": "The tool interprets it as 'to the end of the clip' when running a trim."
        }
      ],
      "controls": [
        "Trim",
        "Batch‚Ä¶",
        "Generate preview",
        "Size",
        "Trim range",
        "Start",
        "End"
      ],
      "_controls_meta": {
        "source": "auto-extracted from code (helpers/)",
        "modules_used": [
          "trim_tool.py"
        ]
      },
      "features": [
        "Thumbnail grid with manual regenerate; size slider; range bar.",
        "Fast copy (keyframe-aligned) vs Precise re-encode (exact cuts); output to `output/trims/`.",
        "Trim tool",
        "thumbnail preview grid",
        "6‚Äì60 thumbs",
        "size slider 24‚Äì140px",
        "adaptive grid wrap",
        "draggable range bar",
        "dim thumbnails outside range",
        "left-click Start",
        "right-click End",
        "manual Generate preview",
        "no auto-regenerate",
        "time format HH:MM:SS.mmm (flexible)",
        "Trim",
        "Batch‚Ä¶",
        "Generate preview",
        "Size",
        "Trim range",
        "Start",
        "End",
        "Key term: Trim tool",
        "Key term: thumbnail preview grid",
        "Key term: 6‚Äì60 thumbs",
        "Key term: size slider 24‚Äì140px",
        "Key term: adaptive grid wrap",
        "Key term: draggable range bar",
        "Key term: dim thumbnails outside range",
        "Key term: left-click Start",
        "Key term: right-click End",
        "Key term: manual Generate preview",
        "Key term: no auto-regenerate",
        "Key term: time format HH:MM:SS.mmm (flexible)",
        "Key term: Start/End sliders + fields",
        "Key term: Fast copy (keyframe) mode",
        "Key term: Precise re-encode mode",
        "Key term: batch-ready",
        "Key term: queue integration",
        "Key term: FFmpeg/FFprobe",
        "Key term: preview cache: output/_temp/trim_preview",
        "Control: Trim ‚Äî button. Default: n/a (runs on click). Does: Cut a segment; choose fast copy (keyframe) or precise re‚Äëencode.",
        "Control: Batch‚Ä¶ ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Generate preview ‚Äî button. Default: n/a (runs on click). Does: Perform the labeled action immediately.",
        "Control: Size ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: Trim range ‚Äî label. Default: unset/neutral. Does: Cut a segment; choose fast copy (keyframe) or precise re‚Äëencode.",
        "Control: Start ‚Äî label. Default: unset/neutral. Does: UI control.",
        "Control: End ‚Äî label. Default: unset/neutral. Does: UI control."
      ],
      "install": [
        "General install flow: use <b>Install/Updates ‚Üí Option 1</b> to auto-detect environment, then <b>Option 2</b> for repair, or <b>Option 3/4</b> for full stacks.",
        "See <b>InstallUpdates ‚Üí Install</b> for full environment setup and model downloads."
      ],
      "troubleshoot": [
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build.",
        "For environment issues, follow <b>InstallUpdates ‚Üí Troubleshoot</b> steps.",
        "Check the job <b>run_*.log</b> in the logs folder for this feature‚Äôs errors (if applicable)."
      ],
      "overview": "Visually select a time range to keep. Generate a thumbnail grid (6‚Äì60) with a size slider (24‚Äì140px). Click a thumb to set Start (left) or End (right). Drag the range bar to adjust; items outside the range dim to show what will be cut. Uses manual generation (no auto-regenerate) for responsiveness. Supports Fast copy (keyframe) and Precise re-encode. Works on single files or batches with full Queue integration.<br><br><b>Controls (auto-discovered):</b> Items reflect trim preview generation, count/size sliders, and mode selectors (Fast copy vs Precise re-encode).",
      "_layout": "overview/features/install/troubleshoot",
      "_features_meta": {
        "oneliners_source": "helpers/ code scan",
        "oneliners_count_added": 7
      }
    },
    "Troubleshooting": {
      "description": "Quick recovery guide when something stops working. Steps escalate only as needed and avoid redownloading models unless necessary.",
      "key_terms": [
        "Core install",
        "Full CPU/GPU",
        "Open log folder",
        "Repair flow",
        "cache cleanup",
        "models‚Äëonly downloader",
        "presets cleanup",
        "venv reset"
      ],
      "hints_tips": [
        "Try with a small known‚Äëgood media file to isolate project issues.",
        "Check logs via Settings ‚Üí Open log folder and attach key errors when requesting help.",
        "VRAM errors: reduce tile size/enable Auto tile; close GPU‚Äëheavy apps."
      ],
      "qa_pairs": [
        {
          "question": "Something broke‚Äîwhat‚Äôs the quickest path?",
          "answer": "1) Run Install‚ÜíOption 1 (advisor). 2) If only the app/UI is broken, Option 2 (Core). 3) If needed, Option 3 (Full CPU ~3.5‚ÄØGB) or 4 (Full GPU ~5‚ÄØGB). 4) Still failing? Delete venv and reinstall; keep models/helpers; clear cache/presets if suspect."
        },
        {
          "question": "A model is missing or stopped working‚Äîfastest fix?",
          "answer": "Run models‚Äëonly downloader from the root: Windows: `python \"scripts\\download_externals.py\"` ‚Ä¢ macOS/Linux: `python scripts/download_externals.py`."
        },
        {
          "question": "Playback is fine but Queue jobs don‚Äôt start.",
          "answer": "Check the worker heartbeat (logs/worker_heartbeat.txt). Restart the app/worker if stale."
        }
      ]
    },
    "TXT_to_image_Qwen_2512": {
      "description": "Generate images from text using <b>Qwen-Image-2512</b> ‚Äî a modern open-source text-to-image model (GGUF) that runs locally via <b>sd-cli</b> (<b>stable-diffusion.cpp</b>). Optimized for strong realism, sharper textures, and better text rendering than older baselines.",
      "key_terms": [
        "Qwen-Image-2512",
        "GGUF",
        "stable-diffusion.cpp",
        "sd-cli",
        "--diffusion-model",
        "Flow shift",
        "CFG scale",
        "Sampler",
        "VAE (safetensors)",
        "Qwen2.5-VL-7B-Instruct (LLM GGUF)",
        "LoRA (at_runtime)"
      ],
      "overview": "Qwen-Image-2512 is FrameVision‚Äôs <b>local</b> Qwen-based <b>TXT‚ÜíIMG</b> workflow. Under the hood it launches <b>sd-cli</b> (from <b>stable-diffusion.cpp</b>) with three required model parts: <b>Diffusion GGUF</b>, <b>LLM GGUF</b> (for text encoding), and a <b>VAE</b> file. It‚Äôs a great choice when you want <b>photoreal humans</b>, <b>fine natural textures</b> (fur, water, materials), and improved <b>text-in-image rendering</b> compared to many older open-source baselines.<br><br><b>Where it appears in FrameVision:</b><ul><li><b>Tools ‚Üí Qwen-Image-2512 (GGUF)</b>: one-click local runner with its own installer.</li><li><b>TXT‚ÜíIMG</b>: can also route generation through the Qwen-2512 GGUF backend when selected.</li></ul>",
      "features": [
        "Improved realism for people (less ‚ÄúAI look‚Äù) and richer facial detail.",
        "Sharper natural textures (landscapes, fur, water, fabrics/materials).",
        "Stronger text rendering and better text‚Äìimage composition (signs, labels, posters).",
        "Runs fully local with <b>GGUF</b> quantized weights ‚Äî can work on CPU-only setups (slower) or GPU (faster).",
        "Supports <b>LoRA</b> via sd-cli runtime application (<code>&lt;lora:NAME:W&gt;</code> + <code>--lora-model-dir</code>).",
        "Optional <b>offload-to-CPU</b> mode to reduce VRAM pressure."
      ],
      "hints_tips": [
        "Start with <b>1024√ó1024</b> (or a close aspect ratio). If you push very large sizes, expect more VRAM/RAM usage and longer runs.",
        "Qwen often prefers <b>low CFG</b> (around <b>2‚Äì3</b>). If the image looks ‚Äúover-forced‚Äù or weird, lower CFG first.",
        "If output is too soft, try <b>more steps</b> (e.g. 30‚Üí40) or a different sampler. If it‚Äôs slow, reduce steps.",
        "Avoid emojis / exotic punctuation in prompts. FrameVision sanitizes some characters for sd-cli stability, but simpler punctuation is safest.",
        "LoRA quick rule: start around <b>0.8‚Äì1.2</b>. If artifacts appear, back down the strength.",
        "If you keep getting a black/empty image, shorten prompts and try fewer steps ‚Äî some sd-cli builds have edge-case bugs with very long prompts."
      ],
      "qa_pairs": [
        {
          "question": "What files do I need for Qwen-Image-2512 (GGUF) to run?",
          "answer": "You need 3 parts in <code>models/Qwen-Image-2512 GGUF/</code>: (1) a <b>diffusion</b> GGUF (commonly Q4), (2) an <b>LLM</b> GGUF (commonly Qwen2.5‚ÄëVL‚Äë7B‚ÄëInstruct Q4), and (3) a <b>VAE</b> file (usually <code>qwen_image_vae.safetensors</code>)."
        },
        {
          "question": "Why does it use an ‚ÄúLLM GGUF‚Äù for text-to-image?",
          "answer": "Qwen-Image uses a language/vision text encoder component. In the GGUF setup used by sd-cli, that text encoder is shipped as an LLM-style GGUF file and passed via <code>--llm</code>."
        },
        {
          "question": "My output is too ‚Äúforced‚Äù or looks unstable. What do I change first?",
          "answer": "Lower <b>CFG</b> (try 2.5 ‚Üí 2.0) and/or reduce steps a bit. Qwen often works best at low guidance compared to SDXL."
        },
        {
          "question": "Where are the generated images saved?",
          "answer": "Tools ‚Üí Qwen-Image-2512 saves to <code>output/qwen2512/</code>. In TXT‚ÜíIMG mode, results go to your TXT‚ÜíIMG output folder and are visible via <b>View results</b> / Media Explorer."
        },
        {
          "question": "Can I use Wuli-Qwen-Image-2512-Turbo-LoRA-4steps LoRA with Qwen-Image-2512?",
          "answer": "Yes. we tested but did not include the lora by default. Download the lora and add it in /models/lora/ ."
        },
		{
          "question": "Can I use LoRAs to with Qwen-Image-2512?",
          "answer": "Yes. The Tools runner applies LoRA at runtime by injecting a prompt tag like <code>&lt;lora:NAME:W&gt;</code> and passing <code>--lora-model-dir</code> to sd-cli. TXT‚ÜíIMG‚Äôs LoRA slots can also be used when the Qwen backend is selected."
        },
        {
          "question": "I got a black image / it stops mid-run. Is this a known thing?",
          "answer": "It can happen with some sd-cli/stable-diffusion.cpp builds in edge cases (often long prompts + higher steps). Workarounds: shorten the prompt, reduce steps, update sd-cli, and try another sampler."
        }
      ],
      "controls": [
        "Control: Install / Update‚Ä¶ ‚Äî button. Does: Runs <code>presets/extra_env/qwen2512_install.bat</code> to set up the environment and download Q4 models.",
        "Control: Open Models ‚Äî button. Does: Opens <code>models/Qwen-Image-2512 GGUF/</code>.",
        "Control: Open Output ‚Äî button. Does: Opens <code>output/qwen2512/</code>.",
        "Control: Prompt ‚Äî text box. Does: Your image description (supports LoRA tag injection when enabled).",
        "Control: Use LoRA ‚Äî checkbox. Does: Enables runtime LoRA application (sd-cli).",
        "Control: LoRA path ‚Äî input. Does: Choose a <code>.safetensors</code> LoRA file (absolute or relative under <code>models/loras/</code>).",
        "Control: LoRA strength ‚Äî number. Does: Weight for the LoRA (typical 0.6‚Äì1.3).",
        "Control: Width / Height ‚Äî numbers. Does: Output size in pixels.",
        "Control: Steps ‚Äî number. Does: Denoising steps (quality vs speed).",
        "Control: CFG ‚Äî number. Does: Guidance scale (Qwen often likes ~2‚Äì3).",
        "Control: Sampler ‚Äî dropdown. Does: Sampling method used by sd-cli.",
        "Control: Flow shift ‚Äî number. Does: Qwen-specific stability/quality knob; default 3 is a good starting point.",
        "Control: Seed ‚Äî input. Does: Leave empty for random; set a number for repeatability.",
        "Control: Offload to CPU ‚Äî checkbox. Does: Lower VRAM use by offloading (slower)."
      ],
      "install": [
        "Run <b>Tools ‚Üí Qwen-Image-2512 (GGUF)</b> and click <b>Install / Update‚Ä¶</b> to download sd-cli + the default Q4 model set into <code>models/Qwen-Image-2512 GGUF/</code>.",
        "If you already have sd-cli, FrameVision will try to reuse it from common locations (app root, <code>presets/bin</code>, other model bins, or PATH).",
        "Manual install: place the required model files in <code>models/Qwen-Image-2512 GGUF/</code> (diffusion GGUF, LLM GGUF, VAE).",
        "Optional: put LoRAs in <code>models/loras/</code> (or any folder) and browse to them from the tool UI."
      ],
      "troubleshoot": [
        "Error: <b>Missing required model files</b> ‚Äî ensure diffusion GGUF (Q4), LLM GGUF (Qwen2.5‚ÄëVL‚Äë7B‚ÄëInstruct Q4), and the VAE safetensors exist in <code>models/Qwen-Image-2512 GGUF/</code>.",
        "Error: <b>sd-cli not found</b> ‚Äî run <b>Install / Update‚Ä¶</b> (it should place sd-cli in <code>.qwen2512/bin</code>) or put sd-cli.exe in <code>presets/bin</code> / app root / PATH.",
        "Crash/assert on Windows with ‚Äúsmart quotes‚Äù ‚Äî remove fancy punctuation (or paste plain ASCII).",
        "Black images / stops early ‚Äî shorten prompt, reduce steps, update sd-cli, or change sampler (some versions have edge-case bugs).",
        "Slow runs ‚Äî reduce resolution/steps, disable offload if you have VRAM, or use a smaller GGUF quant if available."
      ],
      "_layout": "overview/features/install/troubleshoot"
    },
    "TXT_to_Image_SD15_SDXL": {
      "description": "Classic Stable Diffusion <b>TXT‚ÜíIMG</b> using <b>Diffusers</b>, with support for <b>SD 1.5</b> and <b>SDXL</b> single‚Äëfile <code>.safetensors</code> checkpoints. This is the ‚Äúnormal‚Äù text‚Äëto‚Äëimage path (higher quality per step than Turbo engines), with familiar knobs: Steps, CFG, Sampler, seed policies, batch, and optional SDXL LoRAs.",
      "key_terms": [
        "txt2img.py (Diffusers backend)",
        "SD15 (Stable Diffusion 1.5)",
        "SDXL",
        "Checkpoint (.safetensors)",
        "models/SD15",
        "models/SDXL",
        "Model dropdown (Refresh / Browse)",
        "CFG scale (guidance_scale)",
        "Sampler / Scheduler (DPM++ 2M Karras, Euler a, Euler, Heun, UniPC, DDIM)",
        "Attention slicing",
        "LoRA (SDXL) ‚Äì 2 slots",
        "Seed policy (Fixed / Increment / Random)",
        "Filename template ({seed}, {idx})",
        "FRAMEVISION_DIFFUSERS_MODEL (env override)"
      ],
      "overview": "This section documents the <b>SD models (SD15/SDXL)</b> engine inside <code>helpers/txt2img.py</code> (the Diffusers path). When you select that engine in the TXT‚ÜíIMG tab, FrameVision loads a <code>.safetensors</code> checkpoint locally and runs it through <b>Diffusers</b>: <code>StableDiffusionPipeline</code> for SD1.5 and <code>StableDiffusionXLPipeline</code> for SDXL. <br><br><b>How the model is chosen</b><br><ul><li><b>Model dropdown</b> scans <code>models/SD15</code> and <code>models/SDXL</code> for <code>*.safetensors</code> (use <b>Refresh</b> after adding files).</li><li><b>Browse‚Ä¶</b> lets you pick a checkpoint from anywhere (still expected to be <code>.safetensors</code>).</li><li>If the selected path is empty/invalid, FrameVision falls back to a default SD1.5 checkpoint: <code>models/SD15/DreamShaper_8_pruned.safetensors</code>.</li><li>You can also override the default via <code>FRAMEVISION_DIFFUSERS_MODEL</code> (environment variable).</li></ul><br><b>SD15 vs SDXL detection</b><br>FrameVision detects SDXL by checking whether the resolved model path contains <code>sdxl</code> (or <code>sd_xl</code>). That means putting SDXL checkpoints in the <code>models/SDXL</code> folder (or naming them with ‚Äúsdxl‚Äù) is enough for correct detection. <br><br><b>What happens at runtime</b><br><ul><li>Runs on <b>CUDA</b> when available (float16), otherwise CPU (float32).</li><li>Applies your <b>Prompt</b>, optional <b>Negative prompt</b>, <b>Steps</b>, <b>CFG</b>, <b>Width/Height</b>, and <b>Seed</b>.</li><li>Optional: swaps the scheduler when you pick a non‚Äëauto sampler (DPM++ 2M Karras / Euler a / Euler / Heun / UniPC / DDIM).</li><li>Disables the Diffusers safety checker for local use.</li><li>Optional: enables <b>Attention slicing</b> for lower VRAM.</li></ul><br><b>When Diffusers isn‚Äôt available</b><br>If Diffusers/Torch can‚Äôt be imported (or the pipeline fails), FrameVision generates a simple <b>placeholder image</b> (checkerboard + your prompt text) so the rest of the app/queue can keep working. <br><br><b>Adding extra checkpoints (Civitai / other sources)</b><br><ol><li>Download a <b>Checkpoint</b> file in <code>.safetensors</code> format (SD1.5 checkpoints for SD15, SDXL checkpoints for SDXL). Many sites (including Civitai) offer multiple variants‚Äîpick the checkpoint, not an embedding/LoRA, and avoid formats that require a custom workflow.</li><li>Drop the file into:<ul><li><code>models/SD15/</code> for SD1.5 checkpoints</li><li><code>models/SDXL/</code> for SDXL checkpoints</li></ul>(If you use lowercase folders like <code>models/sd15</code> or <code>models/sdxl</code>, the safest option is to rename them to match the scanned folders, or use <b>Browse‚Ä¶</b> to select the checkpoint directly.)</li><li>Back in the app: click <b>Refresh</b> next to Model, then select your new checkpoint.</li></ol>",
      "features": [
        "Local Diffusers TXT‚ÜíIMG for SD1.5 and SDXL single‚Äëfile checkpoints.",
        "Model dropdown scans <code>models/SD15</code> and <code>models/SDXL</code> for <code>.safetensors</code>; Browse supports custom locations.",
        "Prompt + Negative prompt.",
        "Steps + CFG (guidance scale).",
        "Sampler selection: auto, DPM++ 2M (Karras), Euler a, Euler, Heun, UniPC, DDIM.",
        "Batch generation + seed policies (fixed / increment / random).",
        "Optional Attention slicing for VRAM savings.",
        "SDXL LoRA support (2 slots) with independent strengths (0.0‚Äì1.5).",
        "Output formats (png/jpg/webp) + filename templates with <code>{seed}</code> and <code>{idx}</code>.",
        "Writes a sidecar <code>.json</code> next to the first output image with run metadata (engine/model/seeds/actual size)."
      ],
      "hints_tips": [
        "Start simple: pick a known checkpoint, set a clear prompt, and run 1 image before touching batch settings.",
        "For SD1.5 checkpoints, try smaller sizes first (e.g., 512‚Äì768 range) and scale up only after you like the look. For SDXL, 1024‚Äëish sizes tend to be a better default.",
        "If your image ignores the prompt: raise <b>CFG</b> a bit. If it looks ‚Äúforced‚Äù or oversharpened: lower CFG before lowering Steps.",
        "If hands/faces drift: increase Steps slightly and/or switch sampler (DPM++ 2M Karras is a common first choice).",
        "If you hit VRAM errors: enable <b>Attention slicing</b>, reduce resolution, and keep Batch=1. (Batch is the fastest way to OOM.)",
        "Use the built‚Äëin Presets as starting points‚Äîthey set Sampler/Steps/CFG/Size and only auto-fill Negative if your Negative box is empty. ",
        "When doing Batch > 1, use a filename template that includes <code>{idx}</code> to avoid overwrites (for example: <code>IMG_{seed}_{idx:03d}.png</code>).",
        "If a checkpoint loads but produces nonsense: it might not be a single-file Diffusers‚Äëcompatible checkpoint. Try a different checkpoint or use Browse to point to the correct file."
      ],
      "qa_pairs": [
        {
          "question": "Where does FrameVision look for SD15/SDXL checkpoints?",
          "answer": "The Model dropdown scans <code>models/SD15</code> and <code>models/SDXL</code> for <code>*.safetensors</code>. After you drop in a new file, click <b>Refresh</b> next to the Model picker. "
        },
        {
          "question": "How does it decide if a checkpoint is SDXL or SD1.5?",
          "answer": "It checks the resolved checkpoint path for <code>sdxl</code> or <code>sd_xl</code>. Putting SDXL models under <code>models/SDXL</code> makes the path contain ‚Äúsdxl‚Äù, so detection works automatically. "
        },
        {
          "question": "Can I use LoRAs with SD15 too?",
          "answer": "In the current Diffusers path, LoRAs are only applied when the selected checkpoint is detected as <b>SDXL</b> (two LoRA slots with per‚Äëslot strength). "
        },
        {
          "question": "Why do I get a checkerboard image with my prompt text?",
          "answer": "That‚Äôs the built‚Äëin CPU fallback. It typically means Diffusers/Torch is missing, failed to import, or the pipeline couldn‚Äôt load the checkpoint. FrameVision returns a placeholder image so the rest of the app (and queue) doesn‚Äôt break. "
        },
        {
          "question": "What does ‚ÄúAttention slicing‚Äù do?",
          "answer": "It reduces VRAM usage by splitting attention into smaller chunks. It‚Äôs slower, but it can be the difference between running and crashing on smaller GPUs. "
        },
        {
          "question": "Why is the safety checker disabled?",
          "answer": "For local/offline use FrameVision disables the Diffusers safety checker (it returns ‚Äúnot flagged‚Äù for all outputs) to avoid false positives and dependency issues. "
        }
      ],
      "controls": [
        "Engine ‚Äî dropdown. Does: Select <b>SD models (SD15/SDXL)</b> to use the Diffusers backend. ",
        "Preset ‚Äî dropdown. Does: Apply a tuned bundle of Sampler/Steps/CFG/Size (and Negative if empty). ",
        "Prompt ‚Äî text box. Does: Main description of the image to generate.",
        "Negative ‚Äî text box. Does: What to avoid (optional).",
        "Model ‚Äî dropdown + Refresh + Browse. Does: Pick a local <code>.safetensors</code> checkpoint; Refresh rescans model folders; Browse picks any file. ",
        "LoRA (SDXL) / LoRA 2 (SDXL) ‚Äî dropdown(s) + strength. Does: Apply up to two SDXL LoRAs from the chosen LoRA folder. ",
        "Sampler ‚Äî dropdown. Does: Select scheduler (auto / DPM++ 2M Karras / Euler a / Euler / Heun / UniPC / DDIM). ",
        "Steps ‚Äî slider. Does: Number of diffusion steps (quality vs speed). ",
        "CFG ‚Äî spinbox. Does: Guidance scale (prompt adherence). ",
        "Size ‚Äî presets + W/H manual. Does: Output resolution; FrameVision snaps to safe buckets (multiples of 64). ",
        "Seed + Seed policy + Batch. Does: Reproducible variation controls.",
        "Attention slicing ‚Äî checkbox. Does: Reduce VRAM usage (slower). ",
        "File format ‚Äî dropdown. Does: png/jpg/webp; filename template auto-updates extension. ",
        "Filename template ‚Äî text box. Does: Naming pattern; supports <code>{seed}</code> and <code>{idx}</code>. ",
        "Output ‚Äî path + Browse. Does: Where results are saved.",
        "Show in Player ‚Äî checkbox. Does: Auto-load the last generated image in the Media Player.",
        "Use queue ‚Äî checkbox. Does: Route jobs through the Worker queue (recommended for background runs and batch). "
      ],
      "install": [
        "Put your checkpoints in <code>models/SD15</code> and/or <code>models/SDXL</code>, then press <b>Refresh</b> in the Model row. ",
        "Diffusers/Torch must be available in the app environment for SD15/SDXL generation. If you only get placeholder images, repair/reinstall FrameVision (or the optional AI stack) so the Diffusers backend can import. ",
        "Optional: set <code>FRAMEVISION_DIFFUSERS_MODEL</code> to force a default checkpoint path (useful for portable setups). ",
        "Optional: keep SDXL LoRAs in a folder like <code>loras/txt2img</code>; use <b>Choose LoRA path‚Ä¶</b> to point the picker at your folder. "
      ],
      "troubleshoot": [
        "Model dropdown is empty: confirm your files are <code>.safetensors</code> and placed under <code>models/SD15</code> or <code>models/SDXL</code>, then click <b>Refresh</b>. ",
        "You get placeholder checkerboard images: Diffusers/Torch import or pipeline load failed. Check the console/logs, verify the checkpoint path is valid, and reinstall/repair the AI stack if needed. ",
        "SDXL checkpoint loads as SD1.5 (or crashes): ensure the path contains ‚Äúsdxl‚Äù (placing it in <code>models/SDXL</code> usually fixes this). ",
        "Out of VRAM: enable <b>Attention slicing</b>, lower resolution, set Batch=1, and close other VRAM-heavy tools. ",
        "Sampler seems to do nothing: only non-<b>auto</b> selections replace the scheduler; try DPM++ 2M (Karras) or Euler a first. ",
        "LoRA doesn‚Äôt apply: LoRAs are only applied for SDXL in this path, and the LoRA file must exist on disk (use Reload after changing folders). "
      ],
      "_layout": "overview/features/install/troubleshoot"
    },
    "Txt_To_Img_Z_Image_Turbo": {
      "description": "Fast local text‚Äëto‚Äëimage engine (Z‚ÄëImage Turbo). Runs in a dedicated <code>.zimage_env</code> so it doesn‚Äôt conflict with other backends. Optimized for low step counts (default 9) and low guidance (default CFG 0.0), with optional Attention slicing and LoRA support.",
      "key_terms": [
        "TXT‚ÜíIMG",
        "Text to Image",
        "Z‚ÄëImage Turbo",
        ".zimage_env",
        "separate process",
        "low steps",
        "CFG / guidance",
        "negative prompt",
        "batch generation",
        "LoRA (2 slots)",
        "Attention slicing",
        "2K‚Äì4K size presets",
        "queue",
        "player preview",
        "filename template",
        "logs/zimage_*.log"
      ],
      "overview": "Z‚ÄëImage Turbo is FrameVision‚Äôs <b>fast</b> TXT‚ÜíIMG engine. It‚Äôs aimed at quick iteration: you typically get good results at <b>very low Steps</b> and <b>low CFG/guidance</b>.<br><br><b>How it works (under the hood)</b><br><ul><li>FrameVision launches Z‚ÄëImage as a <b>separate Python process</b> from a dedicated environment named <b>@@PH0@@</b>.</li><li>The app calls <code>helpers/zimage_cli.py</code> and reads the CLI output to show progress; a <b>log file</b> is also written under the <code>logs/</code> folder.</li><li>When you switch the Engine to Z‚ÄëImage, FrameVision tries to <b>free CUDA VRAM</b> used by other backends first (helps avoid out‚Äëof‚Äëmemory issues).</li></ul><br><br><b>What‚Äôs different vs SD models (SD15/SDXL)</b><br><ul><li>There is <b>no Model picker</b> (Z‚ÄëImage manages its own model internally).</li><li>You still get <b>Prompt + Negative</b>, <b>Seed/Batch</b>, and <b>Output size</b>, plus <b>LoRA slots</b>.</li><li>Z‚ÄëImage‚Äôs ‚Äúsweet spot‚Äù is usually <b>Steps ~6‚Äì12</b> and <b>CFG 0‚Äì2</b> (FrameVision defaults to 9 steps and CFG 0.0).</li></ul><br><br><b>Best use cases</b><br><ul><li>Rapid ideation / ‚Äúgive me 20 variations quickly‚Äù</li><li>Big images (you‚Äôll see extra <b>2K‚Äì4K</b> size presets when Z‚ÄëImage is active)</li><li>Style nudging with <b>LoRAs</b> (2 slots)</li></ul><br><br><b>Tip:</b> If you want full control over different checkpoints, samplers, and SD‚Äëstyle presets, switch back to <b>SD models (SD15/SDXL)</b>.",
      "features": [
        "Fast TXT‚ÜíIMG generation (low steps).",
        "Dedicated backend env (`.zimage_env`) launched as a separate process.",
        "Queue integration + optional auto‚Äëpreview in the Player.",
        "Prompt + Negative prompt, Seed policies, Batch generation.",
        "LoRA support (2 slots) with per‚ÄëLoRA strength.",
        "Optional Attention slicing for low‚ÄëVRAM GPUs.",
        "Extra high‚Äëresolution presets (2K‚Äì4K) appear when Z‚ÄëImage is selected.",
        "Flexible output formats (PNG/JPG/WEBP) + filename templates.",
        "Writes a `logs/zimage_*.log` file for debugging."
      ],
      "hints_tips": [
        "Start with the defaults (Steps 9, CFG 0.0) and only change one knob at a time.",
        "If the result ignores your prompt: raise CFG a bit (try 0.5 ‚Üí 1.5 ‚Üí 2.5).",
        "If the image looks over‚Äëcooked or ‚Äútoo forced‚Äù: lower CFG back toward 0‚Äì1.",
        "If you hit VRAM errors: enable Attention slicing, lower resolution, and/or reduce Batch.",
        "LoRAs are `.safetensors` files. Keep strengths modest first (0.6‚Äì1.0) before pushing higher.",
        "For batches, prefer a filename template that includes `{idx}` so images don‚Äôt overwrite each other."
      ],
      "qa_pairs": [
        {
          "question": "Where do I pick the Z‚ÄëImage model/checkpoint?",
          "answer": "You don‚Äôt‚ÄîZ‚ÄëImage Turbo uses its own internal model. That‚Äôs why the ‚ÄòModel‚Äô dropdown disappears when Z‚ÄëImage is selected; you can still influence style using LoRAs."
        },
        {
          "question": "Why does Z‚ÄëImage default to only 9 steps?",
          "answer": "Z‚ÄëImage Turbo is tuned for low step counts. In FrameVision, switching to Z‚ÄëImage forces Steps to 9 to match that intended workflow."
        },
        {
          "question": "Why is CFG (guidance) set to 0.0 by default?",
          "answer": "For this engine, very low guidance can look more natural and stable. If you need stronger prompt adherence, increase CFG gradually (0.5‚Äì2.5 is a common range; max is 5.0 in the UI for Z‚ÄëImage)."
        },
        {
          "question": "Does Negative prompt work with Z‚ÄëImage?",
          "answer": "Yes. FrameVision forwards the Negative prompt to the Z‚ÄëImage CLI the same way it does for other engines."
        },
        {
          "question": "What does ‚ÄòAttention slicing‚Äô do?",
          "answer": "It reduces VRAM usage by splitting attention into smaller chunks. It‚Äôs slower, but it can be the difference between ‚Äòworks‚Äô and ‚Äòout of memory‚Äô on smaller GPUs."
        },
        {
          "question": "Can I use LoRAs with Z‚ÄëImage?",
          "answer": "Yes‚ÄîFrameVision passes LoRA slot 1 and 2 (plus strengths) through to the Z‚ÄëImage CLI. Use ‚ÄòChoose LoRA path‚Ä¶‚Äô to point to your `.safetensors` folder."
        },
        {
          "question": "Why did my presets disappear when I switch to Z‚ÄëImage?",
          "answer": "Presets are currently tied to the SD (Diffusers) engine and are hidden for Z‚ÄëImage to keep the UI focused. Switch back to SD models to use presets again."
        },
        {
          "question": "Where are the results saved?",
          "answer": "To the Output folder shown in the tab. You can also click ‚ÄòView results‚Äô to open the folder in Media Explorer and see the new images."
        },
        {
          "question": "How do I debug a failed Z‚ÄëImage run?",
          "answer": "Check the newest `logs/zimage_*.log` file for the exact command and error output. If `.zimage_env` is missing, reinstall/repair so the env gets created."
        },
        {
          "question": "Why is FrameVision using a separate `.zimage_env`?",
          "answer": "It isolates dependencies (Torch/Diffusers/etc.) so Z‚ÄëImage doesn‚Äôt break other AI features and vice‚Äëversa, and it lets FrameVision launch Z‚ÄëImage as a clean process."
        }
      ],
      "controls": [
        "Engine: ‚Üí select ‚ÄòZ‚ÄëImage Turbo‚Äô",
        "Prompt / Negative",
        "Seed + Seed policy (Fixed/Random/Increment)",
        "Batch",
        "Output size (plus extra 2K‚Äì4K presets when Z‚ÄëImage is active)",
        "Steps (1‚Äì50; defaults to 9 for Z‚ÄëImage)",
        "CFG (0.0‚Äì5.0; defaults to 0.0 for Z‚ÄëImage)",
        "LoRA (Z‚ÄëImage) + LoRA 2 (Z‚ÄëImage) + strengths",
        "Attention slicing",
        "File format (png/jpg/webp)",
        "Filename template (supports {seed} and {idx})",
        "Show in Player",
        "Use queue (Add/Run)",
        "Generate / Add & Run / View results"
      ],
      "install": [
        "Z‚ÄëImage runs from a dedicated env: the app expects a Python interpreter at <code>.zimage_env/Scripts/python.exe</code> (Windows) or <code>.zimage_env/bin/python</code> (Linux).",
        "If Z‚ÄëImage fails to launch, run <b>install_menu.bat ‚Üí Option 1 (System check &amp; advisor)</b>, then follow the recommended install/repair option so <code>.zimage_env</code> is created.",
        "No manual model download is required for the UI‚ÄîZ‚ÄëImage manages its own model internally."
      ],
      "troubleshoot": [
        "If you see ‚Äòpython.exe not found in.zimage_env‚Äô: the Z‚ÄëImage environment is missing or incomplete. Re‚Äërun the installer repair/full install that includes Z‚ÄëImage.",
        "If generation starts then fails: open the newest <code>logs/zimage_*.log</code> to see the full CLI output.",
        "Out of VRAM: enable Attention slicing, reduce resolution, reduce Batch, and close other GPU-heavy apps (including other AI tabs).",
        "LoRA not applying: verify the file exists, ends in <code>.safetensors</code>, and try a smaller strength first (0.6‚Äì1.0)."
      ],
      "_layout": "overview/features/install/troubleshoot"
    },
    "Updater": {
      "key_terms": [
        "Updater",
        "Info ‚Üí Updates‚Ä¶",
        "Stable release",
        "Beta (default branch)",
        "Create backup ZIP‚Ä¶",
        "Manual check",
        "Replace python files only",
        "Update all files",
        "helpers/",
        "presets/viz/",
        "temp/downloads",
        "restart required"
      ],
      "description": "FrameVision includes a built‚Äëin <b>GitHub updater</b> under <b>Info ‚Üí Updates‚Ä¶</b>.<br><br>It‚Äôs intentionally <b>manual-first</b>: you choose what to update (stable release vs beta branch), and you can create a safety backup before overwriting anything.<br><br><b>What you can do in the Updates dialog:</b><br><ul><li><b>Create backup ZIP‚Ä¶</b> ‚Äî saves a zip of the important app files so you can roll back.</li><li><b>Stable (Release):</b> update from the latest GitHub Release.</li><li><b>Beta (Default branch):</b> update from the newest code on the repo‚Äôs default branch.</li><li><b>Manual check:</b> downloads the newest repo ZIP, compares it against your local files, and lets you selectively copy only the changed files.</li></ul>",
      "hints_tips": [
        "For the most recent updates, use Manual check ‚Äî it pulls the latest default-branch ZIP and shows a selectable list of changed files.",
        "Before updating, click Create backup ZIP‚Ä¶ (fast, no compression) so you can restore if something breaks.",
        "Choose Python files only when you mainly want new logic/UI fixes (updates only helpers/ and presets/viz/).",
        "Choose All files only when you expect broader changes; it can overwrite more of your local app folder.",
        "After any update, restart FrameVision so the new Python files are reloaded.",
        "Manual check compares by file size (plus ‚Äúnew file‚Äù detection). If a file changed but stayed the same size, it may not show up‚Äîuse the Beta updater in that case."
      ],
      "qa_pairs": [
        {
          "question": "Where do I find the updater?",
          "answer": "Open Info ‚Üí Updates‚Ä¶. This opens the GitHub update dialog with Stable/Beta update buttons, a Backup button, and Manual check."
        },
        {
          "question": "What‚Äôs the difference between Stable and Beta?",
          "answer": "Stable pulls the latest GitHub Release zip (meant to be tested/stable). Beta pulls the repo‚Äôs default branch HEAD (newest changes, can be experimental)."
        },
        {
          "question": "Why is Manual check recommended for the newest changes?",
          "answer": "Manual check downloads the latest default-branch ZIP, extracts it into `temp/downloads/`, then compares it to your local app and lets you copy only the files you want."
        },
        {
          "question": "What does ‚ÄúCreate backup ZIP‚Ä¶‚Äù include?",
          "answer": "It zips the core app files while skipping heavy folders like `tools/`, `models/`, `output/`, and `.venv/` (and also skips preset `bin/` and existing archive formats). The ZIP is written with no compression so it‚Äôs quick."
        },
        {
          "question": "Where are downloaded update ZIPs stored?",
          "answer": "Stable/Beta update downloads are saved into a temporary OS folder (created with `tempfile.mkdtemp(...)`). Manual check uses your app folder: `temp/downloads/` (it cleans this up when the dialog closes)."
        },
        {
          "question": "Does updating overwrite my changes?",
          "answer": "Yes. Updating can overwrite local edits (especially inside helpers/ and presets/viz/). Always create a backup ZIP first if you‚Äôve customized anything."
        }
      ],
      "features": [
        "GitHub updater in Info ‚Üí Updates‚Ä¶ (Stable release + Beta default-branch).",
        "Create backup ZIP‚Ä¶ (fast, no compression) to preserve important files before overwriting.",
        "Two update modes: Python files only (helpers + presets/viz) or All files (entire app).",
        "Manual check: downloads a repo ZIP ‚Üí extracts to `temp/downloads/` ‚Üí compares and lets you copy selected changed files.",
        "Skips update of certain local-only files (e.g., `presets.json` and `presets/info/update_state.json`) to protect local state."
      ],
      "install": [
        "Requires an internet connection to reach GitHub (API + ZIP download).",
        "If you‚Äôre offline or on a restricted network, you can still update manually by downloading releases from GitHub in a browser."
      ],
      "troubleshoot": [
        "If <b>Manual check</b> says it can‚Äôt prepare <code>temp/downloads/</code>, delete that folder manually and try again.",
        "If downloads fail, check firewall/proxy rules (the updater downloads from GitHub‚Äôs <code>codeload.github.com</code>).",
        "If you see ‚ÄúUpdate checker not available‚Äù, your build is missing <code>helpers/update_checker.py</code> or the import path is broken.",
        "If Manual check finds nothing but you know changes exist, remember it compares by file size‚Äîtry <b>Beta ‚Üí Update python files only</b> instead."
      ],
      "overview": "Update FrameVision from GitHub (Stable releases or Beta branch), create a backup ZIP for safety, or use Manual check to selectively copy the newest changed files.",
      "_layout": "overview/features/install/troubleshoot"
    },
    "Upscaler": {
      "key_terms": [
        "Upscaler",
        "AI upscaling",
        "NCNN-Vulkan",
        "FFmpeg",
        "ffprobe",
        "Auto tile probe",
        "tile size",
        "overlap",
        "scale (x1‚Äìx4)",
        "sharpen (unsharp)",
        "deinterlace (yadif)",
        "deblock",
        "denoise (hqdn3d)",
        "deband (gradfun)",
        "color range (Full‚ÜîLimited)",
        "encoder (libx264/libx265/libsvtav1/libaom-av1/NVENC)",
        "CRF vs Bitrate",
        "preset",
        "audio copy/encode/mute",
        "audio codec (aac/opus/vorbis)",
        "audio bitrate",
        "container (mp4/mkv/mov)",
        "Real-ESRGAN (ncnn)",
        "UltraSharp (ncnn)",
        "ClearReality V1",
        "SRMD (ncnn)",
        "SRMD (ncnn via RealESRGAN)",
        "Waifu2x (ncnn)",
        "RealSR (ncnn)",
        "SwinIR (ncnn)",
        "LapSRN (ncnn)",
        "Upscayl (CLI)",
        "Upscayl model packs (.param/.bin)",
        "GFPGAN (faces)",
        "View results button",
        "Media Explorer integration",
        "upsc_settings.json (auto-save)"
      ],
      "description": "The Upscaler performs super‚Äëresolution on images and videos using fast local engines (mostly <b>NCNN‚ÄëVulkan</b>) and a frame‚Äësequence video pipeline.<br><br><b>Engines (auto‚Äëdetected):</b><br><ul><li><b>Real‚ÄëESRGAN (ncnn)</b> ‚Äî general purpose photo/video upscaler (multiple models).</li><li><b>UltraSharp (ncnn)</b> ‚Äî sharper Real‚ÄëESRGAN profile for crisp detail.</li><li><b>ClearReality V1</b> ‚Äî curated Real‚ÄëESRGAN model family (filters the model list to ClearReality variants).</li><li><b>SRMD (ncnn)</b> and <b>SRMD (ncnn via RealESRGAN)</b> ‚Äî classic denoise‚Äëfriendly upscalers (good for noisy sources).</li><li><b>Waifu2x (ncnn)</b> ‚Äî anime/line‚Äëart image upscaler with denoise.</li><li><b>RealSR (ncnn)</b>, <b>SwinIR (ncnn)</b>, <b>LapSRN (ncnn)</b> ‚Äî alternative SR engines for different looks.</li><li><b>Upscayl (CLI)</b> ‚Äî lets you use Upscayl model packs (pairs of <code>.param</code> + <code>.bin</code>) from <code>models/upscayl/</code>.</li><li><b>GFPGAN (faces)</b> ‚Äî face restoration (best used on portraits / close‚Äëups; can look too smooth on wide shots).</li></ul><br><br><b>Video pipeline:</b> FFmpeg extracts frames ‚Üí selected engine upscales the frame folder ‚Üí FFmpeg re‚Äëencodes with your chosen codec + audio mode. Images are processed directly.<br><br><b>Results &amp; workflow:</b> use <b>View results</b> to jump straight to the output folder in <b>Media Explorer</b> (and trigger a scan), or open the folder in your OS file explorer as a fallback.<br><br><b>Settings:</b> Upscaler settings are <b>auto‚Äësaved</b> to <code>upsc_settings.json</code> (no need to manually toggle ‚Äúremember‚Äù).",
      "hints_tips": [
        "Photos (general): start with Real‚ÄëESRGAN (ncnn) models like `realesr-general-x4v3` / `realesrgan-x4plus`.",
        "Anime/line art: try Waifu2x (ncnn) (with low denoise) or `realesr-animevideov3` under Real‚ÄëESRGAN.",
        "If you want an extra‚Äëcrisp look, try UltraSharp (ncnn); if you see halos, switch to ClearReality V1 Soft (when available) or reduce Sharpen.",
        "Portraits: run GFPGAN (faces) for cleaner faces‚Äîavoid on wide shots if it makes skin too plastic.",
        "For noisy/low‚Äëquality sources, SRMD can be a nicer first pass than a super‚Äësharp model.",
        "Use Auto tile / smaller Tile size if you hit VRAM errors; close other GPU apps.",
        "Keep Video thumbnails OFF during heavy runs if your system gets sluggish; enable only when browsing.",
        "View results is the quickest way to browse outputs‚Äîespecially now that Media Explorer can search/sort/play results.",
        "Outputting to a fast SSD helps for long videos (frame sequences get big).",
        "CRF ~16‚Äì20 (x264/x265) is a good quality/size balance; AV1 is smaller but slower."
      ],
      "qa_pairs": [
        {
          "question": "Which engine should I pick for photos, anime, and videos?",
          "answer": "Use Real‚ÄëESRGAN (ncnn) for most photos and for videos. Use Waifu2x (ncnn) for single images with anime/line‚Äëart and when you want built‚Äëin denoising. Try UltraSharp for extra crisp detail and SRMD for noisy sources."
        },
        {
          "question": "What is ClearReality V1?",
          "answer": "A dedicated Upscaler engine entry that re‚Äëuses the Real‚ÄëESRGAN backend but filters the model list to ClearReality V1 variants (and provides model hints for them)."
        },
        {
          "question": "How do I browse my upscaled outputs quickly?",
          "answer": "Click View results. It opens the current output folder in Media Explorer and triggers a scan. If the app can‚Äôt switch tabs (older builds), it falls back to opening the folder in your OS file explorer."
        },
        {
          "question": "Where do Upscayl models go, and how are they detected?",
          "answer": "Drop Upscayl model pairs (`.param` + `.bin`) under `models/upscayl/` (or `models/upscayl/resources/models`). FrameVision scans those folders and adds them to the model list as ‚ÄúUpscayl ‚Äì <model>‚Äù entries."
        },
        {
          "question": "Are Upscaler settings remembered after restart?",
          "answer": "Yes. Upscaler settings are auto‚Äësaved to upsc_settings.json as you change them, and restored when the tab loads."
        },
        {
          "question": "What are the Encoder options?",
          "answer": "Choose codec (x264/x265/SVT‚ÄëAV1/AOM‚ÄëAV1/NVENC). Rate control can be CRF (quality‚Äëtargeted) or Bitrate (size‚Äëtargeted). Preset trades speed for compression. Keyint sets GOP (0=auto)."
        },
        {
          "question": "How is audio handled?",
          "answer": "Pick Copy (stream‚Äëcopy original), Encode (AAC/Opus/Vorbis with chosen bitrate), or Mute. Copy is fastest with no quality loss."
        },
        {
          "question": "Where are files written?",
          "answer": "Outputs go to your chosen folder. For videos, a temporary work directory holds frame sequences during processing and is cleaned after success."
        },
        {
          "question": "Does the log show the exact commands?",
          "answer": "Yes. The log streams engine and FFmpeg output including the exact model, scale, codec, and working paths used."
        },
        {
          "question": "What does the Info button do?",
          "answer": "Shows the media‚Äôs technical metadata (streams, codec, bitrate, resolution, FPS) via ffprobe so you can choose sensible encoder settings."
        },
        {
          "question": "Why do I see seams or halos?",
          "answer": "Excessive sharpening or too‚Äësmall overlap can create halos or faint seams. Keep sharpening low; overlap may be ignored by some engines."
        },
        {
          "question": "Can I batch multiple files?",
          "answer": "Yes‚Äîuse Batch‚Ä¶ to select a folder or files. Each item runs with current settings and writes to your output directory."
        },
        {
          "question": "What does ‚ÄòStreaming (low memory)‚Äô do exactly?",
          "answer": "Injects conservative low‚Äëbuffer flags across FFmpeg calls (e.g., `-fflags nobuffer - probesize 64k - analyzeduration 0`) and adds `-threads 1` if not specified. Applies to thumbnails too when enabled."
        }
      ],
      "features": [
        "AI upscaling via multiple local engines (NCNN/Vulkan + optional CLI): Real‚ÄëESRGAN, UltraSharp, ClearReality V1, SRMD, Waifu2x, RealSR, SwinIR, LapSRN, Upscayl models, GFPGAN face restore.",
        "Video pipeline: extract frames ‚Üí upscale folder ‚Üí re‚Äëencode with codec/audio controls.",
        "Quick browsing via View results (opens output folder in Media Explorer).",
        "Upscaler settings auto‚Äësave to upsc_settings.json.",
        "AI upscaling via NCNN/Vulkan (Real-ESRGAN/Waifu2x).",
        "Streaming low-memory pipeline for large videos.",
        "Auto tile probe",
        "CRF vs Bitrate",
        "FFmpeg low‚Äëbuffer flags",
        "GPU VRAM",
        "Logger newest‚Äëat‚Äëtop (buffered)"
      ],
      "install": [
        "GFPGAN face restore uses the bundled <code>models/gfpgan/</code> folder (and its local Python env under <code>models/gfpgan/.GFPGAN/</code> when present).",
        "Upscayl model packs: place <code>.param</code> + <code>.bin</code> pairs under <code>models/upscayl/</code> (or <code>models/upscayl/resources/models</code>).",
        "Upscaler engines are included in externals; if missing, run the models-only downloader.",
        "General install flow: use <b>Install/Updates ‚Üí Option 1</b> to auto-detect environment, then <b>Option 2</b> for repair, or <b>Option 3/4</b> for full stacks."
      ],
      "troubleshoot": [
        "If outputs seem ‚Äúmissing‚Äù, use <b>View results</b> to open the exact output folder being used for the current run.",
        "If an engine/model isn‚Äôt showing up, confirm its folder exists under <code>models/</code> and restart the app (engine lists are built at tab load).",
        "If an upscaler binary is not detected, open <b>Models</b> and verify paths; run <code>scripts/download_externals.py</code> to fetch it.",
        "Run <b>install_menu.bat</b> and choose <b>Option 1 ‚Äî System check &amp; advisor</b> (creates venv if missing, checks Python/FFmpeg/GPU/VRAM, prints a full info page and recommends Option 3 or 4).",
        "If only the app is broken, run <b>Option 2 ‚Äî Core install</b> (quick repair, minimal download).",
        "If problems persist, pick a full stack: <b>Option 3 ‚Äî Full CPU (&lt; 6 GiB VRAM, ~3.5 GB download)</b> or <b>Option 4 ‚Äî Full GPU (‚â• 6 GiB VRAM, ~5 GB download)</b>.",
        "Still failing? <b>Delete the @@PH0@@ folder</b> and re-run Option 3 or 4. You <b>do not</b> need to delete helper binaries or models; it‚Äôs recommended to clear <b>cache</b> and <b>preset</b> files.",
        "If a model/tool is missing or corrupted, run the models-only downloader:<br><ul><li><b>Windows:</b> <code>python &quot;scripts\\download_externals.py&quot;</code></li><li><b>macOS/Linux:</b> <code>python scripts/download_externals.py</code></li></ul>",
        "Planned: <code>update.bat</code> will auto-check and update to the latest stable build."
      ]
    },
    "User_Friendly_Aspects": {
      "key_terms": [
        "User-friendly",
        "easy installer",
        "requirements check",
        "automated setup: Core/Full CPU/Full CUDA",
        "helpful tooltips",
        "resizable layout",
        "clear messages",
        "graceful fallbacks"
      ],
      "description": "Installer checks requirements/space. Setup options: Core (app only), Full CPU, Full CUDA. Tooltips everywhere; resizable splitter; clear errors/fallbacks (e.g., CPU if GPU fails).",
      "hints_tips": [
        "Run installer for automated setup.",
        "Tooltips provide instant help."
      ],
      "qa_pairs": [
        {
          "question": "Why is FrameVision user-friendly?",
          "answer": "Easy installer with checks, tooltips on all features, resizable UI, clear messages, and fallbacks like CPU mode."
        }
      ]
    },
    "Visual_music_play": {
      "description": "Play audio inside FrameVision with an info header overlay and optional beat-reactive visuals.",
      "key_terms": [
        "Album art & tags",
        "BPM/TBPM tag",
        "Beats per switch (8/16/32/64)",
        "Beat‚Äëreactive visuals",
        "Beat‚Äësync engine",
        "FAB (‚ô™)",
        "FAB (‚ô™) control button",
        "FFmpeg/Qt audio stack",
        "FFmpeg/Qt backend",
        "Info header (art/title/artist/album)",
        "Keyboard shortcuts (V/P/N)",
        "Kick/low‚Äëband detector",
        "Music Player overlay",
        "Persistence defaults",
        "Playlist navigation",
        "Repeat (all/1)",
        "TBPM / BPM tag",
        "Tempo lock",
        "Visuals modes: random/all/1"
      ],
      "overview": "Purpose: Play audio inside FrameVision with an info header overlay and optional beat-reactive visuals.<br><br>Default at launch<br><ul><li>Info header (cover art, title, artist, album) shows immediately</li><li>Visuals start OFF so the track can pre-analyze timing in the background</li><li>The ‚ô™ floating button (FAB) is visible and the control card opens by default</li></ul><br><br>Beat-sync<br><ul><li>In Random or All mode, visuals can switch exactly every 8 / 16 / 32 / 64 beats</li></ul><br><br>",
      "features": [
        "Info header (cover art, title, artist, album) shows immediately on open.",
        "Visuals are OFF by default to allow pre-analysis; toggle with the Visuals switch.",
        "Beat-sync switching exactly every 8 / 16 / 32 / 64 beats in ‚Äòrandom‚Äô or ‚Äòall‚Äô modes.",
        "Mode button cycles: random ‚Üí all ‚Üí 1 (no switching).",
        "Beats button cycles: 8 ‚Üí 16 ‚Üí 32 ‚Üí 64 (beats per switch).",
        "Primary tempo source: embedded BPM/TBPM tag; fallback kick/low-band detector estimates ms per beat.",
        "FAB (‚ô™) opens/closes the controls card; positioned near header with fixed offset.",
        "Playlist & transport: Add‚Ä¶, Clear, Prev/Next, Repeat (all/1), double‚Äëclick to play.",
        "Persistence: remembers last visual, mode, and beat interval between sessions; visuals start OFF on launch.",
        "Keyboard shortcuts: V (Visuals), P (Previous), N (Next); OS media keys may work."
      ],
      "controls": [
        "Floating Action Button (‚ô™): opens/closes music controls card (anchored near header).",
        "Info Header: glass panel showing cover art, title, artist, album; visible even when visuals are OFF.",
        "Playlist & Transport: Add‚Ä¶, Clear, Prev, Next, Repeat (all/1), double‚Äëclick to play track.",
        "Visuals toggle: enable/disable visual rendering (defaults OFF on launch).",
        "Mode button: random ‚Üí all ‚Üí 1.",
        "Visual selector: widened dropdown of visuals.",
        "Beats button: 8 ‚Üí 16 ‚Üí 32 ‚Üí 64 beats per switch."
      ],
      "_controls_meta": {
        "order": "top‚Äëto‚Äëbottom"
      },
      "install": [
        "Uses bundled FFmpeg/Qt backend for audio decoding; no separate install required.",
        "If media backends are missing, see InstallUpdates ‚Üí Install."
      ],
      "troubleshoot": [
        "If visuals don‚Äôt change on the beat: ensure Visuals ON and mode (random/all); fallback BPM detection may need a few seconds; try 16/32 beats.",
        "Header shows but no visual: expected when Visuals are OFF.",
        "Visuals start OFF each launch by design; toggle ON after playback starts.",
        "Difference between random vs all: random picks a new visual; all walks the list.",
        "Repeat affects playlist only; visuals switching is mode + beats.",
        "If visuals list feels cramped: widen the window or reduce UI scale.",
        "FAB overlaps UI: can be anchored to header bottom‚Äëright or offset; ask for a small patch."
      ],
      "hints_tips": [
        "For variable‚Äëenergy tracks, try 16 or 32 beats for more musical switching.",
        "Prefer a steady look? Set mode = ‚Äò1‚Äô ‚Äî Beats button remains but switching is disabled."
      ],
      "qa_pairs": [
        {
          "question": "Overview",
          "answer": "Purpose: Play audio inside FrameVision with an info header overlay and optional beat-reactive visuals.\n\nDefault at launch - Info header (cover art, title, artist, album) shows immediately - Visuals start OFF so the track can pre-analyze timing in the background - The ‚ô™ floating button (FAB) is visible and the control card opens by default\n\nBeat-sync - In Random or All mode, visuals can switch exactly every 8 / 16 / 32 / 64 beats"
        },
        {
          "question": "Quick start",
          "answer": "1) Open an audio file (MP3, WAV, FLAC, etc.). The header appears at the top of the video area.\n2) Turn Visuals ON (optional).\n3) Pick a visual, pick a mode (Random / All / 1), then pick Beats (8 / 16 / 32 / 64).\n4) Use Repeat (All / 1) and Prev/Next to navigate the playlist."
        },
        {
          "question": "Persistence & defaults",
          "answer": "- Remembers last visual, last mode, and last beat interval between sessions. - Exception: Visuals always start OFF on launch (even if they were ON last session)."
        },
        {
          "question": "Keyboard shortcuts",
          "answer": "- V: toggle Visuals on/off - P: previous track - N: next track\n(OS media keys may also work depending on your setup.)"
        },
        {
          "question": "File support & metadata",
          "answer": "- Most common audio types work (MP3, WAV, FLAC, etc.). - If the file has BPM/TBPM metadata, it will be used as the primary tempo source. - If not, a fallback kick/low-band detector estimates timing; it may take a few seconds to stabilize."
        },
        {
          "question": "Tips",
          "answer": "- 16 or 32 beats usually feels more musical than 8 for longer tracks. - If the intro is quiet, switching can start late; try 16/32 beats or jump forward slightly. - If you want a steady look, use mode 1 (no switching)."
        },
        {
          "question": "Visuals don‚Äôt change on the beat.",
          "answer": "- Check Visuals is ON. - Check mode is Random or All (mode 1 never switches). - If there is no BPM tag, give the fallback detector a few seconds. - Quiet intros can delay detection; try 16 or 32 beats."
        },
        {
          "question": "Header shows but no background visual.",
          "answer": "That‚Äôs normal when Visuals are OFF. Turn Visuals ON to render a background visual."
        },
        {
          "question": "Previous session had Visuals ON but they‚Äôre OFF now.",
          "answer": "By design: Visuals always start OFF on launch so timing can pre-analyze cleanly."
        },
        {
          "question": "Difference between ‚Äòrandom‚Äô and ‚Äòall‚Äô?",
          "answer": "- Random: picks a different visual every interval. - All: steps through the visual list in order every interval."
        },
        {
          "question": "Do Repeat controls affect visuals?",
          "answer": "No. Repeat affects playlist playback only. Visual switching is controlled by Mode + Beats."
        },
        {
          "question": "Visuals list is short / names truncated.",
          "answer": "Some visuals may be hidden or grouped depending on the build; names may be shortened to fit the dropdown. (If you want, we can add a tooltip-on-hover style later.)"
        },
        {
          "question": "Can I move the FAB (‚ô™)?",
          "answer": "Yes. The FAB position is an anchor + offset; it can be nudged to avoid overlap with the header or controls."
        }
      ],
      "_layout": "overview/features/install/troubleshoot",
      "article_md": "# Visual music play\n\nOverview\nPurpose: Play audio inside FrameVision with an info header overlay and optional beat-reactive visuals.\n\nDefault at launch - The info header (cover art, title, artist, album) shows immediately - Visuals start OFF so the track can pre-analyze timing in the background - The ‚ô™ floating button (FAB) is visible and the control card opens by default\n\nBeat-sync basics - Visuals can switch exactly every 8 / 16 / 32 / 64 beats - Switching happens only when mode is Random or All\n\nQuick start\n1) Open an audio file (MP3, WAV, FLAC, etc.).\n2) Turn Visuals ON (optional).\n3) Pick a visual, pick a mode (Random / All / 1), then pick Beats (8 / 16 / 32 / 64).\n4) Use Repeat (All / 1) and Prev/Next to move through the playlist.\n\nControls (top to bottom)\nFloating action button (‚ô™) - Opens/closes the music controls card\n\nInfo header - Shows cover art + title + artist + album - Stays visible even when Visuals are OFF\n\nPlaylist & transport - Add‚Ä¶ (add tracks), Clear (clear playlist) - Prev / Next - Repeat: All or 1 - Tip: double-click a track to play it\n\nVisuals row - Visuals toggle: ON/OFF (defaults OFF on launch) - Mode: Random / All / 1 - Random: picks a different visual every interval - All: walks the list in order every interval - 1: stays on the selected visual (no switching) - Visual selector: dropdown list of visuals - Beats: 8 / 16 / 32 / 64 (beats per switch)\n\nBeat-sync timing - First choice: BPM/TBPM tag in the audio metadata (if present) - Fallback: kick/low-band detector estimates ms per beat (may take a few seconds) - Switch rule: in Random/All mode, visuals change on the exact boundary of every N beats\n\nWhy Visuals start OFF - Helps the analyzer lock in timing so the first switch happens cleanly on-grid\n\nPersistence & defaults - Remembers last visual, last mode, and last beat interval between sessions - Exception: Visuals always start OFF on launch (even if you had them ON last time)\n\nKeyboard shortcuts - V: toggle Visuals on/off - P: previous track - N: next track\n\nTroubleshooting\nVisuals don‚Äôt change on the beat - Make sure Visuals are ON and mode is Random or All (mode 1 never switches) - If there‚Äôs no BPM tag, give the fallback detector a few seconds - Quiet intros can delay detection; try 16 or 32 beats\n\nHeader shows but no background visual - Normal when Visuals are OFF\n\nVisuals were ON last session but are OFF now - By design: Visuals always start OFF on launch\n\nRandom vs All - Random picks a different visual each interval - All steps through the list in order\n\nRepeat affects visuals - No. Repeat controls the playlist only; visual switching is controlled by Mode + Beats\n\nTips - For tracks with changing energy, 16 or 32 beats usually feels more musical than 8 - Want a steady look? Set mode to 1 (switching disabled)",
      "_meta": {
        "added_or_updated": "05:19:12",
        "source": "User-supplied Markdown (verbatim)",
        "updated": "05:29:34"
      },
      "quick_start_md": "1) Open an audio file (MP3, WAV, FLAC, etc.). The header appears at the top of the video area.\n2) Turn Visuals ON (optional).\n3) Pick a visual, pick a mode (Random / All / 1), then pick Beats (8 / 16 / 32 / 64).\n4) Use Repeat (All / 1) and Prev/Next to navigate the playlist.",
      "quick_start_steps": [
        "Open an audio file (MP3, WAV, FLAC, etc.). The header appears at the top of the video area.",
        "Turn Visuals ON (optional).",
        "Pick a visual, pick a mode (Random / All / 1), then pick Beats (8 / 16 / 32 / 64).",
        "Use Repeat (All / 1) and Prev/Next to navigate the playlist."
      ],
      "shortcuts": [
        "V ‚Äî toggle Visuals on/off.",
        "P ‚Äî previous track.",
        "N ‚Äî next track.",
        "(OS media keys may also work depending on your setup.)"
      ]
    },
    "Wan22_Video_Creation": {
      "description": "Generate videos with <b>Wan 2.2 TI2V‚Äë5B</b> inside FrameVision (text2video, image2video, and video‚Üívideo). Includes Extend chaining, Qwen prompt enhancer, and VRAM offload options.",
      "key_terms": [
        "WAN 2.2 TI2V‚Äë5B",
        "text2video",
        "image2video",
        "Video‚ÜíVideo",
        "Extend",
        "Auto‚Äëmerge",
        "Multi prompt",
        "Enhance prompt (Qwen3‚ÄëVL)",
        "Use queue",
        "T5 on CPU",
        "Offload model",
        ".wan_venv",
        "models/wan22",
        "output/video/wan22",
        "Media Explorer"
      ],
      "overview": "Wan 2.2 5B is FrameVision‚Äôs fast ‚Äútext ‚Üí video‚Äù and ‚Äúimage ‚Üí video‚Äù engine. It supports <b>prompt enhancement (Qwen3‚ÄëVL)</b>, <b>video‚Üívideo</b> (by extracting the last frame), and <b>Extend</b> (chaining extra segments).<br><br><b>Quick start (most common)</b><br>1. Open <b>Video Creation ‚Üí Engine: WAN 2.2</b>.<br>2. Pick a <b>Mode</b>:<br><ul><li><b>text2video</b>: start from a text prompt.</li><li><b>image2video</b>: add a <b>Start image</b> (or click <b>Use Current</b> to grab the current Media Player frame).</li></ul><br>3. Write a strong <b>Prompt</b>. Optionally click <b>Enhance prompt (Qwen)</b> for more detail/variety.<br>4. Set <b>Steps</b>, <b>Guidance</b>, <b>Frames</b>, <b>FPS</b>, and <b>Seed</b> (leave seed at - 1 for random).<br><ul><li>Default is <b>121 frames at 24 FPS</b> (‚âà 5 seconds).</li></ul><br>5. Click <b>Generate Video</b>.<br><br><b>Extend (longer videos)</b><br><ul><li>Set <b>Extend</b> to 1+ to generate extra segments.</li><li><b>Important:</b> Extend is <b>direct-run only</b>, so <b>turn OFF ‚ÄúUse queue‚Äù</b>. (The UI also nudges you toward this.)</li><li>If <b>Auto-merge</b> is enabled, FrameVision will merge the segments into one final MP4 at the end.</li></ul><br><br><b>Video‚ÜíVideo (style/scene continuation)</b><br><ul><li>Turn on <b>Video‚ÜíVideo</b> and select a source video.</li><li>FrameVision will extract the <b>last frame</b> of the source video and use it as the Start image, then run image2video.</li><li>If you also use <b>Extend + Auto-merge</b>, you can optionally <b>Include source in merge</b> (prepends the original clip before the new segments).</li></ul><br><br>",
      "features": [
        "Modes: text2video and image2video (TI2V‚Äë5B).",
        "Prompt enhancer: ‚ÄúEnhance prompt (Qwen)‚Äù runs the shared Qwen3‚ÄëVL helper from the app‚Äôs `.venv` and forces the prompt tool target to video.",
        "Extend: chain multiple segments by reusing the last frame of the previous segment as the next start image (direct runs only).",
        "Auto‚Äëmerge: merges chained segments into one file when Extend > 0; optional ‚ÄúInclude source in merge‚Äù for video‚Üívideo.",
        "Offload options: ‚ÄúT5 on CPU‚Äù (text encoder) and optional ‚ÄúOffload model‚Äù (main weights), to reduce VRAM at the cost of speed.",
        "Queue mode: run in the worker queue for safer background runs and batch generation.",
        "Results helpers: Play last, View results (opens Media Explorer on the output folder).",
        "Multi prompt: for Extend runs, lets you use a different prompt per extend segment (requires Extend ‚â• 1)."
      ],
      "qa_pairs": [
        {
          "question": "Text2video or image2video ‚Äî which one should I use?",
          "answer": "Use text2video for pure imagination / new scenes. Use image2video when you want control over the first frame (a keyframe, concept art, or a still)."
        },
        {
          "question": "What does ‚ÄúEnhance prompt (Qwen)‚Äù actually do?",
          "answer": "It runs the shared Qwen3‚ÄëVL prompt helper and replaces your prompt with a more detailed version. It‚Äôs great for adding camera language, materials, motion, and extra details."
        },
        {
          "question": "Where do the prompt enhancer presets live?",
          "answer": "Presets and detailed settings live in Tools ‚Üí Prompt enhancement. The WAN ‚ÄúEnhance prompt (Qwen)‚Äù button reuses those shared settings and forces the target to video."
        },
        {
          "question": "How do I make a longer video?",
          "answer": "Set Extend to 1+ to generate extra segments. Turn Use queue OFF (Extend is direct-run only). Keep Auto‚Äëmerge enabled if you want one final file."
        },
        {
          "question": "What is ‚ÄúMulti prompt‚Äù and when should I use it?",
          "answer": "When Extend ‚â• 1, Multi prompt lets you set a different prompt per segment so the video can evolve over time (instead of repeating the same idea)."
        },
        {
          "question": "What does Guidance mean?",
          "answer": "Guidance is how literally the model follows your prompt. Higher usually means more literal / less drift, but can also look less natural if pushed too far."
        },
        {
          "question": "What does ‚ÄúT5 on CPU‚Äù do?",
          "answer": "It offloads the WAN text encoder (T5) to CPU to save VRAM. It‚Äôs slower, but can be the difference between running and crashing on 8‚Äì12GB GPUs."
        },
        {
          "question": "Why is T5 on CPU disabled in direct mode?",
          "answer": "FrameVision disables it for direct runs to avoid stalls; it becomes available when the queue is effectively used (queue mode is safer for this kind of offload)."
        },
        {
          "question": "What does ‚ÄúOffload model‚Äù do?",
          "answer": "If supported by the underlying `generate.py`, it offloads parts of the main model weights to CPU during sampling. This reduces VRAM pressure but can slow generation a lot."
        },
        {
          "question": "How does Video‚ÜíVideo work here?",
          "answer": "You pick a source clip, and FrameVision extracts its last frame as the next Start image, then runs image2video to continue the motion/style."
        },
        {
          "question": "Where do my videos go?",
          "answer": "They‚Äôre saved under the app output folders (WAN defaults to `output/video/wan22`). Use View results to open Media Explorer on the right folder."
        },
        {
          "question": "How do I reuse something I‚Äôm already watching?",
          "answer": "Click Use Current to capture the current Media Player frame as the Start image (image2video)."
        }
      ],
      "controls": [
        "Control: Engine ‚Äî dropdown. Does: Select WAN 2.2 or HunyuanVideo 1.5 engine page.",
        "Control: Mode ‚Äî dropdown. Does: Choose text2video or image2video.",
        "Control: Prompt ‚Äî text box. Does: Describe what you want to see.",
        "Control: Enhance prompt (Qwen) ‚Äî button. Does: Expand the prompt using Qwen3‚ÄëVL helper.",
        "Control: Negative ‚Äî text box. Does: Describe what to avoid in the output.",
        "Control: Start image ‚Äî path/browse. Does: Starting frame for image2video (and for video‚Üívideo).",
        "Control: Use Current ‚Äî button. Does: Grab the current Media Player frame as the Start image.",
        "Control: Video‚ÜíVideo ‚Äî toggle/browse. Does: Use a source video; last frame becomes the Start image.",
        "Control: Steps ‚Äî spin/slider. Does: Sampling steps (quality vs speed).",
        "Control: Guidance ‚Äî spin/slider. Does: Prompt adherence strength.",
        "Control: Frames ‚Äî spinbox. Does: Length in frames.",
        "Control: FPS ‚Äî spinbox. Does: Playback FPS and duration relationship.",
        "Control: Seed ‚Äî spinbox. Does: Randomness; - 1 = random.",
        "Control: Batch ‚Äî spinbox. Does: Number of variations (queue-only when >1).",
        "Control: Extend ‚Äî spinbox. Does: Chain extra segments (direct-run only).",
        "Control: Auto‚Äëmerge ‚Äî checkbox. Does: Merge segments into one MP4 after extend finishes.",
        "Control: Include source in merge ‚Äî checkbox. Does: For video‚Üívideo + merge, prepend the original clip.",
        "Control: Multi prompt ‚Äî button. Does: Assign a per‚Äësegment prompt for extend chains.",
        "Control: T5 on CPU ‚Äî checkbox. Does: Offload text encoder to CPU (queue-enabled).",
        "Control: Offload model ‚Äî checkbox. Does: Offload main model weights to CPU if supported.",
        "Control: Use queue ‚Äî checkbox. Does: Run via worker queue (recommended for batch and some offload modes).",
        "Control: Generate Video ‚Äî button. Does: Start generation.",
        "Control: Play last ‚Äî button. Does: Open the last output.",
        "Control: View results ‚Äî button. Does: Open Media Explorer on WAN output folder."
      ],
      "install": [
        "WAN runs via the official <code>generate.py</code> CLI from <code>models/wan22</code>, using a dedicated Python if present: <code>.wan_venv</code> (falls back to the main interpreter).",
        "If WAN is missing or broken, use <b>Install/Updates</b> (full stack) or the <b>models-only downloader</b> (<code>scripts/download_externals.py</code>) to restore dependencies and model files.",
        "FFmpeg is used for merging when Extend + Auto‚Äëmerge is enabled (FrameVision prefers the bundled FFmpeg under <code>presets/bin/</code>)."
      ],
      "troubleshoot": [
        "If <b>Extend</b> is enabled but the app keeps forcing queue OFF: that‚Äôs expected ‚Äî Extend is <b>direct-run only</b>.",
        "If <b>T5 on CPU</b> is grayed out: it is only enabled when the queue is effectively used (to avoid stalls in direct mode).",
        "If prompt enhancement fails: verify the shared Qwen environment exists (<code>.venv</code>) and that <code>helpers/prompt_enhancer_cli.py</code> is present.",
        "If Auto‚Äëmerge fails: confirm FFmpeg exists in <code>presets/bin/</code> (or on PATH on non‚ÄëWindows builds).",
        "If output plays black/no frames: reduce Steps/Frames first and retry; also avoid running other VRAM-heavy jobs simultaneously (especially in direct mode)."
      ],
      "_layout": "overview/features/install/troubleshoot"
    },
    "Worker": {
      "description": "The Worker is a separate process that executes Queue jobs. This keeps the UI responsive and lets jobs keep running even if the main app is closed.<br><br>How jobs run<br><ul><li>Watches jobs/pending/ for *.json jobs.</li><li>Picks the oldest file first (FIFO by file modification time). Queue Move Up/Down works by changing that timestamp.</li><li>Moves the job into jobs/running/ and stamps started_at.</li><li>Creates/updates a sidecar &lt;job&gt;.progress.json with { &quot;pct&quot;: 0..100 }.</li><li>Patches the running job JSON with live fields when available: pct, elapsed_sec, eta_sec, stage, step, total, active_pid, active_cmd.</li><li>On completion stamps finished_at and duration_sec, merges produced/files back into the JSON, and moves the job to jobs/done/ or jobs/failed/.</li><li>Updates logs/worker_heartbeat.txt once per loop so the app can detect a stuck worker.</li></ul><br><br>Canceling a running job<br><ul><li>Set cancel_requested: true in the running job JSON, or create a.cancel file next to the running job JSON.</li><li>The worker will try to stop the active subprocess (Windows: taskkill /T /F; others: SIGTERM) and mark the job as canceled/failed.</li></ul><br><br>Job types supported (job[&quot;type&quot;])<br><ul><li>upscale_photo: Upscale a single image using NCNN upscalers (RealESR-general-x4v3, SwinIR-x4, LapSRN-x4). If a model exe isn‚Äôt found, it falls back to FFmpeg scale (Lanczos). Output names are made unique with _001, _002,...</li><li>upscale_video: Extracts frames, upscales, then re-encodes. Falls back to FFmpeg scale when needed. Output names are made unique with _001, _002,...</li><li>rife_interpolate: RIFE NCNN interpolation. If the RIFE exe is missing, it falls back to FFmpeg minterpolate. Supports preview_seconds, overwrite modes (overwrite / ask / skip), and will pick a unique output name when overwrite=ask.</li><li>tools_ffmpeg: Runs a caller-provided command (usually FFmpeg) from args.cmd or args.ffmpeg_cmd, with best-effort progress parsing. Can mark args.outfile as produced.</li><li>txt2img / txt2img_qwen: SD15 / SDXL / Z-Image through helpers.txt2img. If engine is zimage, it is strict (no legacy fallback). Other engines may fall back to the legacy Diffusers path.</li><li>wan22_text2video / wan22_image2video / wan22_ti2v / wan22: Runs models/wan22/generate.py (prefers.wan_venv Python if present) and parses stdout for step/progress/ETA when possible.</li><li>ace_text2music / ace_audio2audio / ace / ace_step / ace_music: Runs ACE-Step using presets/setsave/ace.json and parses stdout for progress/ETA when possible.</li></ul><br><br>Models, tools, and legacy migration<br><ul><li>Reads ROOT/models_manifest.json when present to resolve tool paths; otherwise tries common locations (tools_dir, models folder).</li><li>On startup, migrates legacy output/, jobs/, and logs/ from older FrameVision folder layouts into the current tree (renaming collisions with _migrated).</li></ul><br><br>Logs<br><ul><li>logs/run_&lt;timestamp&gt;.log: default log used by simple command runners.</li><li>logs/tools_&lt;jobid&gt;_&lt;timestamp&gt;.log: tools_ffmpeg output.</li><li>logs/wan22_&lt;timestamp&gt;.log: WAN 2.2 output.</li><li>logs/ace_&lt;timestamp&gt;.log: ACE-Step output.</li><li>Exit codes are appended at the bottom of each log.</li></ul><br><br>Quiet mode (less spammy logs)<br><ul><li>Disables some HuggingFace / diffusers progress bars and filters common warnings (for example the CLIP 77-token warning) so real errors stand out.</li></ul><br><br>Safety note<br><ul><li>Because it is a separate process, jobs can continue even if the main FrameVision UI closes; stopping the worker stops jobs.</li></ul>",
      "key_terms": [
        "Separate process",
        "jobs/pending",
        "jobs/running",
        "jobs/done",
        "jobs/failed",
        "started_at",
        "finished_at",
        "duration_sec",
        "pct",
        "elapsed_sec",
        "eta_sec",
        ".progress.json",
        "cancel_requested",
        ".cancel",
        "active_pid",
        "active_cmd",
        "worker_heartbeat.txt",
        "models_manifest.json",
        ".wan_venv",
        "upscale_photo",
        "upscale_video",
        "rife_interpolate",
        "tools_ffmpeg",
        "txt2img",
        "txt2img_qwen",
        "wan22_text2video",
        "wan22_image2video",
        "ace_text2music",
        "ace_audio2audio",
        "logs/run_*.log",
        "logs/tools_*.log",
        "logs/wan22_*.log",
        "logs/ace_*.log"
      ],
      "hints_tips": [
        "If a job fails, open the newest relevant log in logs/ (tools_..., wan22_..., ace_..., or run_...). The exit code is appended at the bottom.",
        "Queue ordering is FIFO by file modification time in jobs/pending/. Move Up/Down works by changing the pending job file timestamps.",
        "If jobs don‚Äôt move and logs/worker_heartbeat.txt stops updating, restart the worker.",
        "You can cancel a running job by setting cancel_requested: true in jobs/running/<job>.json or by creating a.cancel file next to it.",
        "Closing FrameVision‚Äôs main UI is safe: the worker can keep running jobs in the background. Jobs stop only if the worker is closed or crashes.",
        "Progress comes from two places: <job>.progress.json (pct) and patches to the running job JSON (pct plus timing/stage fields when available)."
      ],
      "qa_pairs": [
        {
          "question": "How does a job flow through the worker?",
          "answer": "Pending ‚Üí Running (move the JSON into jobs/running/, stamp started_at, create/update <job>.progress.json) ‚Üí Done/Failed (stamp finished_at and duration_sec, write final JSON, move to jobs/done/ or jobs/failed/)."
        },
        {
          "question": "Why does Move Up/Down in the Queue actually reorder jobs?",
          "answer": "The worker processes the oldest pending job first (FIFO by file modification time). Move Up/Down changes the pending job file timestamps, and the worker honors that order."
        },
        {
          "question": "Which job types can the worker run?",
          "answer": "Upscaler (upscale_photo/upscale_video), RIFE interpolation (rife_interpolate), FFmpeg/tools passthrough (tools_ffmpeg), txt2img (txt2img/txt2img_qwen), WAN 2.2 video generation (wan22_*), and ACE-Step music generation (ace_*)."
        },
        {
          "question": "Where do I find logs for a job?",
          "answer": "Look in logs/. tools_ffmpeg writes tools_<jobid>_<timestamp>.log, WAN writes wan22_<timestamp>.log, ACE writes ace_<timestamp>.log, and many other subprocess calls go into run_<timestamp>.log."
        },
        {
          "question": "Can I close FrameVision while a job is running?",
          "answer": "Yes. The worker is a separate process, so jobs can keep running even if the main UI is closed. Stopping the worker stops jobs."
        },
        {
          "question": "How do I cancel a running job?",
          "answer": "Set cancel_requested: true in the running job JSON (jobs/running/...) or create a.cancel file next to that JSON. The worker will try to kill the active subprocess tree (best-effort) and then finish the job as canceled/failed."
        },
        {
          "question": "How are model/tool executables found?",
          "answer": "The worker reads ROOT/models_manifest.json when present to resolve paths. If it can‚Äôt find a mapping, it also checks common locations (like tools_dir and the models folder) for known executables."
        }
      ]
    }
  }
}